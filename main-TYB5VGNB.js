var yH=Object.create;var _y=Object.defineProperty,_H=Object.defineProperties,xH=Object.getOwnPropertyDescriptor,bH=Object.getOwnPropertyDescriptors,CH=Object.getOwnPropertyNames,Af=Object.getOwnPropertySymbols,wH=Object.getPrototypeOf,xy=Object.prototype.hasOwnProperty,PE=Object.prototype.propertyIsEnumerable;var OE=(e,t,n)=>t in e?_y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||={})xy.call(t,n)&&OE(e,n,t[n]);if(Af)for(var n of Af(t))PE.call(t,n)&&OE(e,n,t[n]);return e},Ie=(e,t)=>_H(e,bH(t));var ln=(e,t)=>{var n={};for(var i in e)xy.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Af)for(var i of Af(e))t.indexOf(i)<0&&PE.call(e,i)&&(n[i]=e[i]);return n};var ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var SH=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of CH(t))!xy.call(e,r)&&r!==n&&_y(e,r,{get:()=>t[r],enumerable:!(i=xH(t,r))||i.enumerable});return e};var If=(e,t,n)=>(n=e!=null?yH(wH(e)):{},SH(t||!e||!e.__esModule?_y(n,"default",{value:e,enumerable:!0}):n,e));var $o=(e,t,n)=>new Promise((i,r)=>{var s=l=>{try{a(n.next(l))}catch(c){r(c)}},o=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});var $L=ne((i_e,gw)=>{"use strict";global.crypto&&global.crypto.getRandomValues?gw.exports.randomBytes=function(e){var t=new Uint8Array(e);return global.crypto.getRandomValues(t),t}:gw.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t}});var Ta=ne((r_e,GL)=>{"use strict";var r9=$L(),zL="abcdefghijklmnopqrstuvwxyz012345";GL.exports={string:function(e){for(var t=zL.length,n=r9.randomBytes(e),i=[],r=0;r<e;r++)i.push(zL.substr(n[r]%t,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}}});var Es=ne((s_e,Vg)=>{"use strict";var s9=Ta(),xc={},vw=!1,WL=global.chrome&&global.chrome.app&&global.chrome.app.runtime;Vg.exports={attachEvent:function(e,t){typeof global.addEventListener<"u"?global.addEventListener(e,t,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+e,t),global.attachEvent("on"+e,t))},detachEvent:function(e,t){typeof global.addEventListener<"u"?global.removeEventListener(e,t,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+e,t),global.detachEvent("on"+e,t))},unloadAdd:function(e){if(WL)return null;var t=s9.string(8);return xc[t]=e,vw&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in xc&&delete xc[e]},triggerUnloadCallbacks:function(){for(var e in xc)xc[e](),delete xc[e]}};var o9=function(){vw||(vw=!0,Vg.exports.triggerUnloadCallbacks())};WL||Vg.exports.attachEvent("unload",o9)});var YL=ne((o_e,qL)=>{"use strict";qL.exports=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}});var ZL=ne(yw=>{"use strict";var a9=Object.prototype.hasOwnProperty,l9;function XL(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function QL(e){try{return encodeURIComponent(e)}catch{return null}}function c9(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},i;i=t.exec(e);){var r=XL(i[1]),s=XL(i[2]);r===null||s===null||r in n||(n[r]=s)}return n}function u9(e,t){t=t||"";var n=[],i,r;typeof t!="string"&&(t="?");for(r in e)if(a9.call(e,r)){if(i=e[r],!i&&(i===null||i===l9||isNaN(i))&&(i=""),r=QL(r),i=QL(i),r===null||i===null)continue;n.push(r+"="+i)}return n.length?t+n.join("&"):""}yw.stringify=u9;yw.parse=c9});var bw=ne((l_e,rN)=>{"use strict";var JL=YL(),Bg=ZL(),d9=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,eN=/[\n\r\t]/g,h9=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,tN=/:\d+$/,f9=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,p9=/^[a-zA-Z]:/;function xw(e){return(e||"").toString().replace(d9,"")}var _w=[["#","hash"],["?","query"],function(t,n){return jr(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],KL={hash:1,query:1};function nN(e){var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var i={},r=typeof e,s;if(e.protocol==="blob:")i=new Hr(unescape(e.pathname),{});else if(r==="string"){i=new Hr(e,{});for(s in KL)delete i[s]}else if(r==="object"){for(s in e)s in KL||(i[s]=e[s]);i.slashes===void 0&&(i.slashes=h9.test(e.href))}return i}function jr(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function iN(e,t){e=xw(e),e=e.replace(eN,""),t=t||{};var n=f9.exec(e),i=n[1]?n[1].toLowerCase():"",r=!!n[2],s=!!n[3],o=0,a;return r?s?(a=n[2]+n[3]+n[4],o=n[2].length+n[3].length):(a=n[2]+n[4],o=n[2].length):s?(a=n[3]+n[4],o=n[3].length):a=n[4],i==="file:"?o>=2&&(a=a.slice(2)):jr(i)?a=n[4]:i?r&&(a=a.slice(2)):o>=2&&jr(t.protocol)&&(a=n[4]),{protocol:i,slashes:r||jr(i),slashesCount:o,rest:a}}function m9(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],s=!1,o=0;i--;)n[i]==="."?n.splice(i,1):n[i]===".."?(n.splice(i,1),o++):o&&(i===0&&(s=!0),n.splice(i,1),o--);return s&&n.unshift(""),(r==="."||r==="..")&&n.push(""),n.join("/")}function Hr(e,t,n){if(e=xw(e),e=e.replace(eN,""),!(this instanceof Hr))return new Hr(e,t,n);var i,r,s,o,a,l,c=_w.slice(),u=typeof t,d=this,h=0;for(u!=="object"&&u!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=Bg.parse),t=nN(t),r=iN(e||"",t),i=!r.protocol&&!r.slashes,d.slashes=r.slashes||i&&t.slashes,d.protocol=r.protocol||t.protocol||"",e=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||p9.test(e))||!r.slashes&&(r.protocol||r.slashesCount<2||!jr(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);h<c.length;h++){if(o=c[h],typeof o=="function"){e=o(e,d);continue}s=o[0],l=o[1],s!==s?d[l]=e:typeof s=="string"?(a=s==="@"?e.lastIndexOf(s):e.indexOf(s),~a&&(typeof o[2]=="number"?(d[l]=e.slice(0,a),e=e.slice(a+o[2])):(d[l]=e.slice(a),e=e.slice(0,a)))):(a=s.exec(e))&&(d[l]=a[1],e=e.slice(0,a.index)),d[l]=d[l]||i&&o[3]&&t[l]||"",o[4]&&(d[l]=d[l].toLowerCase())}n&&(d.query=n(d.query)),i&&t.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||t.pathname!=="")&&(d.pathname=m9(d.pathname,t.pathname)),d.pathname.charAt(0)!=="/"&&jr(d.protocol)&&(d.pathname="/"+d.pathname),JL(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(a=d.auth.indexOf(":"),~a?(d.username=d.auth.slice(0,a),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(a+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&jr(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function g9(e,t,n){var i=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||Bg.parse)(t)),i[e]=t;break;case"port":i[e]=t,JL(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,tN.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var r=e==="pathname"?"/":"#";i[e]=t.charAt(0)!==r?r+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(i.username=t.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var o=0;o<_w.length;o++){var a=_w[o];a[4]&&(i[a[1]]=i[a[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&jr(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function v9(e){(!e||typeof e!="function")&&(e=Bg.stringify);var t,n=this,i=n.host,r=n.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var s=r+(n.protocol&&n.slashes||jr(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):n.protocol!=="file:"&&jr(n.protocol)&&!i&&n.pathname!=="/"&&(s+="@"),(i[i.length-1]===":"||tN.test(n.hostname)&&!n.port)&&(i+=":"),s+=i+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(s+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(s+=n.hash),s}Hr.prototype={set:g9,toString:v9};Hr.extractProtocol=iN;Hr.location=nN;Hr.trimLeft=xw;Hr.qs=Bg;rN.exports=Hr});var Si=ne((c_e,sN)=>{"use strict";var y9=bw(),_9=function(){};sN.exports={getOrigin:function(e){if(!e)return null;var t=new y9(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return _9("same",e,t,n),n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}});var tt=ne((u_e,Cw)=>{"use strict";typeof Object.create=="function"?Cw.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Cw.exports=function(t,n){if(n){t.super_=n;var i=function(){};i.prototype=n.prototype,t.prototype=new i,t.prototype.constructor=t}}});var ww=ne((d_e,oN)=>{"use strict";function jg(){this._listeners={}}jg.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};jg.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var i=n.indexOf(t);if(i!==-1){n.length>1?this._listeners[e]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[e];return}}};jg.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var i=this._listeners[t],r=0;r<i.length;r++)i[r].apply(this,n)};oN.exports=jg});var Dn=ne((h_e,aN)=>{"use strict";var x9=tt(),Hg=ww();function yo(){Hg.call(this)}x9(yo,Hg);yo.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};yo.prototype.once=function(e,t){var n=this,i=!1;function r(){n.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}this.on(e,r)};yo.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,i=new Array(n-1),r=1;r<n;r++)i[r-1]=arguments[r];for(var s=0;s<t.length;s++)t[s].apply(this,i)}};yo.prototype.on=yo.prototype.addListener=Hg.prototype.addEventListener;yo.prototype.removeListener=Hg.prototype.removeEventListener;aN.exports.EventEmitter=yo});var cN=ne((f_e,Sw)=>{"use strict";var lN=global.WebSocket||global.MozWebSocket;lN?Sw.exports=function(t){return new lN(t)}:Sw.exports=void 0});var pN=ne((p_e,fN)=>{"use strict";var uN=Es(),b9=Si(),C9=tt(),dN=Dn().EventEmitter,hN=cN(),As=function(){};function Is(e,t,n){if(!Is.enabled())throw new Error("Transport created when disabled");dN.call(this),As("constructor",e);var i=this,r=b9.addPath(e,"/websocket");r.slice(0,5)==="https"?r="wss"+r.slice(5):r="ws"+r.slice(4),this.url=r,this.ws=new hN(this.url,[],n),this.ws.onmessage=function(s){As("message event",s.data),i.emit("message",s.data)},this.unloadRef=uN.unloadAdd(function(){As("unload"),i.ws.close()}),this.ws.onclose=function(s){As("close event",s.code,s.reason),i.emit("close",s.code,s.reason),i._cleanup()},this.ws.onerror=function(s){As("error event",s),i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}C9(Is,dN);Is.prototype.send=function(e){var t="["+e+"]";As("send",t),this.ws.send(t)};Is.prototype.close=function(){As("close");var e=this.ws;this._cleanup(),e&&e.close()};Is.prototype._cleanup=function(){As("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),uN.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Is.enabled=function(){return As("enabled"),!!hN};Is.transportName="websocket";Is.roundTrips=2;fN.exports=Is});var vN=ne((m_e,gN)=>{"use strict";var w9=tt(),mN=Dn().EventEmitter,ks=function(){};function Da(e,t){ks(e),mN.call(this),this.sendBuffer=[],this.sender=t,this.url=e}w9(Da,mN);Da.prototype.send=function(e){ks("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};Da.prototype.sendScheduleWait=function(){ks("sendScheduleWait");var e=this,t;this.sendStop=function(){ks("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){ks("timeout"),e.sendStop=null,e.sendSchedule()},25)};Da.prototype.sendSchedule=function(){ks("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(ks("error",n),e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};Da.prototype._cleanup=function(){ks("_cleanup"),this.removeAllListeners()};Da.prototype.close=function(){ks("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};gN.exports=Da});var xN=ne((g_e,_N)=>{"use strict";var S9=tt(),yN=Dn().EventEmitter,Ld=function(){};function Ug(e,t,n){Ld(t),yN.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}S9(Ug,yN);Ug.prototype._scheduleReceiver=function(){Ld("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){Ld("message",n),e.emit("message",n)}),t.once("close",function(n,i){Ld("close",n,i,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(i==="network"?e._scheduleReceiver():(e.emit("close",n||1006,i),e.removeAllListeners()))})};Ug.prototype.abort=function(){Ld("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};_N.exports=Ug});var Ew=ne((v_e,bN)=>{"use strict";var T9=tt(),D9=Si(),Tw=vN(),E9=xN(),$g=function(){};function Dw(e,t,n,i,r){var s=D9.addPath(e,t);$g(s);var o=this;Tw.call(this,e,n),this.poll=new E9(i,s,r),this.poll.on("message",function(a){$g("poll message",a),o.emit("message",a)}),this.poll.once("close",function(a,l){$g("poll close",a,l),o.poll=null,o.emit("close",a,l),o.close()})}T9(Dw,Tw);Dw.prototype.close=function(){Tw.prototype.close.call(this),$g("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};bN.exports=Dw});var Ea=ne((y_e,SN)=>{"use strict";var A9=tt(),I9=Si(),CN=Ew(),Aw=function(){};function k9(e){return function(t,n,i){Aw("create ajax sender",t,n);var r={};typeof n=="string"&&(r.headers={"Content-type":"text/plain"});var s=I9.addPath(t,"/xhr_send"),o=new e("POST",s,n,r);return o.once("finish",function(a){if(Aw("finish",a),o=null,a!==200&&a!==204)return i(new Error("http status "+a));i()}),function(){Aw("abort"),o.close(),o=null;var a=new Error("Aborted");a.code=1e3,i(a)}}}function wN(e,t,n,i){CN.call(this,e,t,k9(i),n,i)}A9(wN,CN);SN.exports=wN});var Fd=ne((__e,DN)=>{"use strict";var M9=tt(),TN=Dn().EventEmitter,_o=function(){};function Nd(e,t){_o(e),TN.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(i,r){_o("finish",i,r),n._chunkHandler(i,r),n.xo=null;var s=i===200?"network":"permanent";_o("close",s),n.emit("close",null,s),n._cleanup()})}M9(Nd,TN);Nd.prototype._chunkHandler=function(e,t){if(_o("_chunkHandler",e),!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var i=t.slice(this.bufferPosition);if(n=i.indexOf(`
`),n===-1)break;var r=i.slice(0,n);r&&(_o("message",r),this.emit("message",r))}};Nd.prototype._cleanup=function(){_o("_cleanup"),this.removeAllListeners()};Nd.prototype.abort=function(){_o("abort"),this.xo&&(this.xo.close(),_o("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};DN.exports=Nd});var Iw=ne((x_e,MN)=>{"use strict";var AN=Dn().EventEmitter,R9=tt(),IN=Es(),L9=Si(),Od=global.XMLHttpRequest,ei=function(){};function Ur(e,t,n,i){ei(e,t);var r=this;AN.call(this),setTimeout(function(){r._start(e,t,n,i)},0)}R9(Ur,AN);Ur.prototype._start=function(e,t,n,i){var r=this;try{this.xhr=new Od}catch{}if(!this.xhr){ei("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}t=L9.addQuery(t,"t="+ +new Date),this.unloadRef=IN.unloadAdd(function(){ei("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){ei("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(o){ei("exception",o),this.emit("finish",0,""),this._cleanup(!1);return}if((!i||!i.noCredentials)&&Ur.supportsCORS&&(ei("withCredentials"),this.xhr.withCredentials=!0),i&&i.headers)for(var s in i.headers)this.xhr.setRequestHeader(s,i.headers[s]);this.xhr.onreadystatechange=function(){if(r.xhr){var o=r.xhr,a,l;switch(ei("readyState",o.readyState),o.readyState){case 3:try{l=o.status,a=o.responseText}catch{}ei("status",l),l===1223&&(l=204),l===200&&a&&a.length>0&&(ei("chunk"),r.emit("chunk",l,a));break;case 4:l=o.status,ei("status",l),l===1223&&(l=204),(l===12005||l===12029)&&(l=0),ei("finish",l,o.responseText),r.emit("finish",l,o.responseText),r._cleanup(!1);break}}};try{r.xhr.send(n)}catch{r.emit("finish",0,""),r._cleanup(!1)}};Ur.prototype._cleanup=function(e){if(ei("cleanup"),!!this.xhr){if(this.removeAllListeners(),IN.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};Ur.prototype.close=function(){ei("close"),this._cleanup(!0)};Ur.enabled=!!Od;var EN=["Active"].concat("Object").join("X");!Ur.enabled&&EN in global&&(ei("overriding xmlhttprequest"),Od=function(){try{return new global[EN]("Microsoft.XMLHTTP")}catch{return null}},Ur.enabled=!!new Od);var kN=!1;try{kN="withCredentials"in new Od}catch{}Ur.supportsCORS=kN;MN.exports=Ur});var Pd=ne((b_e,RN)=>{"use strict";var N9=tt(),zg=Iw();function kw(e,t,n,i){zg.call(this,e,t,n,i)}N9(kw,zg);kw.enabled=zg.enabled&&zg.supportsCORS;RN.exports=kw});var bc=ne((C_e,LN)=>{"use strict";var F9=tt(),Mw=Iw();function Rw(e,t,n){Mw.call(this,e,t,n,{noCredentials:!0})}F9(Rw,Mw);Rw.enabled=Mw.enabled;LN.exports=Rw});var Cc=ne((w_e,NN)=>{"use strict";NN.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var PN=ne((S_e,ON)=>{"use strict";var O9=tt(),FN=Ea(),P9=Fd(),Lw=Pd(),V9=bc(),B9=Cc();function wc(e){if(!V9.enabled&&!Lw.enabled)throw new Error("Transport created when disabled");FN.call(this,e,"/xhr_streaming",P9,Lw)}O9(wc,FN);wc.enabled=function(e){return e.nullOrigin||B9.isOpera()?!1:Lw.enabled};wc.transportName="xhr-streaming";wc.roundTrips=2;wc.needBody=!!global.document;ON.exports=wc});var Gg=ne((T_e,jN)=>{"use strict";var VN=Dn().EventEmitter,j9=tt(),BN=Es(),H9=Cc(),U9=Si(),xo=function(){};function Aa(e,t,n){xo(e,t);var i=this;VN.call(this),setTimeout(function(){i._start(e,t,n)},0)}j9(Aa,VN);Aa.prototype._start=function(e,t,n){xo("_start");var i=this,r=new global.XDomainRequest;t=U9.addQuery(t,"t="+ +new Date),r.onerror=function(){xo("onerror"),i._error()},r.ontimeout=function(){xo("ontimeout"),i._error()},r.onprogress=function(){xo("progress",r.responseText),i.emit("chunk",200,r.responseText)},r.onload=function(){xo("load"),i.emit("finish",200,r.responseText),i._cleanup(!1)},this.xdr=r,this.unloadRef=BN.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};Aa.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};Aa.prototype._cleanup=function(e){if(xo("cleanup",e),!!this.xdr){if(this.removeAllListeners(),BN.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};Aa.prototype.close=function(){xo("close"),this._cleanup(!0)};Aa.enabled=!!(global.XDomainRequest&&H9.hasDomain());jN.exports=Aa});var Fw=ne((D_e,UN)=>{"use strict";var $9=tt(),HN=Ea(),z9=Fd(),Nw=Gg();function Vd(e){if(!Nw.enabled)throw new Error("Transport created when disabled");HN.call(this,e,"/xhr_streaming",z9,Nw)}$9(Vd,HN);Vd.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:Nw.enabled&&e.sameScheme};Vd.transportName="xdr-streaming";Vd.roundTrips=2;UN.exports=Vd});var Ow=ne((E_e,$N)=>{"use strict";$N.exports=global.EventSource});var WN=ne((A_e,GN)=>{"use strict";var G9=tt(),zN=Dn().EventEmitter,W9=Ow(),Sc=function(){};function Bd(e){Sc(e),zN.call(this);var t=this,n=this.es=new W9(e);n.onmessage=function(i){Sc("message",i.data),t.emit("message",decodeURI(i.data))},n.onerror=function(i){Sc("error",n.readyState,i);var r=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(r)}}G9(Bd,zN);Bd.prototype.abort=function(){Sc("abort"),this._cleanup(),this._close("user")};Bd.prototype._cleanup=function(){Sc("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};Bd.prototype._close=function(e){Sc("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};GN.exports=Bd});var Pw=ne((I_e,YN)=>{"use strict";var q9=tt(),qN=Ea(),Y9=WN(),X9=Pd(),Q9=Ow();function Tc(e){if(!Tc.enabled())throw new Error("Transport created when disabled");qN.call(this,e,"/eventsource",Y9,X9)}q9(Tc,qN);Tc.enabled=function(){return!!Q9};Tc.transportName="eventsource";Tc.roundTrips=2;YN.exports=Tc});var Vw=ne((k_e,XN)=>{"use strict";XN.exports="1.6.1"});var Dc=ne((M_e,Ms)=>{"use strict";var Wg=Es(),Z9=Cc(),Ia=function(){};Ms.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){Ms.exports.WPrefix in global||(global[Ms.exports.WPrefix]={})},postMessage:function(e,t){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:Ms.exports.currentWindowId,type:e,data:t||""}),"*"):Ia("Cannot postMessage, no parent window.",e,t)},createIframe:function(e,t){var n=global.document.createElement("iframe"),i,r,s=function(){Ia("unattach"),clearTimeout(i);try{n.onload=null}catch{}n.onerror=null},o=function(){Ia("cleanup"),n&&(s(),setTimeout(function(){n&&n.parentNode.removeChild(n),n=null},0),Wg.unloadDel(r))},a=function(c){Ia("onerror",c),n&&(o(),t(c))},l=function(c,u){Ia("post",c,u),setTimeout(function(){try{n&&n.contentWindow&&n.contentWindow.postMessage(c,u)}catch{}},0)};return n.src=e,n.style.display="none",n.style.position="absolute",n.onerror=function(){a("onerror")},n.onload=function(){Ia("onload"),clearTimeout(i),i=setTimeout(function(){a("onload timeout")},2e3)},global.document.body.appendChild(n),i=setTimeout(function(){a("timeout")},15e3),r=Wg.unloadAdd(o),{post:l,cleanup:o,loaded:s}},createHtmlfile:function(e,t){var n=["Active"].concat("Object").join("X"),i=new global[n]("htmlfile"),r,s,o,a=function(){clearTimeout(r),o.onerror=null},l=function(){i&&(a(),Wg.unloadDel(s),o.parentNode.removeChild(o),o=i=null,CollectGarbage())},c=function(h){Ia("onerror",h),i&&(l(),t(h))},u=function(h,f){try{setTimeout(function(){o&&o.contentWindow&&o.contentWindow.postMessage(h,f)},0)}catch{}};i.open(),i.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),i.close(),i.parentWindow[Ms.exports.WPrefix]=global[Ms.exports.WPrefix];var d=i.createElement("div");return i.body.appendChild(d),o=i.createElement("iframe"),d.appendChild(o),o.src=e,o.onerror=function(){c("onerror")},r=setTimeout(function(){c("timeout")},15e3),s=Wg.unloadAdd(l),{post:u,cleanup:l,loaded:a}}};Ms.exports.iframeEnabled=!1;global.document&&(Ms.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!Z9.isKonqueror())});var jw=ne((R_e,JN)=>{"use strict";var K9=tt(),QN=Dn().EventEmitter,J9=Vw(),Bw=Si(),ZN=Dc(),KN=Es(),eX=Ta(),$r=function(){};function zr(e,t,n){if(!zr.enabled())throw new Error("Transport created when disabled");QN.call(this);var i=this;this.origin=Bw.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=eX.string(8);var r=Bw.addPath(n,"/iframe.html")+"#"+this.windowId;$r(e,t,r),this.iframeObj=ZN.createIframe(r,function(s){$r("err callback"),i.emit("close",1006,"Unable to load an iframe ("+s+")"),i.close()}),this.onmessageCallback=this._message.bind(this),KN.attachEvent("message",this.onmessageCallback)}K9(zr,QN);zr.prototype.close=function(){if($r("close"),this.removeAllListeners(),this.iframeObj){KN.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};zr.prototype._message=function(e){if($r("message",e.data),!Bw.isOriginEqual(e.origin,this.origin)){$r("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{$r("bad json",e.data);return}if(t.windowId!==this.windowId){$r("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([J9,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{$r("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};zr.prototype.postMessage=function(e,t){$r("postMessage",e,t),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};zr.prototype.send=function(e){$r("send",e),this.postMessage("m",e)};zr.enabled=function(){return ZN.iframeEnabled};zr.transportName="iframe";zr.roundTrips=2;JN.exports=zr});var qg=ne((L_e,eF)=>{"use strict";eF.exports={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}}});var Xg=ne((N_e,tF)=>{"use strict";var tX=tt(),Yg=jw(),nX=qg();tF.exports=function(e){function t(n,i){Yg.call(this,e.transportName,n,i)}return tX(t,Yg),t.enabled=function(n,i){if(!global.document)return!1;var r=nX.extend({},i);return r.sameOrigin=!0,e.enabled(r)&&Yg.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=Yg.roundTrips+e.roundTrips-1,t.facadeTransport=e,t}});var sF=ne((F_e,rF)=>{"use strict";var iX=tt(),ka=Dc(),rX=Si(),iF=Dn().EventEmitter,sX=Ta(),Rs=function(){};function mr(e){Rs(e),iF.call(this);var t=this;ka.polluteGlobalNamespace(),this.id="a"+sX.string(6),e=rX.addQuery(e,"c="+decodeURIComponent(ka.WPrefix+"."+this.id)),Rs("using htmlfile",mr.htmlfileEnabled);var n=mr.htmlfileEnabled?ka.createHtmlfile:ka.createIframe;global[ka.WPrefix][this.id]={start:function(){Rs("start"),t.iframeObj.loaded()},message:function(i){Rs("message",i),t.emit("message",i)},stop:function(){Rs("stop"),t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){Rs("callback"),t._cleanup(),t._close("permanent")})}iX(mr,iF);mr.prototype.abort=function(){Rs("abort"),this._cleanup(),this._close("user")};mr.prototype._cleanup=function(){Rs("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[ka.WPrefix][this.id]};mr.prototype._close=function(e){Rs("_close",e),this.emit("close",null,e),this.removeAllListeners()};mr.htmlfileEnabled=!1;var nF=["Active"].concat("Object").join("X");if(nF in global)try{mr.htmlfileEnabled=!!new global[nF]("htmlfile")}catch{}mr.enabled=mr.htmlfileEnabled||ka.iframeEnabled;rF.exports=mr});var Uw=ne((O_e,aF)=>{"use strict";var oX=tt(),Hw=sF(),aX=bc(),oF=Ea();function jd(e){if(!Hw.enabled)throw new Error("Transport created when disabled");oF.call(this,e,"/htmlfile",Hw,aX)}oX(jd,oF);jd.enabled=function(e){return Hw.enabled&&e.sameOrigin};jd.transportName="htmlfile";jd.roundTrips=2;aF.exports=jd});var zw=ne((P_e,uF)=>{"use strict";var lX=tt(),lF=Ea(),cX=Fd(),$w=Pd(),cF=bc();function Hd(e){if(!cF.enabled&&!$w.enabled)throw new Error("Transport created when disabled");lF.call(this,e,"/xhr",cX,$w)}lX(Hd,lF);Hd.enabled=function(e){return e.nullOrigin?!1:cF.enabled&&e.sameOrigin?!0:$w.enabled};Hd.transportName="xhr-polling";Hd.roundTrips=2;uF.exports=Hd});var pF=ne((V_e,fF)=>{"use strict";var uX=tt(),hF=Ea(),dX=Fw(),hX=Fd(),dF=Gg();function Ud(e){if(!dF.enabled)throw new Error("Transport created when disabled");hF.call(this,e,"/xhr",hX,dF)}uX(Ud,hF);Ud.enabled=dX.enabled;Ud.transportName="xdr-polling";Ud.roundTrips=2;fF.exports=Ud});var yF=ne((B_e,vF)=>{"use strict";var $d=Dc(),mF=Ta(),fX=Cc(),pX=Si(),mX=tt(),gF=Dn().EventEmitter,gr=function(){};function zi(e){gr(e);var t=this;gF.call(this),$d.polluteGlobalNamespace(),this.id="a"+mF.string(6);var n=pX.addQuery(e,"c="+encodeURIComponent($d.WPrefix+"."+this.id));global[$d.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){gr("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},zi.timeout)}mX(zi,gF);zi.prototype.abort=function(){if(gr("abort"),global[$d.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};zi.timeout=35e3;zi.scriptErrorTimeout=1e3;zi.prototype._callback=function(e){gr("_callback",e),this._cleanup(),!this.aborting&&(e&&(gr("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())};zi.prototype._abort=function(e){gr("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};zi.prototype._cleanup=function(){if(gr("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete global[$d.WPrefix][this.id]};zi.prototype._scriptError=function(){gr("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},zi.scriptErrorTimeout))};zi.prototype._createScript=function(e){gr("_createScript",e);var t=this,n=this.script=global.document.createElement("script"),i;if(n.id="a"+mF.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){gr("onload"),t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(gr("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&global.document.attachEvent)if(fX.isOpera())i=this.script2=global.document.createElement("script"),i.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=i.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var r=global.document.getElementsByTagName("head")[0];r.insertBefore(n,r.firstChild),i&&r.insertBefore(i,r.firstChild)};vF.exports=zi});var bF=ne((j_e,xF)=>{"use strict";var gX=Ta(),_F=Si(),Ls=function(){},Ti,zd;function vX(e){Ls("createIframe",e);try{return global.document.createElement('<iframe name="'+e+'">')}catch{var t=global.document.createElement("iframe");return t.name=e,t}}function yX(){Ls("createForm"),Ti=global.document.createElement("form"),Ti.style.display="none",Ti.style.position="absolute",Ti.method="POST",Ti.enctype="application/x-www-form-urlencoded",Ti.acceptCharset="UTF-8",zd=global.document.createElement("textarea"),zd.name="d",Ti.appendChild(zd),global.document.body.appendChild(Ti)}xF.exports=function(e,t,n){Ls(e,t),Ti||yX();var i="a"+gX.string(8);Ti.target=i,Ti.action=_F.addQuery(_F.addPath(e,"/jsonp_send"),"i="+i);var r=vX(i);r.id=i,r.style.display="none",Ti.appendChild(r);try{zd.value=t}catch{}Ti.submit();var s=function(o){Ls("completed",i,o),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){Ls("cleaning up",i),r.parentNode.removeChild(r),r=null},500),zd.value="",n(o))};return r.onerror=function(){Ls("onerror",i),s()},r.onload=function(){Ls("onload",i),s()},r.onreadystatechange=function(o){Ls("onreadystatechange",i,r.readyState,o),r.readyState==="complete"&&s()},function(){Ls("aborted",i),s(new Error("Aborted"))}}});var SF=ne((H_e,wF)=>{"use strict";var _X=tt(),CF=Ew(),xX=yF(),bX=bF();function Ma(e){if(!Ma.enabled())throw new Error("Transport created when disabled");CF.call(this,e,"/jsonp",bX,xX)}_X(Ma,CF);Ma.enabled=function(){return!!global.document};Ma.transportName="jsonp-polling";Ma.roundTrips=1;Ma.needBody=!0;wF.exports=Ma});var DF=ne((U_e,TF)=>{"use strict";TF.exports=[pN(),PN(),Fw(),Pw(),Xg()(Pw()),Uw(),Xg()(Uw()),zw(),pF(),Xg()(zw()),SF()]});var LF=ne(()=>{"use strict";var Gd=Array.prototype,Yw=Object.prototype,CX=Function.prototype,Wd=String.prototype,Gw=Gd.slice,Xw=Yw.toString,IF=function(e){return Yw.toString.call(e)==="[object Function]"},wX=function(t){return Xw.call(t)==="[object Array]"},kF=function(t){return Xw.call(t)==="[object String]"},SX=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),qw;SX?qw=function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:qw=function(e,t,n,i){!i&&t in e||(e[t]=n)};var qd=function(e,t,n){for(var i in t)Yw.hasOwnProperty.call(t,i)&&qw(e,i,t[i],n)},MF=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function TX(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function DX(e){return e>>>0}function Ww(){}qd(CX,{bind:function(t){var n=this;if(!IF(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=Gw.call(arguments,1),r=function(){if(this instanceof l){var c=n.apply(this,i.concat(Gw.call(arguments)));return Object(c)===c?c:this}else return n.apply(t,i.concat(Gw.call(arguments)))},s=Math.max(0,n.length-i.length),o=[],a=0;a<s;a++)o.push("$"+a);var l=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return n.prototype&&(Ww.prototype=n.prototype,l.prototype=new Ww,Ww.prototype=null),l}});qd(Array,{isArray:wX});var EF=Object("a"),RF=EF[0]!=="a"||!(0 in EF),EX=function(t){var n=!0,i=!0;return t&&(t.call("foo",function(r,s,o){typeof o!="object"&&(n=!1)}),t.call([1],function(){"use strict";i=typeof this=="string"},"x")),!!t&&n&&i};qd(Gd,{forEach:function(t){var n=MF(this),i=RF&&kF(this)?this.split(""):n,r=arguments[1],s=-1,o=i.length>>>0;if(!IF(t))throw new TypeError;for(;++s<o;)s in i&&t.call(r,i[s],s,n)}},!EX(Gd.forEach));var AX=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;qd(Gd,{indexOf:function(t){var n=RF&&kF(this)?this.split(""):MF(this),i=n.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=TX(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in n&&n[r]===t)return r;return-1}},AX);var AF=Wd.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;Wd.split=function(t,n){var i=this;if(t===void 0&&n===0)return[];if(Xw.call(t)!=="[object RegExp]")return AF.call(this,t,n);var r=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),o=0,a,l,c,u;for(t=new RegExp(t.source,s+"g"),i+="",e||(a=new RegExp("^"+t.source+"$(?!\\s)",s)),n=n===void 0?-1>>>0:DX(n);(l=t.exec(i))&&(c=l.index+l[0].length,!(c>o&&(r.push(i.slice(o,l.index)),!e&&l.length>1&&l[0].replace(a,function(){for(var d=1;d<arguments.length-2;d++)arguments[d]===void 0&&(l[d]=void 0)}),l.length>1&&l.index<i.length&&Gd.push.apply(r,l.slice(1)),u=l[0].length,o=c,r.length>=n)));)t.lastIndex===l.index&&t.lastIndex++;return o===i.length?(u||!t.test(""))&&r.push(""):r.push(i.slice(o)),r.length>n?r.slice(0,n):r}}():"0".split(void 0,0).length&&(Wd.split=function(t,n){return t===void 0&&n===0?[]:AF.call(this,t,n)});var IX=Wd.substr,kX="".substr&&"0b".substr(-1)!=="b";qd(Wd,{substr:function(t,n){return IX.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},kX)});var FF=ne((G_e,NF)=>{"use strict";var Qg=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Qw,MX=function(e){var t,n={},i=[];for(t=0;t<65536;t++)i.push(String.fromCharCode(t));return e.lastIndex=0,i.join("").replace(e,function(r){return n[r]="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};NF.exports={quote:function(e){var t=JSON.stringify(e);return Qg.lastIndex=0,Qg.test(t)?(Qw||(Qw=MX(Qg)),t.replace(Qg,function(n){return Qw[n]})):t}}});var PF=ne((W_e,OF)=>{"use strict";var Zg=function(){};OF.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(r){if(r){if(r.transportName==="websocket"&&n.websocket===!1){Zg("disabled from server","websocket");return}if(t.length&&t.indexOf(r.transportName)===-1){Zg("not in whitelist",r.transportName);return}r.enabled(n)?(Zg("enabled",r.transportName),i.main.push(r),r.facadeTransport&&i.facade.push(r.facadeTransport)):Zg("disabled",r.transportName)}}),i}}}});var BF=ne((q_e,VF)=>{"use strict";var Zw={};["log","debug","warn"].forEach(function(e){var t;try{t=global.console&&global.console[e]&&global.console[e].apply}catch{}Zw[e]=t?function(){return global.console[e].apply(global.console,arguments)}:e==="log"?function(){}:Zw.log});VF.exports=Zw});var Kg=ne((Y_e,jF)=>{"use strict";function Ra(e){this.type=e}Ra.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Ra.prototype.stopPropagation=function(){};Ra.prototype.preventDefault=function(){};Ra.CAPTURING_PHASE=1;Ra.AT_TARGET=2;Ra.BUBBLING_PHASE=3;jF.exports=Ra});var Kw=ne((X_e,HF)=>{"use strict";HF.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var GF=ne((Q_e,zF)=>{"use strict";var RX=tt(),UF=Kg();function $F(){UF.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}RX($F,UF);zF.exports=$F});var XF=ne((Z_e,YF)=>{"use strict";var LX=tt(),WF=Kg();function qF(e){WF.call(this),this.initEvent("message",!1,!1),this.data=e}LX(qF,WF);YF.exports=qF});var KF=ne((K_e,ZF)=>{"use strict";var QF=Dn().EventEmitter,NX=tt();function Yd(){var e=this;QF.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Yd.timeout)}NX(Yd,QF);Yd.prototype.close=function(){clearTimeout(this.to)};Yd.timeout=2e3;ZF.exports=Yd});var eS=ne((J_e,eO)=>{"use strict";var JF=Dn().EventEmitter,FX=tt(),OX=qg(),PX=function(){};function Jw(e,t){JF.call(this);var n=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(r,s){var o,a;if(r===200){if(a=+new Date-i,s)try{o=JSON.parse(s)}catch{PX("bad json",s)}OX.isObject(o)||(o={})}n.emit("finish",o,a),n.removeAllListeners()})}FX(Jw,JF);Jw.prototype.close=function(){this.removeAllListeners(),this.xo.close()};eO.exports=Jw});var tS=ne((exe,nO)=>{"use strict";var VX=tt(),tO=Dn().EventEmitter,BX=bc(),jX=eS();function Jg(e){var t=this;tO.call(this),this.ir=new jX(e,BX),this.ir.once("finish",function(n,i){t.ir=null,t.emit("message",JSON.stringify([n,i]))})}VX(Jg,tO);Jg.transportName="iframe-info-receiver";Jg.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};nO.exports=Jg});var oO=ne((txe,sO)=>{"use strict";var iO=Dn().EventEmitter,HX=tt(),UX=Es(),rO=jw(),$X=tS(),zX=function(){};function e0(e,t){var n=this;iO.call(this);var i=function(){var r=n.ifr=new rO($X.transportName,t,e);r.once("message",function(s){if(s){var o;try{o=JSON.parse(s)}catch{zX("bad json",s),n.emit("finish"),n.close();return}var a=o[0],l=o[1];n.emit("finish",a,l)}n.close()}),r.once("close",function(){n.emit("finish"),n.close()})};global.document.body?i():UX.attachEvent("load",i)}HX(e0,iO);e0.enabled=function(){return rO.enabled()};e0.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};sO.exports=e0});var hO=ne((nxe,dO)=>{"use strict";var uO=Dn().EventEmitter,GX=tt(),WX=Si(),aO=Gg(),lO=Pd(),qX=bc(),YX=KF(),cO=oO(),t0=eS(),Ec=function(){};function Ns(e,t){Ec(e);var n=this;uO.call(this),setTimeout(function(){n.doXhr(e,t)},0)}GX(Ns,uO);Ns._getReceiver=function(e,t,n){return n.sameOrigin?new t0(t,qX):lO.enabled?new t0(t,lO):aO.enabled&&n.sameScheme?new t0(t,aO):cO.enabled()?new cO(e,t):new t0(t,YX)};Ns.prototype.doXhr=function(e,t){var n=this,i=WX.addPath(e,"/info");Ec("doXhr",i),this.xo=Ns._getReceiver(e,i,t),this.timeoutRef=setTimeout(function(){Ec("timeout"),n._cleanup(!1),n.emit("finish")},Ns.timeout),this.xo.once("finish",function(r,s){Ec("finish",r,s),n._cleanup(!0),n.emit("finish",r,s)})};Ns.prototype._cleanup=function(e){Ec("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};Ns.prototype.close=function(){Ec("close"),this.removeAllListeners(),this._cleanup(!1)};Ns.timeout=8e3;dO.exports=Ns});var mO=ne((ixe,pO)=>{"use strict";var fO=Dc();function Xd(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}Xd.prototype._transportClose=function(e,t){fO.postMessage("c",JSON.stringify([e,t]))};Xd.prototype._transportMessage=function(e){fO.postMessage("t",e)};Xd.prototype._send=function(e){this._transport.send(e)};Xd.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};pO.exports=Xd});var _O=ne((rxe,yO)=>{"use strict";var gO=Si(),XX=Es(),QX=mO(),vO=tS(),nS=Dc(),n0=Kw(),iS=function(){};yO.exports=function(e,t){var n={};t.forEach(function(r){r.facadeTransport&&(n[r.facadeTransport.transportName]=r.facadeTransport)}),n[vO.transportName]=vO;var i;e.bootstrap_iframe=function(){var r;nS.currentWindowId=n0.hash.slice(1);var s=function(o){if(o.source===parent&&(typeof i>"u"&&(i=o.origin),o.origin===i)){var a;try{a=JSON.parse(o.data)}catch{iS("bad json",o.data);return}if(a.windowId===nS.currentWindowId)switch(a.type){case"s":var l;try{l=JSON.parse(a.data)}catch{iS("bad json",a.data);break}var c=l[0],u=l[1],d=l[2],h=l[3];if(iS(c,u,d,h),c!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+c+'", the iframe: "'+e.version+'".');if(!gO.isOriginEqual(d,n0.href)||!gO.isOriginEqual(h,n0.href))throw new Error("Can't connect to different domain from within an iframe. ("+n0.href+", "+d+", "+h+")");r=new QX(new n[u](d,h));break;case"m":r._send(a.data);break;case"c":r&&r._close(),r=null;break}}};XX.attachEvent("message",s),nS.postMessage("s")}}});var DO=ne((sxe,TO)=>{"use strict";LF();var ZX=bw(),KX=tt(),xO=Ta(),JX=FF(),Qd=Si(),eQ=Es(),tQ=PF(),nQ=qg(),iQ=Cc(),rQ=BF(),rS=Kg(),CO=ww(),i0=Kw(),sQ=GF(),bO=XF(),oQ=hO(),$t=function(){},wO;function nt(e,t,n){if(!(this instanceof nt))return new nt(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");CO.call(this),this.readyState=nt.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&rQ.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var i=n.sessionId||8;if(typeof i=="function")this._generateSessionId=i;else if(typeof i=="number")this._generateSessionId=function(){return xO.string(i)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||xO.numberString(1e3);var r=new ZX(e);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if(r.protocol!=="http:"&&r.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var s=r.protocol==="https:";if(i0.protocol==="https:"&&!s&&!Qd.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var o=t.sort();o.forEach(function(l,c){if(!l)throw new SyntaxError("The protocols entry '"+l+"' is invalid.");if(c<o.length-1&&l===o[c+1])throw new SyntaxError("The protocols entry '"+l+"' is duplicated.")});var a=Qd.getOrigin(i0.href);this._origin=a?a.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,$t("using url",this.url),this._urlInfo={nullOrigin:!iQ.hasDomain(),sameOrigin:Qd.isOriginEqual(this.url,i0.href),sameScheme:Qd.isSchemeEqual(this.url,i0.href)},this._ir=new oQ(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}KX(nt,CO);function SO(e){return e===1e3||e>=3e3&&e<=4999}nt.prototype.close=function(e,t){if(e&&!SO(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===nt.CLOSING||this.readyState===nt.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};nt.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===nt.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===nt.OPEN&&this._transport.send(JX.quote(e))};nt.version=Vw();nt.CONNECTING=0;nt.OPEN=1;nt.CLOSING=2;nt.CLOSED=3;nt.prototype._receiveInfo=function(e,t){if($t("_receiveInfo",t),this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=nQ.extend(e,this._urlInfo),$t("info",e);var n=wO.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,$t(this._transports.length+" enabled transports"),this._connect()};nt.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if($t("attempt",e.transportName),e.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){$t("waiting for body"),this._transports.unshift(e),eQ.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),$t("using timeout",t);var n=Qd.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[e.transportName];$t("transport url",n);var r=new e(n,this._transUrl,i);r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=e.transportName,this._transport=r;return}this._close(2e3,"All transports failed",!1)};nt.prototype._transportTimeout=function(){$t("_transportTimeout"),this.readyState===nt.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};nt.prototype._transportMessage=function(e){$t("_transportMessage",e);var t=this,n=e.slice(0,1),i=e.slice(1),r;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new rS("heartbeat")),$t("heartbeat",this.transport);return}if(i)try{r=JSON.parse(i)}catch{$t("bad json",i)}if(typeof r>"u"){$t("empty payload",i);return}switch(n){case"a":Array.isArray(r)&&r.forEach(function(s){$t("message",t.transport,s),t.dispatchEvent(new bO(s))});break;case"m":$t("message",this.transport,r),this.dispatchEvent(new bO(r));break;case"c":Array.isArray(r)&&r.length===2&&this._close(r[0],r[1],!0);break}};nt.prototype._transportClose=function(e,t){if($t("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!SO(e)&&e!==2e3&&this.readyState===nt.CONNECTING){this._connect();return}this._close(e,t)};nt.prototype._open=function(){$t("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===nt.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=nt.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new rS("open")),$t("connected",this.transport)):this._close(1006,"Server lost session")};nt.prototype._close=function(e,t,n){$t("_close",this.transport,e,t,n,this.readyState);var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===nt.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=nt.CLOSING,setTimeout(function(){this.readyState=nt.CLOSED,i&&this.dispatchEvent(new rS("error"));var r=new sQ("close");r.wasClean=n||!1,r.code=e||1e3,r.reason=t,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,$t("disconnected")}.bind(this),0)};nt.prototype.countRTO=function(e){return e>100?4*e:300+e};TO.exports=function(e){return wO=tQ(e),_O()(nt,e),nt}});var AO=ne((oxe,EO)=>{"use strict";var aQ=DF();EO.exports=DO()(aQ);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var UV=ne((MAe,HV)=>{"use strict";HV.exports=Yee;function Wc(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function Yee(e){if(e=e||{},e.circles)return Xee(e);let t=new Map;if(t.set(Date,o=>new Date(o)),t.set(Map,(o,a)=>new Map(i(Array.from(o),a))),t.set(Set,(o,a)=>new Set(i(Array.from(o),a))),e.constructorHandlers)for(let o of e.constructorHandlers)t.set(o[0],o[1]);let n=null;return e.proto?s:r;function i(o,a){let l=Object.keys(o),c=new Array(l.length);for(let u=0;u<l.length;u++){let d=l[u],h=o[d];typeof h!="object"||h===null?c[d]=h:h.constructor!==Object&&(n=t.get(h.constructor))?c[d]=n(h,a):ArrayBuffer.isView(h)?c[d]=Wc(h):c[d]=a(h)}return c}function r(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,r);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,r);let a={};for(let l in o){if(Object.hasOwnProperty.call(o,l)===!1)continue;let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(n=t.get(c.constructor))?a[l]=n(c,r):ArrayBuffer.isView(c)?a[l]=Wc(c):a[l]=r(c)}return a}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,s);if(o.constructor!==Object&&(n=t.get(o.constructor)))return n(o,s);let a={};for(let l in o){let c=o[l];typeof c!="object"||c===null?a[l]=c:c.constructor!==Object&&(n=t.get(c.constructor))?a[l]=n(c,s):ArrayBuffer.isView(c)?a[l]=Wc(c):a[l]=s(c)}return a}}function Xee(e){let t=[],n=[],i=new Map;if(i.set(Date,l=>new Date(l)),i.set(Map,(l,c)=>new Map(s(Array.from(l),c))),i.set(Set,(l,c)=>new Set(s(Array.from(l),c))),e.constructorHandlers)for(let l of e.constructorHandlers)i.set(l[0],l[1]);let r=null;return e.proto?a:o;function s(l,c){let u=Object.keys(l),d=new Array(u.length);for(let h=0;h<u.length;h++){let f=u[h],v=l[f];if(typeof v!="object"||v===null)d[f]=v;else if(v.constructor!==Object&&(r=i.get(v.constructor)))d[f]=r(v,c);else if(ArrayBuffer.isView(v))d[f]=Wc(v);else{let b=t.indexOf(v);b!==-1?d[f]=n[b]:d[f]=c(v)}}return d}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,o);if(l.constructor!==Object&&(r=i.get(l.constructor)))return r(l,o);let c={};t.push(l),n.push(c);for(let u in l){if(Object.hasOwnProperty.call(l,u)===!1)continue;let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(r=i.get(d.constructor)))c[u]=r(d,o);else if(ArrayBuffer.isView(d))c[u]=Wc(d);else{let h=t.indexOf(d);h!==-1?c[u]=n[h]:c[u]=o(d)}}return t.pop(),n.pop(),c}function a(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,a);if(l.constructor!==Object&&(r=i.get(l.constructor)))return r(l,a);let c={};t.push(l),n.push(c);for(let u in l){let d=l[u];if(typeof d!="object"||d===null)c[u]=d;else if(d.constructor!==Object&&(r=i.get(d.constructor)))c[u]=r(d,a);else if(ArrayBuffer.isView(d))c[u]=Wc(d);else{let h=t.indexOf(d);h!==-1?c[u]=n[h]:c[u]=a(d)}}return t.pop(),n.pop(),c}}});var ME=ne((IE,kE)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof IE<"u"?t():(t(),e.FileSaver={})})(IE,function(){"use strict";function e(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function t(a,l,c){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){o(u.response,l,c)},u.onerror=function(){console.error("could not download file")},u.send()}function n(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var r=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||(typeof window!="object"||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(a,l,c){var u=r.URL||r.webkitURL,d=document.createElement("a");l=l||a.name||"download",d.download=l,d.rel="noopener",typeof a=="string"?(d.href=a,d.origin===location.origin?i(d):n(d.href)?t(a,l,c):i(d,d.target="_blank")):(d.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(e(a,c),l);else if(n(a))t(a,l,c);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){i(u)})}}:function(a,l,c,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return t(a,l,c);var d=a.type==="application/octet-stream",h=/constructor/i.test(r.HTMLElement)||r.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&h||s)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var w=v.result;w=f?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=w:location=w,u=null},v.readAsDataURL(a)}else{var b=r.URL||r.webkitURL,x=b.createObjectURL(a);u?u.location=x:location.href=x,u=null,setTimeout(function(){b.revokeObjectURL(x)},4e4)}});r.saveAs=o.saveAs=o,typeof kE<"u"&&(kE.exports=o)})});function TH(e,t){return Object.is(e,t)}var tn=null,kf=!1,Mf=1,zo=Symbol("SIGNAL");function Ge(e){let t=tn;return tn=e,t}var by={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function VE(e){if(kf)throw new Error("");if(tn===null)return;tn.consumerOnSignalRead(e);let t=tn.nextProducerIndex++;if(bl(tn),t<tn.producerNode.length&&tn.producerNode[t]!==e&&yu(tn)){let n=tn.producerNode[t];Rf(n,tn.producerIndexOfThis[t])}tn.producerNode[t]!==e&&(tn.producerNode[t]=e,tn.producerIndexOfThis[t]=yu(tn)?zE(e,tn,t):0),tn.producerLastReadVersion[t]=e.version}function DH(){Mf++}function EH(e){if(!(yu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Mf)){if(!e.producerMustRecompute(e)&&!Cy(e)){e.dirty=!1,e.lastCleanEpoch=Mf;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Mf}}function BE(e){if(e.liveConsumerNode===void 0)return;let t=kf;kf=!0;try{for(let n of e.liveConsumerNode)n.dirty||AH(n)}finally{kf=t}}function jE(){return tn?.consumerAllowSignalWrites!==!1}function AH(e){e.dirty=!0,BE(e),e.consumerMarkedDirty?.(e)}function HE(e){return e&&(e.nextProducerIndex=0),Ge(e)}function UE(e,t){if(Ge(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(yu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Rf(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Cy(e){bl(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(EH(n),i!==n.version))return!0}return!1}function $E(e){if(bl(e),yu(e))for(let t=0;t<e.producerNode.length;t++)Rf(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function zE(e,t,n){if(GE(e),bl(e),e.liveConsumerNode.length===0)for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=zE(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Rf(e,t){if(GE(e),bl(e),e.liveConsumerNode.length===1)for(let i=0;i<e.producerNode.length;i++)Rf(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];bl(r),r.producerIndexOfThis[i]=t}}function yu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function bl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function GE(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function IH(){throw new Error}var WE=IH;function qE(){WE()}function YE(e){WE=e}var kH=null;function XE(e){let t=Object.create(ZE);t.value=e;let n=()=>(VE(t),t.value);return n[zo]=t,n}function wy(e,t){jE()||qE(),e.equal(e.value,t)||(e.value=t,MH(e))}function QE(e,t){jE()||qE(),wy(e,t(e.value))}var ZE=Ie(L({},by),{equal:TH,value:void 0});function MH(e){e.version++,DH(),BE(e),kH?.()}function ce(e){return typeof e=="function"}function Cl(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Lf=Cl(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Go(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var wt=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ce(i))try{i()}catch(s){t=s instanceof Lf?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{KE(s)}catch(o){t=t??[],o instanceof Lf?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Lf(t)}}add(t){var n;if(t&&t!==this)if(this.closed)KE(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Go(n,t)}remove(t){let{_finalizers:n}=this;n&&Go(n,t),t instanceof e&&t._removeParent(this)}};wt.EMPTY=(()=>{let e=new wt;return e.closed=!0,e})();var Sy=wt.EMPTY;function Nf(e){return e instanceof wt||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function KE(e){ce(e)?e():e.unsubscribe()}var Qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wl={setTimeout(e,t,...n){let{delegate:i}=wl;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=wl;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ff(e){wl.setTimeout(()=>{let{onUnhandledError:t}=Qi;if(t)t(e);else throw e})}function _u(){}var JE=Ty("C",void 0,void 0);function e1(e){return Ty("E",void 0,e)}function t1(e){return Ty("N",e,void 0)}function Ty(e,t,n){return{kind:e,value:t,error:n}}var Wo=null;function Sl(e){if(Qi.useDeprecatedSynchronousErrorHandling){let t=!Wo;if(t&&(Wo={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=Wo;if(Wo=null,n)throw i}}else e()}function n1(e){Qi.useDeprecatedSynchronousErrorHandling&&Wo&&(Wo.errorThrown=!0,Wo.error=e)}var qo=class extends wt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Nf(t)&&t.add(this)):this.destination=NH}static create(t,n,i){return new Tl(t,n,i)}next(t){this.isStopped?Ey(t1(t),this):this._next(t)}error(t){this.isStopped?Ey(e1(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ey(JE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RH=Function.prototype.bind;function Dy(e,t){return RH.call(e,t)}var Ay=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Of(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Of(i)}else Of(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Of(n)}}},Tl=class extends qo{constructor(t,n,i){super();let r;if(ce(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Qi.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Dy(t.next,s),error:t.error&&Dy(t.error,s),complete:t.complete&&Dy(t.complete,s)}):r=t}this.destination=new Ay(r)}};function Of(e){Qi.useDeprecatedSynchronousErrorHandling?n1(e):Ff(e)}function LH(e){throw e}function Ey(e,t){let{onStoppedNotification:n}=Qi;n&&wl.setTimeout(()=>n(e,t))}var NH={closed:!0,next:_u,error:LH,complete:_u};var Dl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function si(e){return e}function Iy(...e){return ky(e)}function ky(e){return e.length===0?si:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var Be=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=OH(n)?n:new Tl(n,i,r);return Sl(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=i1(i),new i((r,s)=>{let o=new Tl({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Dl](){return this}pipe(...n){return ky(n)(this)}toPromise(n){return n=i1(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function i1(e){var t;return(t=e??Qi.Promise)!==null&&t!==void 0?t:Promise}function FH(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}function OH(e){return e&&e instanceof qo||FH(e)&&Nf(e)}function My(e){return ce(e?.lift)}function Oe(e){return t=>{if(My(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ke(e,t,n,i,r){return new Ry(e,t,n,i,r)}var Ry=class extends qo{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function El(){return Oe((e,t)=>{let n=null;e._refCount++;let i=ke(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Al=class extends Be{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,My(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wt;let n=this.getSubject();t.add(this.source.subscribe(ke(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wt.EMPTY)}return t}refCount(){return El()(this)}};var r1=Cl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class e extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Pf(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new r1}next(n){Sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Sl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Sy:(this.currentObservers=null,s.push(n),new wt(()=>{this.currentObservers=null,Go(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new Be;return n.source=this,n}}return e.create=(t,n)=>new Pf(t,n),e})(),Pf=class extends ft{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Sy}};var At=class extends ft{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Ly={now(){return(Ly.delegate||Date).now()},delegate:void 0};var Vf=class extends wt{constructor(t,n){super()}schedule(t,n=0){return this}};var xu={setInterval(e,t,...n){let{delegate:i}=xu;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=xu;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Bf=class extends Vf{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,i=0){return xu.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&xu.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Go(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Il=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Il.now=Ly.now;var jf=class extends Il{constructor(t,n=Il.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var s1=new jf(Bf);var oi=new Be(e=>e.complete());function o1(e){return e&&ce(e.schedule)}function a1(e){return e[e.length-1]}function Hf(e){return ce(a1(e))?e.pop():void 0}function Xs(e){return o1(a1(e))?e.pop():void 0}function c1(e,t,n,i){var r=arguments.length,s=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function u1(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function l1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yo(e){return this instanceof Yo?(this.v=e,this):new Yo(e)}function d1(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(v){return Promise.resolve(v).then(f,d)}}function a(f,v){i[f]&&(r[f]=function(b){return new Promise(function(x,w){s.push([f,b,x,w])>1||l(f,b)})},v&&(r[f]=v(r[f])))}function l(f,v){try{c(i[f](v))}catch(b){h(s[0][3],b)}}function c(f){f.value instanceof Yo?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,v){f(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function h1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof l1=="function"?l1(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){o=e[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var kl=e=>e&&typeof e.length=="number"&&typeof e!="function";function Uf(e){return ce(e?.then)}function $f(e){return ce(e[Dl])}function zf(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function Gf(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PH(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wf=PH();function qf(e){return ce(e?.[Wf])}function Yf(e){return d1(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Yo(n.read());if(r)return yield Yo(void 0);yield yield Yo(i)}}finally{n.releaseLock()}})}function Xf(e){return ce(e?.getReader)}function It(e){if(e instanceof Be)return e;if(e!=null){if($f(e))return VH(e);if(kl(e))return BH(e);if(Uf(e))return jH(e);if(zf(e))return f1(e);if(qf(e))return HH(e);if(Xf(e))return UH(e)}throw Gf(e)}function VH(e){return new Be(t=>{let n=e[Dl]();if(ce(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BH(e){return new Be(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function jH(e){return new Be(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ff)})}function HH(e){return new Be(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function f1(e){return new Be(t=>{$H(e,t).catch(n=>t.error(n))})}function UH(e){return f1(Yf(e))}function $H(e,t){var n,i,r,s;return u1(this,void 0,void 0,function*(){try{for(n=h1(e);i=yield n.next(),!i.done;){let o=i.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})}function Un(e,t,n,i=0,r=!1){let s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function Qf(e,t=0){return Oe((n,i)=>{n.subscribe(ke(i,r=>Un(i,e,()=>i.next(r),t),()=>Un(i,e,()=>i.complete(),t),r=>Un(i,e,()=>i.error(r),t)))})}function Zf(e,t=0){return Oe((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function p1(e,t){return It(e).pipe(Zf(t),Qf(t))}function m1(e,t){return It(e).pipe(Zf(t),Qf(t))}function g1(e,t){return new Be(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function v1(e,t){return new Be(n=>{let i;return Un(n,t,()=>{i=e[Wf](),Un(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>ce(i?.return)&&i.return()})}function Kf(e,t){if(!e)throw new Error("Iterable cannot be null");return new Be(n=>{Un(n,t,()=>{let i=e[Symbol.asyncIterator]();Un(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function y1(e,t){return Kf(Yf(e),t)}function _1(e,t){if(e!=null){if($f(e))return p1(e,t);if(kl(e))return g1(e,t);if(Uf(e))return m1(e,t);if(zf(e))return Kf(e,t);if(qf(e))return v1(e,t);if(Xf(e))return y1(e,t)}throw Gf(e)}function _t(e,t){return t?_1(e,t):It(e)}function ue(...e){let t=Xs(e);return _t(e,t)}function Ml(e,t){let n=ce(e)?e:()=>e,i=r=>r.error(n());return new Be(t?r=>t.schedule(i,0,r):i)}function Ny(e){return!!e&&(e instanceof Be||ce(e.lift)&&ce(e.subscribe))}var os=Cl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function fe(e,t){return Oe((n,i)=>{let r=0;n.subscribe(ke(i,s=>{i.next(e.call(t,s,r++))}))})}var{isArray:zH}=Array;function GH(e,t){return zH(t)?e(...t):e(t)}function Rl(e){return fe(t=>GH(e,t))}var{isArray:WH}=Array,{getPrototypeOf:qH,prototype:YH,keys:XH}=Object;function Jf(e){if(e.length===1){let t=e[0];if(WH(t))return{args:t,keys:null};if(QH(t)){let n=XH(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function QH(e){return e&&typeof e=="object"&&qH(e)===YH}function ep(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function bu(...e){let t=Xs(e),n=Hf(e),{args:i,keys:r}=Jf(e);if(i.length===0)return _t([],t);let s=new Be(ZH(i,t,r?o=>ep(r,o):si));return n?s.pipe(Rl(n)):s}function ZH(e,t,n=si){return i=>{x1(t,()=>{let{length:r}=e,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)x1(t,()=>{let c=_t(e[l],t),u=!1;c.subscribe(ke(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function x1(e,t,n){e?Un(n,e,t):t()}function b1(e,t,n,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=b=>c<i?v(b):l.push(b),v=b=>{s&&t.next(b),c++;let x=!1;It(n(b,u++)).subscribe(ke(t,w=>{r?.(w),s?f(w):t.next(w)},()=>{x=!0},void 0,()=>{if(x)try{for(c--;l.length&&c<i;){let w=l.shift();o?Un(t,o,()=>v(w)):v(w)}h()}catch(w){t.error(w)}}))};return e.subscribe(ke(t,f,()=>{d=!0,h()})),()=>{a?.()}}function kt(e,t,n=1/0){return ce(t)?kt((i,r)=>fe((s,o)=>t(i,s,r,o))(It(e(i,r))),n):(typeof t=="number"&&(n=t),Oe((i,r)=>b1(i,r,e,n)))}function Qs(e=1/0){return kt(si,e)}function C1(){return Qs(1)}function Ll(...e){return C1()(_t(e,Xs(e)))}function tp(e){return new Be(t=>{It(e()).subscribe(t)})}function Cu(...e){let t=Hf(e),{args:n,keys:i}=Jf(e),r=new Be(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;It(n[u]).subscribe(ke(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?ep(i,a):a),s.complete())}))}});return t?r.pipe(Rl(t)):r}var KH=["addListener","removeListener"],JH=["addEventListener","removeEventListener"],e4=["on","off"];function wu(e,t,n,i){if(ce(n)&&(i=n,n=void 0),i)return wu(e,t,n).pipe(Rl(i));let[r,s]=i4(e)?JH.map(o=>a=>e[o](t,a,n)):t4(e)?KH.map(w1(e,t)):n4(e)?e4.map(w1(e,t)):[];if(!r&&kl(e))return kt(o=>wu(o,t,n))(It(e));if(!r)throw new TypeError("Invalid event target");return new Be(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function w1(e,t){return n=>i=>e[n](t,i)}function t4(e){return ce(e.addListener)&&ce(e.removeListener)}function n4(e){return ce(e.on)&&ce(e.off)}function i4(e){return ce(e.addEventListener)&&ce(e.removeEventListener)}function cn(e,t){return Oe((n,i)=>{let r=0;n.subscribe(ke(i,s=>e.call(t,s,r++)&&i.next(s)))})}function Zs(e){return Oe((t,n)=>{let i=null,r=!1,s;i=t.subscribe(ke(n,void 0,void 0,o=>{s=It(e(o,Zs(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function S1(e,t,n,i,r){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(ke(o,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function as(e,t){return ce(t)?kt(e,t,1):kt(e,1)}function Fy(e,t=s1){return Oe((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+e,u=t.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}n.subscribe(ke(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Ks(e){return Oe((t,n)=>{let i=!1;t.subscribe(ke(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function ai(e){return e<=0?()=>oi:Oe((t,n)=>{let i=0;t.subscribe(ke(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Oy(e){return fe(()=>e)}function np(e=r4){return Oe((t,n)=>{let i=!1;t.subscribe(ke(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function r4(){return new os}function Xo(e){return Oe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function $n(e,t){let n=arguments.length>=2;return i=>i.pipe(e?cn((r,s)=>e(r,s,i)):si,ai(1),n?Ks(t):np(()=>new os))}function Nl(e){return e<=0?()=>oi:Oe((t,n)=>{let i=[];t.subscribe(ke(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Py(e,t){let n=arguments.length>=2;return i=>i.pipe(e?cn((r,s)=>e(r,s,i)):si,Nl(1),n?Ks(t):np(()=>new os))}function Vy(e,t){return Oe(S1(e,t,arguments.length>=2,!0))}function By(...e){let t=Xs(e);return Oe((n,i)=>{(t?Ll(e,n,t):Ll(e,n)).subscribe(i)})}function zn(e,t){return Oe((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(ke(i,l=>{r?.unsubscribe();let c=0,u=s++;It(e(l,u)).subscribe(r=ke(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Qo(e){return Oe((t,n)=>{It(e).subscribe(ke(n,()=>n.complete(),_u)),!n.closed&&t.subscribe(n)})}function Mt(e,t,n){let i=ce(e)||t||n?{next:e,error:t,complete:n}:e;return i?Oe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(ke(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):si}var fA="https://g.co/ng/security#xss",O=class extends Error{constructor(t,n){super(Np(t,n)),this.code=t}};function Np(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Fu(e){return{toString:e}.toString()}var ip="__parameters__";function s4(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function pA(e,t,n){return Fu(()=>{let i=s4(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(ip)?l[ip]:Object.defineProperty(l,ip,{value:[]})[ip];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var li=globalThis;function mt(e){for(let t in e)if(e[t]===mt)return t;throw Error("Could not find renamed property on target object.")}function o4(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fn(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Fn).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function n_(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var a4=mt({__forward_ref__:mt});function ui(e){return e.__forward_ref__=ui,e.toString=function(){return Fn(this())},e}function Nn(e){return mA(e)?e():e}function mA(e){return typeof e=="function"&&e.hasOwnProperty(a4)&&e.__forward_ref__===ui}function U(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function We(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fp(e){return T1(e,vA)||T1(e,yA)}function gA(e){return Fp(e)!==null}function T1(e,t){return e.hasOwnProperty(t)?e[t]:null}function l4(e){let t=e&&(e[vA]||e[yA]);return t||null}function D1(e){return e&&(e.hasOwnProperty(E1)||e.hasOwnProperty(c4))?e[E1]:null}var vA=mt({\u0275prov:mt}),E1=mt({\u0275inj:mt}),yA=mt({ngInjectableDef:mt}),c4=mt({ngInjectorDef:mt}),re=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _A(e){return e&&!!e.\u0275providers}var u4=mt({\u0275cmp:mt}),d4=mt({\u0275dir:mt}),h4=mt({\u0275pipe:mt}),f4=mt({\u0275mod:mt}),mp=mt({\u0275fac:mt}),Su=mt({__NG_ELEMENT_ID__:mt}),A1=mt({__NG_ENV_ID__:mt});function Dr(e){return typeof e=="string"?e:e==null?"":String(e)}function p4(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Dr(e)}function m4(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new O(-200,e)}function ax(e,t){throw new O(-201,!1)}var Me=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Me||{}),i_;function xA(){return i_}function Gn(e){let t=i_;return i_=e,t}function bA(e,t,n){let i=Fp(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Me.Optional)return null;if(t!==void 0)return t;ax(e,"Injector")}var g4={},Tu=g4,r_="__NG_DI_FLAG__",gp="ngTempTokenPath",v4="ngTokenPath",y4=/\n/gm,_4="\u0275",I1="__source",Bl;function x4(){return Bl}function Js(e){let t=Bl;return Bl=e,t}function b4(e,t=Me.Default){if(Bl===void 0)throw new O(-203,!1);return Bl===null?bA(e,void 0,t):Bl.get(e,t&Me.Optional?null:void 0,t)}function V(e,t=Me.Default){return(xA()||b4)(Nn(e),t)}function F(e,t=Me.Default){return V(e,Op(t))}function Op(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function s_(e){let t=[];for(let n=0;n<e.length;n++){let i=Nn(e[n]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let r,s=Me.Default;for(let o=0;o<i.length;o++){let a=i[o],l=C4(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}t.push(V(r,s))}else t.push(V(i))}return t}function CA(e,t){return e[r_]=t,e.prototype[r_]=t,e}function C4(e){return e[r_]}function w4(e,t,n,i){let r=e[gp];throw t[I1]&&r.unshift(t[I1]),e.message=S4(`
`+e.message,r,n,i),e[v4]=r,e[gp]=null,e}function S4(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==_4?e.slice(2):e;let r=Fn(t);if(Array.isArray(t))r=t.map(Fn).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Fn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(y4,`
  `)}`}var Ou=CA(pA("Optional"),8);var Pp=CA(pA("SkipSelf"),4);function ea(e,t){let n=e.hasOwnProperty(mp);return n?e[mp]:null}function T4(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function D4(e){return e.flat(Number.POSITIVE_INFINITY)}function lx(e,t){e.forEach(n=>Array.isArray(n)?lx(n,t):t(n))}function wA(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function vp(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function E4(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function A4(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let s=r-2;e[r]=e[s],r--}e[t]=n,e[t+1]=i}}function Vp(e,t,n){let i=Pu(e,t);return i>=0?e[i|1]=n:(i=~i,A4(e,i,t,n)),i}function jy(e,t){let n=Pu(e,t);if(n>=0)return e[n|1]}function Pu(e,t){return I4(e,t,1)}function I4(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1}return~(r<<n)}var Hl={},Wn=[],Ul=new re(""),SA=new re("",-1),TA=new re(""),yp=class{get(t,n=Tu){if(n===Tu){let i=new Error(`NullInjectorError: No provider for ${Fn(t)}!`);throw i.name="NullInjectorError",i}return n}},DA=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(DA||{}),Er=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Er||{}),Bt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Bt||{});function k4(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}function o_(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s)}else{let s=r,o=n[++i];M4(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++}}return i}function EA(e){return e===3||e===4||e===6}function M4(e){return e.charCodeAt(0)===64}function Du(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?k1(e,n,r,null,t[++i]):k1(e,n,r,null,null))}}return e}function k1(e,t,n,i,r){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[s+1]=r);return}else if(i===e[s+1]){e[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),i!==null&&e.splice(s++,0,i),r!==null&&e.splice(s++,0,r)}var AA="ng-template";function R4(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&k4(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(cx(e))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function cx(e){return e.type===4&&e.value!==AA}function L4(e,t,n){let i=e.type===4&&!n?AA:e.value;return t===i}function N4(e,t,n){let i=4,r=e.attrs,s=r!==null?P4(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!o&&!Zi(i)&&!Zi(l))return!1;if(o&&Zi(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!L4(e,l,n)||l===""&&t.length===1){if(Zi(i))return!1;o=!0}}else if(i&8){if(r===null||!R4(e,r,l,n)){if(Zi(i))return!1;o=!0}}else{let c=t[++a],u=F4(l,r,cx(e),n);if(u===-1){if(Zi(i))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Zi(i))return!1;o=!0}}}}return Zi(i)||o}function Zi(e){return(e&1)===0}function F4(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){let o=t[r];if(o===e)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return V4(t,e)}function IA(e,t,n=!1){for(let i=0;i<t.length;i++)if(N4(e,t[i],n))return!0;return!1}function O4(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function P4(e){for(let t=0;t<e.length;t++){let n=e[t];if(EA(n))return t}return e.length}function V4(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function B4(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function M1(e,t){return e?":not("+t.trim()+")":t}function j4(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if(typeof o=="string")if(i&2){let a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Zi(o)&&(t+=M1(s,r),r=""),i=o,s=s||!Zi(i);n++}return r!==""&&(t+=M1(s,r)),t}function H4(e){return e.map(j4).join(",")}function U4(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let s=e[i];if(typeof s=="string")r===2?s!==""&&t.push(s,e[++i]):r===8&&n.push(s);else{if(!Zi(r))break;r=s}i++}return{attrs:t,classes:n}}function X(e){return Fu(()=>{let t=NA(e),n=Ie(L({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===DA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Er.Emulated,styles:e.styles||Wn,_:null,schemas:e.schemas||null,tView:null,id:""});FA(n);let i=e.dependencies;return n.directiveDefs=L1(i,!1),n.pipeDefs=L1(i,!0),n.id=G4(n),n})}function $4(e){return to(e)||kA(e)}function z4(e){return e!==null}function qe(e){return Fu(()=>({type:e.type,bootstrap:e.bootstrap||Wn,declarations:e.declarations||Wn,imports:e.imports||Wn,exports:e.exports||Wn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function R1(e,t){if(e==null)return Hl;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],s,o,a=Bt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(n[s]=a!==Bt.None?[i,a]:i,t[s]=o):n[s]=i}return n}function Ye(e){return Fu(()=>{let t=NA(e);return FA(t),t})}function Bp(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function to(e){return e[u4]||null}function kA(e){return e[d4]||null}function MA(e){return e[h4]||null}function RA(e){let t=to(e)||kA(e)||MA(e);return t!==null?t.standalone:!1}function LA(e,t){let n=e[f4]||null;if(!n&&t===!0)throw new Error(`Type ${Fn(e)} does not have '\u0275mod' property.`);return n}function NA(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Hl,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Wn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:R1(e.inputs,t),outputs:R1(e.outputs),debugInfo:null}}function FA(e){e.features?.forEach(t=>t(e))}function L1(e,t){if(!e)return null;let n=t?MA:$4;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(z4)}function G4(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function ua(e){return{\u0275providers:e}}function ux(...e){return{\u0275providers:OA(!0,e),\u0275fromNgModule:!0}}function OA(e,...t){let n=[],i=new Set,r,s=o=>{n.push(o)};return lx(t,o=>{let a=o;a_(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&PA(r,s),n}function PA(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];dx(r,s=>{t(s,i)})}}function a_(e,t,n,i){if(e=Nn(e),!e)return!1;let r=null,s=D1(e),o=!s&&to(e);if(!s&&!o){let l=e.ngModule;if(s=D1(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=e}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)a_(c,t,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{lx(s.imports,u=>{a_(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&PA(c,t)}if(!a){let c=ea(r)||(()=>new r);t({provide:r,useFactory:c,deps:Wn},r),t({provide:TA,useValue:r,multi:!0},r),t({provide:Ul,useValue:()=>V(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=e;dx(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function dx(e,t){for(let n of e)_A(n)&&(n=n.\u0275providers),Array.isArray(n)?dx(n,t):t(n)}var W4=mt({provide:String,useValue:mt});function VA(e){return e!==null&&typeof e=="object"&&W4 in e}function q4(e){return!!(e&&e.useExisting)}function Y4(e){return!!(e&&e.useFactory)}function $l(e){return typeof e=="function"}function X4(e){return!!e.useClass}var jp=new re(""),cp={},Q4={},Hy;function hx(){return Hy===void 0&&(Hy=new yp),Hy}var wn=class{},Eu=class extends wn{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c_(t,o=>this.processProvider(o)),this.records.set(SA,Fl(void 0,this)),r.has("environment")&&this.records.set(wn,Fl(void 0,this));let s=this.records.get(jp);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TA,Wn,Me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ge(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Js(this),i=Gn(void 0),r;try{return t()}finally{Js(n),Gn(i)}}get(t,n=Tu,i=Me.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(A1))return t[A1](this);i=Op(i);let r,s=Js(this),o=Gn(void 0);try{if(!(i&Me.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=tU(t)&&Fp(t);c&&this.injectableDefInScope(c)?l=Fl(l_(t),cp):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&Me.Self?hx():this.parent;return n=i&Me.Optional&&n===Tu?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[gp]=a[gp]||[]).unshift(Fn(t)),s)throw a;return w4(a,t,"R3InjectorError",this.source)}else throw a}finally{Gn(o),Js(s)}}resolveInjectorInitializers(){let t=Ge(null),n=Js(this),i=Gn(void 0),r;try{let s=this.get(Ul,Wn,Me.Self);for(let o of s)o()}finally{Js(n),Gn(i),Ge(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Fn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(t){t=Nn(t);let n=$l(t)?t:Nn(t&&t.provide),i=K4(t);if(!$l(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Fl(void 0,cp,!0),r.factory=()=>s_(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=Ge(null);try{return n.value===cp&&(n.value=Q4,n.value=n.factory()),typeof n.value=="object"&&n.value&&eU(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ge(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Nn(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function l_(e){let t=Fp(e),n=t!==null?t.factory:ea(e);if(n!==null)return n;if(e instanceof re)throw new O(204,!1);if(e instanceof Function)return Z4(e);throw new O(204,!1)}function Z4(e){if(e.length>0)throw new O(204,!1);let n=l4(e);return n!==null?()=>n.factory(e):()=>new e}function K4(e){if(VA(e))return Fl(void 0,e.useValue);{let t=BA(e);return Fl(t,cp)}}function BA(e,t,n){let i;if($l(e)){let r=Nn(e);return ea(r)||l_(r)}else if(VA(e))i=()=>Nn(e.useValue);else if(Y4(e))i=()=>e.useFactory(...s_(e.deps||[]));else if(q4(e))i=()=>V(Nn(e.useExisting));else{let r=Nn(e&&(e.useClass||e.provide));if(J4(e))i=()=>new r(...s_(e.deps));else return ea(r)||l_(r)}return i}function Fl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function J4(e){return!!e.deps}function eU(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function tU(e){return typeof e=="function"||typeof e=="object"&&e instanceof re}function c_(e,t){for(let n of e)Array.isArray(n)?c_(n,t):n&&_A(n)?c_(n.\u0275providers,t):t(n)}function rr(e,t){e instanceof Eu&&e.assertNotDestroyed();let n,i=Js(e),r=Gn(void 0);try{return t()}finally{Js(i),Gn(r)}}function jA(){return xA()!==void 0||x4()!=null}function nU(e){if(!jA())throw new O(-203,!1)}function iU(e){return typeof e=="function"}var Mr=0,Ce=1,me=2,un=3,Ji=4,di=5,Au=6,Iu=7,er=8,zl=9,tr=10,St=11,ku=12,N1=13,Ql=14,nr=15,Vu=16,Ol=17,ls=18,Hp=19,HA=20,eo=21,Uy=22,ta=23,On=25,fx=1;var na=7,_p=8,Gl=9,ci=10,px=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(px||{});function Ko(e){return Array.isArray(e)&&typeof e[fx]=="object"}function ds(e){return Array.isArray(e)&&e[fx]===!0}function mx(e){return(e.flags&4)!==0}function Up(e){return e.componentOffset>-1}function $p(e){return(e.flags&1)===1}function cs(e){return!!e.template}function rU(e){return(e[me]&512)!==0}var u_=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function UA(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Ue(){return $A}function $A(e){return e.type.prototype.ngOnChanges&&(e.setInput=oU),sU}Ue.ngInherit=!0;function sU(){let e=GA(this),t=e?.current;if(t){let n=e.previous;if(n===Hl)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function oU(e,t,n,i,r){let s=this.declaredInputs[i],o=GA(e)||aU(e,{previous:Hl,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new u_(c&&c.currentValue,n,l===Hl),UA(e,t,r,n)}var zA="__ngSimpleChanges__";function GA(e){return e[zA]||null}function aU(e,t){return e[zA]=t}var F1=null;var Sr=function(e,t,n){F1?.(e,t,n)},WA="svg",lU="math",cU=!1;function uU(){return cU}function Ar(e){for(;Array.isArray(e);)e=e[Mr];return e}function dU(e){for(;Array.isArray(e);){if(typeof e[fx]=="object")return e;e=e[Mr]}return null}function qA(e,t){return Ar(t[e])}function Mi(e,t){return Ar(t[e.index])}function YA(e,t){return e.data[t]}function zp(e,t){return e[t]}function ro(e,t){let n=t[e];return Ko(n)?n:n[Mr]}function hU(e){return(e[me]&4)===4}function gx(e){return(e[me]&128)===128}function fU(e){return ds(e[un])}function Wl(e,t){return t==null?null:e[t]}function XA(e){e[Ol]=0}function pU(e){e[me]&1024||(e[me]|=1024,gx(e)&&Mu(e))}function mU(e,t){for(;e>0;)t=t[Ql],e--;return t}function vx(e){return!!(e[me]&9216||e[ta]?.dirty)}function d_(e){e[tr].changeDetectionScheduler?.notify(1),vx(e)?Mu(e):e[me]&64&&(uU()?(e[me]|=1024,Mu(e)):e[tr].changeDetectionScheduler?.notify())}function Mu(e){e[tr].changeDetectionScheduler?.notify();let t=Ru(e);for(;t!==null&&!(t[me]&8192||(t[me]|=8192,!gx(t)));)t=Ru(t)}function QA(e,t){if((e[me]&256)===256)throw new O(911,!1);e[eo]===null&&(e[eo]=[]),e[eo].push(t)}function gU(e,t){if(e[eo]===null)return;let n=e[eo].indexOf(t);n!==-1&&e[eo].splice(n,1)}function Ru(e){let t=e[un];return ds(t)?t[un]:t}var ye={lFrame:sI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vU(){return ye.lFrame.elementDepthCount}function yU(){ye.lFrame.elementDepthCount++}function _U(){ye.lFrame.elementDepthCount--}function ZA(){return ye.bindingsEnabled}function KA(){return ye.skipHydrationRootTNode!==null}function xU(e){return ye.skipHydrationRootTNode===e}function bU(){ye.skipHydrationRootTNode=null}function ve(){return ye.lFrame.lView}function Rt(){return ye.lFrame.tView}function j(e){return ye.lFrame.contextLView=e,e[er]}function H(e){return ye.lFrame.contextLView=null,e}function Sn(){let e=JA();for(;e!==null&&e.type===64;)e=e.parent;return e}function JA(){return ye.lFrame.currentTNode}function CU(){let e=ye.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function da(e,t){let n=ye.lFrame;n.currentTNode=e,n.isParent=t}function yx(){return ye.lFrame.isParent}function _x(){ye.lFrame.isParent=!1}function wU(){return ye.lFrame.contextLView}function ha(){let e=ye.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function eI(){return ye.lFrame.bindingIndex}function SU(e){return ye.lFrame.bindingIndex=e}function Bu(){return ye.lFrame.bindingIndex++}function Gp(e){let t=ye.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function TU(){return ye.lFrame.inI18n}function DU(e,t){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=e,h_(t)}function EU(){return ye.lFrame.currentDirectiveIndex}function h_(e){ye.lFrame.currentDirectiveIndex=e}function tI(e){let t=ye.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function nI(){return ye.lFrame.currentQueryIndex}function xx(e){ye.lFrame.currentQueryIndex=e}function AU(e){let t=e[Ce];return t.type===2?t.declTNode:t.type===1?e[di]:null}function iI(e,t,n){if(n&Me.SkipSelf){let r=t,s=e;for(;r=r.parent,r===null&&!(n&Me.Host);)if(r=AU(s),r===null||(s=s[Ql],r.type&10))break;if(r===null)return!1;t=r,e=s}let i=ye.lFrame=rI();return i.currentTNode=t,i.lView=e,!0}function bx(e){let t=rI(),n=e[Ce];ye.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rI(){let e=ye.lFrame,t=e===null?null:e.child;return t===null?sI(e):t}function sI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function oI(){let e=ye.lFrame;return ye.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var aI=oI;function Cx(){let e=oI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function IU(e){return(ye.lFrame.contextLView=mU(e,ye.lFrame.contextLView))[er]}function hs(){return ye.lFrame.selectedIndex}function ia(e){ye.lFrame.selectedIndex=e}function Wp(){let e=ye.lFrame;return YA(e.tView,e.selectedIndex)}function z(){ye.lFrame.currentNamespace=WA}function sr(){kU()}function kU(){ye.lFrame.currentNamespace=null}function MU(){return ye.lFrame.currentNamespace}var lI=!0;function qp(){return lI}function Yp(e){lI=e}function RU(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){let o=$A(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function Xp(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function up(e,t,n){cI(e,t,3,n)}function dp(e,t,n,i){(e[me]&3)===n&&cI(e,t,n,i)}function $y(e,t){let n=e[me];(n&3)===t&&(n&=16383,n+=1,e[me]=n)}function cI(e,t,n,i){let r=i!==void 0?e[Ol]&65535:0,s=i??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Ol]+=65536),(a<s||s==-1)&&(LU(e,n,t,l),e[Ol]=(e[Ol]&4294901760)+l+2),l++}function O1(e,t){Sr(4,e,t);let n=Ge(null);try{t.call(e)}finally{Ge(n),Sr(5,e,t)}}function LU(e,t,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=e[o];r?e[me]>>14<e[Ol]>>16&&(e[me]&3)===t&&(e[me]+=16384,O1(a,s)):O1(a,s)}var jl=-1,ra=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function NU(e){return e instanceof ra}function FU(e){return(e.flags&8)!==0}function OU(e){return(e.flags&16)!==0}function uI(e){return e!==jl}function xp(e){return e&32767}function PU(e){return e>>16}function bp(e,t){let n=PU(e),i=t;for(;n>0;)i=i[Ql],n--;return i}var f_=!0;function Cp(e){let t=f_;return f_=e,t}var VU=256,dI=VU-1,hI=5,BU=0,Tr={};function jU(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Su)&&(i=n[Su]),i==null&&(i=n[Su]=BU++);let r=i&dI,s=1<<r;t.data[e+(r>>hI)]|=s}function wp(e,t){let n=fI(e,t);if(n!==-1)return n;let i=t[Ce];i.firstCreatePass&&(e.injectorIndex=t.length,zy(i.data,e),zy(t,null),zy(i.blueprint,null));let r=wx(e,t),s=e.injectorIndex;if(uI(r)){let o=xp(r),a=bp(r,t),l=a[Ce].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function zy(e,t){e.push(0,0,0,0,0,0,0,0,t)}function fI(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function wx(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=yI(r),i===null)return jl;if(n++,r=r[Ql],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return jl}function p_(e,t,n){jU(e,t,n)}function HU(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(EA(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===t)return n[r+1];r=r+2}}}return null}function pI(e,t,n){if(n&Me.Optional||e!==void 0)return e;ax(t,"NodeInjector")}function mI(e,t,n,i){if(n&Me.Optional&&i===void 0&&(i=null),!(n&(Me.Self|Me.Host))){let r=e[zl],s=Gn(void 0);try{return r?r.get(t,i,n&Me.Optional):bA(t,i,n&Me.Optional)}finally{Gn(s)}}return pI(i,t,n)}function gI(e,t,n,i=Me.Default,r){if(e!==null){if(t[me]&2048&&!(i&Me.Self)){let o=GU(e,t,n,i,Tr);if(o!==Tr)return o}let s=vI(e,t,n,i,Tr);if(s!==Tr)return s}return mI(t,n,i,r)}function vI(e,t,n,i,r){let s=$U(n);if(typeof s=="function"){if(!iI(t,e,i))return i&Me.Host?pI(r,n,i):mI(t,n,i,r);try{let o;if(o=s(i),o==null&&!(i&Me.Optional))ax(n);else return o}finally{aI()}}else if(typeof s=="number"){let o=null,a=fI(e,t),l=jl,c=i&Me.Host?t[nr][di]:null;for((a===-1||i&Me.SkipSelf)&&(l=a===-1?wx(e,t):t[a+8],l===jl||!V1(i,!1)?a=-1:(o=t[Ce],a=xp(l),t=bp(l,t)));a!==-1;){let u=t[Ce];if(P1(s,a,u.data)){let d=UU(a,t,n,o,i,c);if(d!==Tr)return d}l=t[a+8],l!==jl&&V1(i,t[Ce].data[a+8]===c)&&P1(s,a,t)?(o=u,a=xp(l),t=bp(l,t)):a=-1}}return r}function UU(e,t,n,i,r,s){let o=t[Ce],a=o.data[e+8],l=i==null?Up(a)&&f_:i!=o&&(a.type&3)!==0,c=r&Me.Host&&s===a,u=hp(a,o,n,l,c);return u!==null?sa(t,o,u,a):Tr}function hp(e,t,n,i,r){let s=e.providerIndexes,o=t.data,a=s&1048575,l=e.directiveStart,c=e.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let v=o[f];if(f<l&&n===v||f>=l&&v.type===n)return f}if(r){let f=o[l];if(f&&cs(f)&&f.type===n)return l}return null}function sa(e,t,n,i){let r=e[n],s=t.data;if(NU(r)){let o=r;o.resolving&&m4(p4(s[n]));let a=Cp(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Gn(o.injectImpl):null,u=iI(e,i,Me.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&RU(n,s[n],t)}finally{c!==null&&Gn(c),Cp(a),o.resolving=!1,aI()}}return r}function $U(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Su)?e[Su]:void 0;return typeof t=="number"?t>=0?t&dI:zU:t}function P1(e,t,n){let i=1<<e;return!!(n[t+(e>>hI)]&i)}function V1(e,t){return!(e&Me.Self)&&!(e&Me.Host&&t)}var Jo=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return gI(this._tNode,this._lView,t,Op(i),n)}};function zU(){return new Jo(Sn(),ve())}function qn(e){return Fu(()=>{let t=e.prototype.constructor,n=t[mp]||m_(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let s=r[mp]||m_(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function m_(e){return mA(e)?()=>{let t=m_(Nn(e));return t&&t()}:ea(e)}function GU(e,t,n,i,r){let s=e,o=t;for(;s!==null&&o!==null&&o[me]&2048&&!(o[me]&512);){let a=vI(s,o,n,i|Me.Self,Tr);if(a!==Tr)return a;let l=s.parent;if(!l){let c=o[HA];if(c){let u=c.get(n,Tr,i);if(u!==Tr)return u}l=yI(o),o=o[Ql]}s=l}return r}function yI(e){let t=e[Ce],n=t.type;return n===2?t.declTNode:n===1?e[di]:null}function Sx(e){return HU(Sn(),e)}function B1(e,t=null,n=null,i){let r=_I(e,t,n,i);return r.resolveInjectorInitializers(),r}function _I(e,t=null,n=null,i,r=new Set){let s=[n||Wn,ux(e)];return i=i||(typeof e=="object"?void 0:Fn(e)),new Eu(s,t||hx(),i||null,r)}var dn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Tu}static{this.NULL=new yp}static create(n,i){if(Array.isArray(n))return B1({name:""},i,n,"");{let r=n.name??"";return B1({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=U({token:e,providedIn:"any",factory:()=>V(SA)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var WU="ngOriginalError";function Gy(e){return e[WU]}var Ir=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Gy(t);for(;n&&Gy(n);)n=Gy(n);return n||null}},xI=new re("",{providedIn:"root",factory:()=>F(Ir).handleError.bind(void 0)}),Tx=(()=>{class e{static{this.__NG_ELEMENT_ID__=qU}static{this.__NG_ENV_ID__=n=>n}}return e})(),g_=class extends Tx{constructor(t){super(),this._lView=t}onDestroy(t){return QA(this._lView,t),()=>gU(this._lView,t)}};function qU(){return new g_(ve())}function YU(){return Zl(Sn(),ve())}function Zl(e,t){return new Je(Mi(e,t))}var Je=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=YU}}return e})();function XU(e){return e instanceof Je?e.nativeElement:e}var v_=class extends ft{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,jA()&&(this.destroyRef=F(Tx,{optional:!0})??void 0)}emit(t){let n=Ge(null);try{super.next(t)}finally{Ge(n)}}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Wy(s),r&&(r=Wy(r)),o&&(o=Wy(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof wt&&t.add(a),a}};function Wy(e){return t=>{setTimeout(e,void 0,t)}}var ee=v_;function QU(){return this._results[Symbol.iterator]()}var y_=class e{get changes(){return this._changes??=new ee}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=QU)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=D4(t);(this._changesDetected=!T4(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bI(e){return(e.flags&128)===128}var CI=new Map,ZU=0;function KU(){return ZU++}function JU(e){CI.set(e[Hp],e)}function e5(e){CI.delete(e[Hp])}var j1="__ngContext__";function no(e,t){Ko(t)?(e[j1]=t[Hp],JU(t)):e[j1]=t}function wI(e){return TI(e[ku])}function SI(e){return TI(e[Ji])}function TI(e){for(;e!==null&&!ds(e);)e=e[Ji];return e}var __;function DI(e){__=e}function EI(){if(__!==void 0)return __;if(typeof document<"u")return document;throw new O(210,!1)}var Dx=new re("",{providedIn:"root",factory:()=>t5}),t5="ng",Ex=new re(""),qt=new re("",{providedIn:"platform",factory:()=>"unknown"});var Ax=new re(""),Ix=new re("",{providedIn:"root",factory:()=>EI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var n5="h",i5="b";var r5=()=>null;function kx(e,t,n=!1){return r5(e,t,n)}var AI=!1,s5=new re("",{providedIn:"root",factory:()=>AI});var rp;function o5(){if(rp===void 0&&(rp=null,li.trustedTypes))try{rp=li.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return rp}function Qp(e){return o5()?.createHTML(e)||e}var sp;function II(){if(sp===void 0&&(sp=null,li.trustedTypes))try{sp=li.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sp}function H1(e){return II()?.createHTML(e)||e}function U1(e){return II()?.createScriptURL(e)||e}var us=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fA})`}},x_=class extends us{getTypeName(){return"HTML"}},b_=class extends us{getTypeName(){return"Style"}},C_=class extends us{getTypeName(){return"Script"}},w_=class extends us{getTypeName(){return"URL"}},S_=class extends us{getTypeName(){return"ResourceURL"}};function Ri(e){return e instanceof us?e.changingThisBreaksApplicationSecurity:e}function fs(e,t){let n=a5(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${fA})`)}return n===t}function a5(e){return e instanceof us&&e.getTypeName()||null}function kI(e){return new x_(e)}function MI(e){return new b_(e)}function RI(e){return new C_(e)}function LI(e){return new w_(e)}function NI(e){return new S_(e)}function l5(e){let t=new D_(e);return c5()?new T_(t):t}var T_=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Qp(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}},D_=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Qp(t),n}};function c5(){try{return!!new window.DOMParser().parseFromString(Qp(""),"text/html")}catch{return!1}}var u5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zp(e){return e=String(e),e.match(u5)?e:"unsafe:"+e}function ps(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function ju(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var FI=ps("area,br,col,hr,img,wbr"),OI=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PI=ps("rp,rt"),d5=ju(PI,OI),h5=ju(OI,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),f5=ju(PI,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$1=ju(FI,h5,f5,d5),VI=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),p5=ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),m5=ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),g5=ju(VI,p5,m5),v5=ps("script,style,template"),E_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=x5(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=_5(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=z1(t).toLowerCase();if(!$1.hasOwnProperty(n))return this.sanitizedSomething=!0,!v5.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!g5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;VI[a]&&(l=Zp(l)),this.buf.push(" ",o,'="',G1(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=z1(t).toLowerCase();$1.hasOwnProperty(n)&&!FI.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(G1(t))}};function y5(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function _5(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw BI(t);return t}function x5(e){let t=e.firstChild;if(t&&y5(e,t))throw BI(t);return t}function z1(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function BI(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var b5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C5=/([^\#-~ |!])/g;function G1(e){return e.replace(/&/g,"&amp;").replace(b5,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(C5,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var op;function Mx(e,t){let n=null;try{op=op||l5(e);let i=t?String(t):"";n=op.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=op.getInertBodyElement(i)}while(i!==s);let a=new E_().sanitizeChildren(W1(n)||n);return Qp(a)}finally{if(n){let i=W1(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function W1(e){return"content"in e&&w5(e)?e.content:null}function w5(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var hi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(hi||{});function Hu(e){let t=Rx();return t?H1(t.sanitize(hi.HTML,e)||""):fs(e,"HTML")?H1(Ri(e)):Mx(EI(),Dr(e))}function S5(e){let t=Rx();return t?t.sanitize(hi.URL,e)||"":fs(e,"URL")?Ri(e):Zp(Dr(e))}function T5(e){let t=Rx();if(t)return U1(t.sanitize(hi.RESOURCE_URL,e)||"");if(fs(e,"ResourceURL"))return U1(Ri(e));throw new O(904,!1)}function D5(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?T5:S5}function jI(e,t,n){return D5(t,n)(e)}function Rx(){let e=ve();return e&&e[tr].sanitizer}var E5=/^>|^->|<!--|-->|--!>|<!-$/g,A5=/(<|>)/g,I5="\u200B$1\u200B";function k5(e){return e.replace(E5,t=>t.replace(A5,I5))}function HI(e){return e.ownerDocument.defaultView}function UI(e){return e instanceof Function?e():e}function M5(e){return(e??F(dn)).get(qt)==="browser"}var kr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kr||{}),R5;function Lx(e,t){return R5(e,t)}function Pl(e,t,n,i,r){if(i!=null){let s,o=!1;ds(i)?s=i:Ko(i)&&(o=!0,i=i[Mr]);let a=Ar(i);e===0&&n!==null?r==null?YI(t,n,a):Sp(t,n,a,r||null,!0):e===1&&n!==null?Sp(t,n,a,r||null,!0):e===2?Y5(t,a,o):e===3&&t.destroyNode(a),s!=null&&Q5(t,e,s,n,r)}}function L5(e,t){return e.createText(t)}function N5(e,t,n){e.setValue(t,n)}function F5(e,t){return e.createComment(k5(t))}function $I(e,t,n){return e.createElement(t,n)}function O5(e,t){zI(e,t),t[Mr]=null,t[di]=null}function P5(e,t,n,i,r,s){i[Mr]=r,i[di]=t,Jp(e,i,n,1,r,s)}function zI(e,t){t[tr].changeDetectionScheduler?.notify(1),Jp(e,t,t[St],2,null,null)}function V5(e){let t=e[ku];if(!t)return qy(e[Ce],e);for(;t;){let n=null;if(Ko(t))n=t[ku];else{let i=t[ci];i&&(n=i)}if(!n){for(;t&&!t[Ji]&&t!==e;)Ko(t)&&qy(t[Ce],t),t=t[un];t===null&&(t=e),Ko(t)&&qy(t[Ce],t),n=t&&t[Ji]}t=n}}function B5(e,t,n,i){let r=ci+i,s=n.length;i>0&&(n[r-1][Ji]=t),i<s-ci?(t[Ji]=n[r],wA(n,ci+i,t)):(n.push(t),t[Ji]=null),t[un]=n;let o=t[Vu];o!==null&&n!==o&&j5(o,t);let a=t[ls];a!==null&&a.insertView(e),d_(t),t[me]|=128}function j5(e,t){let n=e[Gl],r=t[un][un][nr];t[nr]!==r&&(e[me]|=px.HasTransplantedViews),n===null?e[Gl]=[t]:n.push(t)}function GI(e,t){let n=e[Gl],i=n.indexOf(t);n.splice(i,1)}function A_(e,t){if(e.length<=ci)return;let n=ci+t,i=e[n];if(i){let r=i[Vu];r!==null&&r!==e&&GI(r,i),t>0&&(e[n-1][Ji]=i[Ji]);let s=vp(e,ci+t);O5(i[Ce],i);let o=s[ls];o!==null&&o.detachView(s[Ce]),i[un]=null,i[Ji]=null,i[me]&=-129}return i}function WI(e,t){if(!(t[me]&256)){let n=t[St];n.destroyNode&&Jp(e,t,n,3,null,null),V5(t)}}function qy(e,t){if(t[me]&256)return;let n=Ge(null);try{t[me]&=-129,t[me]|=256,t[ta]&&$E(t[ta]),U5(e,t),H5(e,t),t[Ce].type===1&&t[St].destroy();let i=t[Vu];if(i!==null&&ds(t[un])){i!==t[un]&&GI(i,t);let r=t[ls];r!==null&&r.detachView(e)}e5(t)}finally{Ge(n)}}function H5(e,t){let n=e.cleanup,i=t[Iu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(t[Iu]=null);let r=t[eo];if(r!==null){t[eo]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function U5(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof ra)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Sr(4,a,l);try{l.call(a)}finally{Sr(5,a,l)}}else{Sr(4,r,s);try{s.call(r)}finally{Sr(5,r,s)}}}}}function qI(e,t,n){return $5(e,t.parent,n)}function $5(e,t,n){let i=t;for(;i!==null&&i.type&40;)t=i,i=t.parent;if(i===null)return n[Mr];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=e.data[i.directiveStart+r];if(s===Er.None||s===Er.Emulated)return null}return Mi(i,n)}}function Sp(e,t,n,i,r){e.insertBefore(t,n,i,r)}function YI(e,t,n){e.appendChild(t,n)}function q1(e,t,n,i,r){i!==null?Sp(e,t,n,i,r):YI(e,t,n)}function z5(e,t,n,i){e.removeChild(t,n,i)}function Nx(e,t){return e.parentNode(t)}function G5(e,t){return e.nextSibling(t)}function XI(e,t,n){return q5(e,t,n)}function W5(e,t,n){return e.type&40?Mi(e,n):null}var q5=W5,Y1;function Kp(e,t,n,i){let r=qI(e,i,t),s=t[St],o=i.parent||t[di],a=XI(o,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)q1(s,r,n[l],a,!1);else q1(s,r,n,a,!1);Y1!==void 0&&Y1(s,i,t,n,r)}function fp(e,t){if(t!==null){let n=t.type;if(n&3)return Mi(t,e);if(n&4)return I_(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return fp(e,i);{let r=e[t.index];return ds(r)?I_(-1,r):Ar(r)}}else{if(n&32)return Lx(t,e)()||Ar(e[t.index]);{let i=QI(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Ru(e[nr]);return fp(r,i)}else return fp(e,t.next)}}}return null}function QI(e,t){if(t!==null){let i=e[nr][di],r=t.projection;return i.projection[r]}return null}function I_(e,t){let n=ci+e+1;if(n<t.length){let i=t[n],r=i[Ce].firstChild;if(r!==null)return fp(i,r)}return t[na]}function Y5(e,t,n){let i=Nx(e,t);i&&z5(e,i,t,n)}function Fx(e,t,n,i,r,s,o){for(;n!=null;){let a=i[n.index],l=n.type;if(o&&t===0&&(a&&no(Ar(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)Fx(e,t,n.child,i,r,s,!1),Pl(t,e,r,a,s);else if(l&32){let c=Lx(n,i),u;for(;u=c();)Pl(t,e,r,u,s);Pl(t,e,r,a,s)}else l&16?ZI(e,t,i,n,r,s):Pl(t,e,r,a,s);n=o?n.projectionNext:n.next}}function Jp(e,t,n,i,r,s){Fx(n,i,e.firstChild,t,r,s,!1)}function X5(e,t,n){let i=t[St],r=qI(e,n,t),s=n.parent||t[di],o=XI(s,n,t);ZI(i,0,t,n,r,o)}function ZI(e,t,n,i,r,s){let o=n[nr],l=o[di].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Pl(t,e,r,u,s)}else{let c=l,u=o[un];bI(i)&&(c.flags|=128),Fx(e,t,c,u,r,s,!0)}}function Q5(e,t,n,i,r){let s=n[na],o=Ar(n);s!==o&&Pl(t,e,i,s,r);for(let a=ci;a<n.length;a++){let l=n[a];Jp(l[Ce],l,e,t,i,s)}}function Z5(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:kr.DashCase;r==null?e.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=kr.Important),e.setStyle(n,i,r,s))}}function K5(e,t,n){e.setAttribute(t,"style",n)}function KI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function JI(e,t,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&o_(e,t,i),r!==null&&KI(e,t,r),s!==null&&K5(e,t,s)}var Yn={};function g(e=1){ek(Rt(),ve(),hs()+e,!1)}function ek(e,t,n,i){if(!i)if((t[me]&3)===3){let s=e.preOrderCheckHooks;s!==null&&up(t,s,n)}else{let s=e.preOrderHooks;s!==null&&dp(t,s,0,n)}ia(n)}function D(e,t=Me.Default){let n=ve();if(n===null)return V(e,t);let i=Sn();return gI(i,n,Nn(e),t)}function tk(){let e="invalid";throw new Error(e)}function nk(e,t,n,i,r,s){let o=Ge(null);try{let a=null;r&Bt.SignalBased&&(a=t[i][zo]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Bt.HasDecoratorInputTransform&&(s=e.inputTransforms[i].call(t,s)),e.setInput!==null?e.setInput(t,a,s,n,i):UA(t,a,i,s)}finally{Ge(o)}}function J5(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ia(~r);else{let s=r,o=n[++i],a=n[++i];DU(o,s);let l=t[s];a(2,l)}}}finally{ia(-1)}}function em(e,t,n,i,r,s,o,a,l,c,u){let d=t.blueprint.slice();return d[Mr]=r,d[me]=i|4|128|8|64,(c!==null||e&&e[me]&2048)&&(d[me]|=2048),XA(d),d[un]=d[Ql]=e,d[er]=n,d[tr]=o||e&&e[tr],d[St]=a||e&&e[St],d[zl]=l||e&&e[zl]||null,d[di]=s,d[Hp]=KU(),d[Au]=u,d[HA]=c,d[nr]=t.type==2?e[nr]:d,d}function Kl(e,t,n,i,r){let s=e.data[t];if(s===null)s=e$(e,t,n,i,r),TU()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=CU();s.injectorIndex=o===null?-1:o.injectorIndex}return da(s,!0),s}function e$(e,t,n,i,r){let s=JA(),o=yx(),a=o?s:s&&s.parent,l=e.data[t]=o$(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ik(e,t,n,i){if(n===0)return-1;let r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function rk(e,t,n,i,r){let s=hs(),o=i&2;try{ia(-1),o&&t.length>On&&ek(e,t,On,!1),Sr(o?2:0,r),n(i,r)}finally{ia(s),Sr(o?3:1,r)}}function Ox(e,t,n){if(mx(t)){let i=Ge(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=e.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Ge(i)}}}function Px(e,t,n){ZA()&&(h$(e,t,n,Mi(n,t)),(n.flags&64)===64&&ak(e,t,n))}function Vx(e,t,n=Mi){let i=t.localNames;if(i!==null){let r=t.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(t,e):e[o];e[r++]=a}}}function sk(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Bx(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Bx(e,t,n,i,r,s,o,a,l,c,u){let d=On+i,h=d+r,f=t$(d,h),v=typeof c=="function"?c():c;return f[Ce]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:u}}function t$(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Yn);return n}function n$(e,t,n,i){let s=i.get(s5,AI)||n===Er.ShadowDom,o=e.selectRootElement(t,s);return i$(o),o}function i$(e){r$(e)}var r$=()=>null;function s$(e,t,n,i){let r=uk(t);r.push(n),e.firstCreatePass&&dk(e).push(i,r.length-1)}function o$(e,t,n,i,r,s){let o=t?t.injectorIndex:-1,a=0;return KA()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function X1(e,t,n,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;i??={};let a,l=Bt.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}e===0?Q1(i,n,c,a,l):Q1(i,n,c,a)}return i}function Q1(e,t,n,i,r){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,i):s=e[n]=[t,i],r!==void 0&&s.push(r)}function a$(e,t,n){let i=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,v=h?h.outputs:null;l=X1(0,d.inputs,u,l,f),c=X1(1,d.outputs,u,c,v);let b=l!==null&&o!==null&&!cx(t)?w$(l,u,o):null;a.push(b)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function l$(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function jx(e,t,n,i,r,s,o,a){let l=Mi(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(Ux(e,n,u,i,r),Up(t)&&c$(n,t.index)):t.type&3?(i=l$(i),r=o!=null?o(r,t.value||"",i):r,s.setProperty(l,i,r)):t.type&12}function c$(e,t){let n=ro(t,e);n[me]&16||(n[me]|=64)}function Hx(e,t,n,i){if(ZA()){let r=i===null?null:{"":-1},s=p$(e,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&ok(e,t,n,o,r,a),r&&m$(n,i,r)}n.mergedAttrs=Du(n.mergedAttrs,n.attrs)}function ok(e,t,n,i,r,s){for(let c=0;c<i.length;c++)p_(wp(n,t),e,i[c].type);v$(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ik(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Du(n.mergedAttrs,u.hostAttrs),y$(e,n,t,l,u),g$(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}a$(e,n,s)}function u$(e,t,n,i,r){let s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;d$(o)!=a&&o.push(a),o.push(n,i,s)}}function d$(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function h$(e,t,n,i){let r=n.directiveStart,s=n.directiveEnd;Up(n)&&_$(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||wp(n,t),no(i,t);let o=n.initialInputs;for(let a=r;a<s;a++){let l=e.data[a],c=sa(t,e,a,n);if(no(c,t),o!==null&&C$(t,a-r,c,l,n,o),cs(l)){let u=ro(n.index,t);u[er]=sa(t,e,a,n)}}}function ak(e,t,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=EU();try{ia(s);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];h_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&f$(l,c)}}finally{ia(-1),h_(o)}}function f$(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function p$(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(IA(t,o.selectors,!1))if(i||(i=[]),cs(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;k_(e,t,l)}else i.unshift(o),k_(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function k_(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function m$(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let s=n[t[r+1]];if(s==null)throw new O(-301,!1);i.push(t[r],s)}}}function g$(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;cs(t)&&(n[""]=e)}}function v$(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function y$(e,t,n,i,r){e.data[i]=r;let s=r.factory||(r.factory=ea(r.type,!0)),o=new ra(s,cs(r),D);e.blueprint[i]=o,n[i]=o,u$(e,t,i,ik(e,n,r.hostVars,Yn),r)}function _$(e,t,n){let i=Mi(t,e),r=sk(n),s=e[tr].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=tm(e,em(e,r,null,o,i,t,null,s.createRenderer(i,n),null,null,null));e[t.index]=a}function x$(e,t,n,i,r,s){let o=Mi(e,t);b$(t[St],o,s,e.value,n,i,r)}function b$(e,t,n,i,r,s,o){if(s==null)e.removeAttribute(t,r,n);else{let a=o==null?Dr(s):o(s,i||"",r);e.setAttribute(t,r,a,n)}}function C$(e,t,n,i,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];nk(i,n,l,c,u,d)}}function w$(e,t,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){i===null&&(i=[]);let o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function lk(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function ck(e,t){let n=e.contentQueries;if(n!==null){let i=Ge(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=e.data[o];xx(s),a.contentQueries(2,t[o],o)}}}finally{Ge(i)}}}function tm(e,t){return e[ku]?e[N1][Ji]=t:e[ku]=t,e[N1]=t,t}function M_(e,t,n){xx(0);let i=Ge(null);try{t(e,n)}finally{Ge(i)}}function uk(e){return e[Iu]||(e[Iu]=[])}function dk(e){return e.cleanup||(e.cleanup=[])}function S$(e,t,n){return(e===null||cs(e))&&(n=dU(n[t.index])),n[St]}function hk(e,t){let n=e[zl],i=n?n.get(Ir,null):null;i&&i.handleError(t)}function Ux(e,t,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=t[o],u=e.data[o];nk(u,c,i,a,l,r)}}function $x(e,t,n){let i=qA(t,e);N5(e[St],i,n)}function T$(e,t){let n=ro(t,e),i=n[Ce];D$(i,n);let r=n[Mr];r!==null&&n[Au]===null&&(n[Au]=kx(r,n[zl])),zx(i,n,n[er])}function D$(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function zx(e,t,n){bx(t);try{let i=e.viewQuery;i!==null&&M_(1,i,n);let r=e.template;r!==null&&rk(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ls]?.finishViewCreation(e),e.staticContentQueries&&ck(e,t),e.staticViewQueries&&M_(2,e.viewQuery,n);let s=e.components;s!==null&&E$(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[me]&=-5,Cx()}}function E$(e,t){for(let n=0;n<t.length;n++)T$(e,t[n])}function A$(e,t,n,i){let r=Ge(null);try{let s=t.tView,a=e[me]&4096?4096:16,l=em(e,s,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[Vu]=c;let u=e[ls];return u!==null&&(l[ls]=u.createEmbeddedView(s)),zx(s,l,n),l}finally{Ge(r)}}function Z1(e,t){return!t||t.firstChild===null||bI(e)}function I$(e,t,n,i=!0){let r=t[Ce];if(B5(r,t,e,n),i){let o=I_(n,e),a=t[St],l=Nx(a,e[na]);l!==null&&P5(r,e[di],a,t,l,o)}let s=t[Au];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Tp(e,t,n,i,r=!1){for(;n!==null;){let s=t[n.index];s!==null&&i.push(Ar(s)),ds(s)&&k$(s,i);let o=n.type;if(o&8)Tp(e,t,n.child,i);else if(o&32){let a=Lx(n,t),l;for(;l=a();)i.push(l)}else if(o&16){let a=QI(t,n);if(Array.isArray(a))i.push(...a);else{let l=Ru(t[nr]);Tp(l[Ce],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function k$(e,t){for(let n=ci;n<e.length;n++){let i=e[n],r=i[Ce].firstChild;r!==null&&Tp(i[Ce],i,r,t)}e[na]!==e[Mr]&&t.push(e[na])}var fk=[];function M$(e){return e[ta]??R$(e)}function R$(e){let t=fk.pop()??Object.create(N$);return t.lView=e,t}function L$(e){e.lView[ta]!==e&&(e.lView=null,fk.push(e))}var N$=Ie(L({},by),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Mu(e.lView)},consumerOnSignalRead(){this.lView[ta]=this}}),pk=100;function mk(e,t=!0,n=0){let i=e[tr],r=i.rendererFactory,s=!1;s||r.begin?.();try{F$(e,n)}catch(o){throw t&&hk(e,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function F$(e,t){R_(e,t);let n=0;for(;vx(e);){if(n===pk)throw new O(103,!1);n++,R_(e,1)}}function O$(e,t,n,i){let r=t[me];if((r&256)===256)return;let s=!1;!s&&t[tr].inlineEffectRunner?.flush(),bx(t);let o=null,a=null;!s&&P$(e)&&(a=M$(t),o=HE(a));try{XA(t),SU(e.bindingStartIndex),n!==null&&rk(e,t,n,2,i);let l=(r&3)===3;if(!s)if(l){let d=e.preOrderCheckHooks;d!==null&&up(t,d,null)}else{let d=e.preOrderHooks;d!==null&&dp(t,d,0,null),$y(t,0)}if(V$(t),gk(t,0),e.contentQueries!==null&&ck(e,t),!s)if(l){let d=e.contentCheckHooks;d!==null&&up(t,d)}else{let d=e.contentHooks;d!==null&&dp(t,d,1),$y(t,1)}J5(e,t);let c=e.components;c!==null&&yk(t,c,0);let u=e.viewQuery;if(u!==null&&M_(2,u,i),!s)if(l){let d=e.viewCheckHooks;d!==null&&up(t,d)}else{let d=e.viewHooks;d!==null&&dp(t,d,2),$y(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Uy]){for(let d of t[Uy])d();t[Uy]=null}s||(t[me]&=-73)}catch(l){throw Mu(t),l}finally{a!==null&&(UE(a,o),L$(a)),Cx()}}function P$(e){return e.type!==2}function gk(e,t){for(let n=wI(e);n!==null;n=SI(n))for(let i=ci;i<n.length;i++){let r=n[i];vk(r,t)}}function V$(e){for(let t=wI(e);t!==null;t=SI(t)){if(!(t[me]&px.HasTransplantedViews))continue;let n=t[Gl];for(let i=0;i<n.length;i++){let r=n[i],s=r[un];pU(r)}}}function B$(e,t,n){let i=ro(t,e);vk(i,n)}function vk(e,t){gx(e)&&R_(e,t)}function R_(e,t){let i=e[Ce],r=e[me],s=e[ta],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&Cy(s)),s&&(s.dirty=!1),e[me]&=-9217,o)O$(i,e,i.template,e[er]);else if(r&8192){gk(e,1);let a=i.components;a!==null&&yk(e,a,1)}}function yk(e,t,n){for(let i=0;i<t.length;i++)B$(e,t[i],n)}function Gx(e){for(e[tr].changeDetectionScheduler?.notify();e;){e[me]|=64;let t=Ru(e);if(rU(e)&&!t)return e;e=t}return null}var oa=class{get rootNodes(){let t=this._lView,n=t[Ce];return Tp(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[er]}set context(t){this._lView[er]=t}get destroyed(){return(this._lView[me]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[un];if(ds(t)){let n=t[_p],i=n?n.indexOf(this):-1;i>-1&&(A_(t,i),vp(n,i))}this._attachedToViewContainer=!1}WI(this._lView[Ce],this._lView)}onDestroy(t){QA(this._lView,t)}markForCheck(){Gx(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){d_(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,mk(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,zI(this._lView[Ce],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t,d_(this._lView)}},aa=(()=>{class e{static{this.__NG_ELEMENT_ID__=U$}}return e})(),j$=aa,H$=class extends j${constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=A$(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new oa(r)}};function U$(){return nm(Sn(),ve())}function nm(e,t){return e.type&4?new H$(t,e,Zl(e,t)):null}var x0e=new RegExp(`^(\\d+)*(${i5}|${n5})*(.*)`);var $$=()=>null;function K1(e,t){return $$(e,t)}var ql=class{},L_=class{},Dp=class{};function z$(e){let t=Error(`No component factory found for ${Fn(e)}.`);return t[G$]=e,t}var G$="ngComponent";var N_=class{resolveComponentFactory(t){throw z$(t)}},so=(()=>{class e{static{this.NULL=new N_}}return e})(),la=class{},Pn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>W$()}}return e})();function W$(){let e=ve(),t=Sn(),n=ro(t.index,e);return(Ko(n)?n:e)[St]}var q$=(()=>{class e{static{this.\u0275prov=U({token:e,providedIn:"root",factory:()=>null})}}return e})(),Yy={};var J1=new Set;function fa(e){J1.has(e)||(J1.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function eA(...e){}function Y$(){let e=typeof li.requestAnimationFrame=="function",t=li[e?"requestAnimationFrame":"setTimeout"],n=li[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Ke=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ee(!1),this.onMicrotaskEmpty=new ee(!1),this.onStable=new ee(!1),this.onError=new ee(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Y$().nativeRequestAnimationFrame,Z$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new O(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,X$,eA,eA);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},X$={};function Wx(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Q$(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(li,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,F_(e),e.isCheckStableRunning=!0,Wx(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),F_(e))}function Z$(e){let t=()=>{Q$(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(K$(a))return n.invokeTask(r,s,o,a);try{return tA(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),nA(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return tA(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),nA(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,F_(e),Wx(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function F_(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function tA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nA(e){e._nesting--,Wx(e)}function K$(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Vl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Vl||{}),J$={destroy(){}};function im(e,t){!t&&nU(im);let n=t?.injector??F(dn);if(!M5(n))return J$;fa("NgAfterNextRender");let i=n.get(qx),r=i.handler??=new P_,s=t?.phase??Vl.MixedReadWrite,o=()=>{r.unregister(l),a()},a=n.get(Tx).onDestroy(o),l=rr(n,()=>new O_(s,()=>{o(),e()}));return r.register(l),{destroy:o}}var O_=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=F(Ke),this.errorHandler=F(Ir,{optional:!0}),F(ql,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},P_=class{constructor(){this.executingCallbacks=!1,this.buckets={[Vl.EarlyRead]:new Set,[Vl.Write]:new Set,[Vl.MixedReadWrite]:new Set,[Vl.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},qx=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=U({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ep(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=n_(r,a);else if(s==2){let l=a,c=t[++o];i=n_(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Ap=class extends so{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=to(t);return new Yl(n,this.ngModule)}};function iA(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let i=e[n];i!==void 0&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return t}function ez(e){let t=e.toLowerCase();return t==="svg"?WA:t==="math"?lU:null}var V_=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Op(i);let r=this.injector.get(t,Yy,i);return r!==Yy||n===Yy?r:this.parentInjector.get(t,n,i)}},Yl=class extends Dp{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=iA(t.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return iA(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=H4(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=Ge(null);try{r=r||this.ngModule;let o=r instanceof wn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new V_(t,o):t,l=a.get(la,null);if(l===null)throw new O(407,!1);let c=a.get(q$,null),u=a.get(qx,null),d=a.get(ql,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=i?n$(f,i,this.componentDef.encapsulation,a):$I(f,v,ez(v)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let w=null;b!==null&&(w=kx(b,a,!0));let A=Bx(0,null,null,1,0,null,null,null,null,null,null),T=em(null,A,null,x,null,null,h,f,a,null,w);bx(T);let k,P;try{let M=this.componentDef,Y,G=null;M.findHostDirectiveDefs?(Y=[],G=new Map,M.findHostDirectiveDefs(M,Y,G),Y.push(M)):Y=[M];let He=tz(T,b),be=nz(He,b,M,Y,T,h,f);P=YA(A,On),b&&sz(f,M,b,i),n!==void 0&&oz(P,this.ngContentSelectors,n),k=rz(be,M,Y,G,T,[az]),zx(A,T,null)}finally{Cx()}return new B_(this.componentType,k,Zl(P,T),T,P)}finally{Ge(s)}}},B_=class extends L_{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new oa(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView;Ux(s[Ce],s,r,t,n),this.previousInputValues.set(t,n);let o=ro(this._tNode.index,s);Gx(o)}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function tz(e,t){let n=e[Ce],i=On;return e[i]=t,Kl(n,i,2,"#host",null)}function nz(e,t,n,i,r,s,o){let a=r[Ce];iz(i,e,t,o);let l=null;t!==null&&(l=kx(t,r[zl]));let c=s.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=em(r,sk(n),null,u,r[e.index],e,s,c,null,null,l);return a.firstCreatePass&&k_(a,e,i.length-1),tm(r,d),r[e.index]=d}function iz(e,t,n,i){for(let r of e)t.mergedAttrs=Du(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Ep(t,t.mergedAttrs,!0),n!==null&&JI(i,n,t))}function rz(e,t,n,i,r,s){let o=Sn(),a=r[Ce],l=Mi(o,r);ok(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=sa(r,a,d,o);no(h,r)}ak(a,r,o),l&&no(l,r);let c=sa(r,a,o.directiveStart+o.componentOffset,o);if(e[er]=r[er]=c,s!==null)for(let u of s)u(c,t);return Ox(a,o,r),c}function sz(e,t,n,i){if(i)o_(e,n,["ng-version","17.3.12"]);else{let{attrs:r,classes:s}=U4(t.selectors[0]);r&&o_(e,n,r),s&&s.length>0&&KI(e,n,s.join(" "))}}function oz(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function az(){let e=Sn();Xp(ve()[Ce],e)}var or=(()=>{class e{static{this.__NG_ELEMENT_ID__=lz}}return e})();function lz(){let e=Sn();return xk(e,ve())}var cz=or,_k=class extends cz{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){let t=wx(this._hostTNode,this._hostLView);if(uI(t)){let n=bp(t,this._hostLView),i=xp(t),r=n[Ce].data[i+8];return new Jo(r,n)}else return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=rA(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ci}createEmbeddedView(t,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=K1(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,Z1(this._hostTNode,o)),a}createComponent(t,n,i,r,s){let o=t&&!iU(t),a;if(o)a=n;else{let v=n||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?t:new Yl(to(t)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let b=(o?c:this.parentInjector).get(wn,null);b&&(s=b)}let u=to(l.componentType??{}),d=K1(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,Z1(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(fU(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[un],c=new _k(l,l[di],l[un]);c.detach(c.indexOf(t))}}let s=this._adjustIndex(n),o=this._lContainer;return I$(o,r,s,i),t.attachToViewContainerRef(),wA(Xy(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=rA(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=A_(this._lContainer,n);i&&(vp(Xy(this._lContainer),n),WI(i[Ce],i))}detach(t){let n=this._adjustIndex(t,-1),i=A_(this._lContainer,n);return i&&vp(Xy(this._lContainer),n)!=null?new oa(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function rA(e){return e[_p]}function Xy(e){return e[_p]||(e[_p]=[])}function xk(e,t){let n,i=t[e.index];return ds(i)?n=i:(n=lk(i,t,null,e),t[e.index]=n,tm(t,n)),dz(n,t,e,i),new _k(n,e,t)}function uz(e,t){let n=e[St],i=n.createComment(""),r=Mi(t,e),s=Nx(n,r);return Sp(n,s,i,G5(n,r),!1),i}var dz=pz,hz=()=>!1;function fz(e,t,n){return hz(e,t,n)}function pz(e,t,n,i){if(e[na])return;let r;n.type&8?r=Ar(i):r=uz(t,n),e[na]=r}var j_=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},H_=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Yx(t,n).matches!==null&&this.queries[n].setDirty()}},Ip=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Cz(t):this.predicate=t}},U_=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},$_=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(t,n,mz(n,s)),this.matchTNodeWithReadOption(t,n,hp(n,t,s,!1,!1))}else i===aa?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,hp(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Je||r===or||r===aa&&n.type&4)this.addMatch(n.index,-2);else{let s=hp(n,t,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function mz(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function gz(e,t){return e.type&11?Zl(e,t):e.type&4?nm(e,t):null}function vz(e,t,n,i){return n===-1?gz(t,e):n===-2?yz(e,t,i):sa(e,e[Ce],n,t)}function yz(e,t,n){if(n===Je)return Zl(t,e);if(n===aa)return nm(t,e);if(n===or)return xk(t,e)}function bk(e,t,n,i){let r=t[ls].queries[i];if(r.matches===null){let s=e.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(vz(t,u,o[l+1],n.metadata.read))}}r.matches=a}return r.matches}function z_(e,t,n,i){let r=e.queries.getByIndex(n),s=r.matches;if(s!==null){let o=bk(e,t,r,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=t[-l];for(let d=ci;d<u.length;d++){let h=u[d];h[Vu]===h[un]&&z_(h[Ce],h,c,i)}if(u[Gl]!==null){let d=u[Gl];for(let h=0;h<d.length;h++){let f=d[h];z_(f[Ce],f,c,i)}}}}}return i}function _z(e,t){return e[ls].queries[t].queryList}function Ck(e,t,n){let i=new y_((n&4)===4);return s$(e,t,i,i.destroy),(t[ls]??=new H_).queries.push(new j_(i))-1}function xz(e,t,n){let i=Rt();return i.firstCreatePass&&(wk(i,new Ip(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Ck(i,ve(),t)}function bz(e,t,n,i){let r=Rt();if(r.firstCreatePass){let s=Sn();wk(r,new Ip(t,n,i),s.index),wz(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return Ck(r,ve(),n)}function Cz(e){return e.split(",").map(t=>t.trim())}function wk(e,t,n){e.queries===null&&(e.queries=new U_),e.queries.track(new $_(t,n))}function wz(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function Yx(e,t){return e.queries.getByIndex(t)}function Sz(e,t){let n=e[Ce],i=Yx(n,t);return i.crossesNgTemplate?z_(n,e,t,[]):bk(n,e,i,t)}function Tz(e){return typeof e=="function"&&e[zo]!==void 0}function Uu(e,t){fa("NgSignals");let n=XE(e),i=n[zo];return t?.equal&&(i.equal=t.equal),n.set=r=>wy(i,r),n.update=r=>QE(i,r),n.asReadonly=Dz.bind(n),n}function Dz(){let e=this[zo];if(e.readonlyFn===void 0){let t=()=>this();t[zo]=e,e.readonlyFn=t}return e.readonlyFn}function Sk(e){return Tz(e)&&typeof e.set=="function"}function Ez(e){return Object.getPrototypeOf(e.prototype).constructor}function nn(e){let t=Ez(e.type),n=!0,i=[e];for(;t;){let r;if(cs(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new O(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let o=e;o.inputs=ap(e.inputs),o.inputTransforms=ap(e.inputTransforms),o.declaredInputs=ap(e.declaredInputs),o.outputs=ap(e.outputs);let a=r.hostBindings;a&&Rz(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&kz(e,l),c&&Mz(e,c),Az(e,r),o4(e.outputs,r.outputs),cs(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===nn&&(n=!1)}}t=Object.getPrototypeOf(t)}Iz(i)}function Az(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function Iz(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Du(r.hostAttrs,n=Du(n,r.hostAttrs))}}function ap(e){return e===Hl?{}:e===Wn?[]:e}function kz(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function Mz(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,s)=>{t(i,r,s),n(i,r,s)}:e.contentQueries=t}function Rz(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Xx(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var io=class{},Lu=class{};var G_=class extends io{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ap(this);let r=LA(t);this._bootstrapComponents=UI(r.bootstrap),this._r3Injector=_I(t,n,[{provide:io,useValue:this},{provide:so,useValue:this.componentFactoryResolver},...i],Fn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},W_=class extends Lu{constructor(t){super(),this.moduleType=t}create(t){return new G_(this.moduleType,t,[])}};var kp=class extends io{constructor(t){super(),this.componentFactoryResolver=new Ap(this),this.instance=null;let n=new Eu([...t.providers,{provide:io,useValue:this},{provide:so,useValue:this.componentFactoryResolver}],t.parent||hx(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function rm(e,t,n=null){return new kp({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Jl=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new At(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Tk(e){return Qx(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Lz(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function Qx(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function sm(e,t,n){return e[t]=n}function Nz(e,t){return e[t]}function ir(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function Zx(e,t,n,i){let r=ir(e,t,n);return ir(e,t+1,i)||r}function Dk(e,t,n,i,r){let s=Zx(e,t,n,i);return ir(e,t+2,r)||s}function Fz(e){return(e.flags&32)===32}function Oz(e,t,n,i,r,s,o,a,l){let c=t.consts,u=Kl(t,e,4,o||null,Wl(c,a));Hx(t,n,u,Wl(c,l)),Xp(t,u);let d=u.tView=Bx(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function E(e,t,n,i,r,s,o,a){let l=ve(),c=Rt(),u=e+On,d=c.firstCreatePass?Oz(u,c,l,t,n,i,r,s,o):c.data[u];da(d,!1);let h=Pz(c,l,d,e);qp()&&Kp(c,l,h,d),no(h,l);let f=lk(h,l,h,d);return l[u]=f,tm(l,f),fz(f,d,l),$p(d)&&Px(c,l,d),o!=null&&Vx(l,d,a),E}var Pz=Vz;function Vz(e,t,n,i){return Yp(!0),t[St].createComment("")}function le(e,t,n,i){let r=ve(),s=Bu();if(ir(r,s,t)){let o=Rt(),a=Wp();x$(a,r,e,t,n,i)}return le}function Ek(e,t,n,i){return ir(e,Bu(),n)?t+Dr(n)+i:Yn}function Bz(e,t,n,i,r,s){let o=eI(),a=Zx(e,o,n,r);return Gp(2),a?t+Dr(n)+i+Dr(r)+s:Yn}function jz(e,t,n,i,r,s,o,a){let l=eI(),c=Dk(e,l,n,r,o);return Gp(3),c?t+Dr(n)+i+Dr(r)+s+Dr(o)+a:Yn}function lp(e,t){return e<<17|t<<2}function ca(e){return e>>17&32767}function Hz(e){return(e&2)==2}function Uz(e,t){return e&131071|t<<17}function q_(e){return e|2}function Xl(e){return(e&131068)>>2}function Qy(e,t){return e&-131069|t<<2}function $z(e){return(e&1)===1}function Y_(e){return e|1}function zz(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=ca(o),l=Xl(o);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Pu(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=ca(e[a+1]);e[i+1]=lp(h,a),h!==0&&(e[h+1]=Qy(e[h+1],i)),e[a+1]=Uz(e[a+1],i)}else e[i+1]=lp(a,0),a!==0&&(e[a+1]=Qy(e[a+1],i)),a=i;else e[i+1]=lp(l,0),a===0?a=i:e[l+1]=Qy(e[l+1],i),l=i;c&&(e[i+1]=q_(e[i+1])),sA(e,u,i,!0),sA(e,u,i,!1),Gz(t,u,e,i,s),o=lp(a,l),s?t.classBindings=o:t.styleBindings=o}function Gz(e,t,n,i,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Pu(s,t)>=0&&(n[i+1]=Y_(n[i+1]))}function sA(e,t,n,i){let r=e[n+1],s=t===null,o=i?ca(r):Xl(r),a=!1;for(;o!==0&&(a===!1||s);){let l=e[o],c=e[o+1];Wz(l,t)&&(a=!0,e[o+1]=i?Y_(c):q_(c)),o=i?ca(c):Xl(c)}a&&(e[n+1]=i?q_(r):Y_(r))}function Wz(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Pu(e,t)>=0:!1}var Ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qz(e){return e.substring(Ki.key,Ki.keyEnd)}function Yz(e){return Xz(e),Ak(e,Ik(e,0,Ki.textEnd))}function Ak(e,t){let n=Ki.textEnd;return n===t?-1:(t=Ki.keyEnd=Qz(e,Ki.key=t,n),Ik(e,t,n))}function Xz(e){Ki.key=0,Ki.keyEnd=0,Ki.value=0,Ki.valueEnd=0,Ki.textEnd=e.length}function Ik(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Qz(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function _(e,t,n){let i=ve(),r=Bu();if(ir(i,r,t)){let s=Rt(),o=Wp();jx(s,o,i,e,t,i[St],n,!1)}return _}function X_(e,t,n,i,r){let s=t.inputs,o=r?"class":"style";Ux(e,n,s[o],o,i)}function Yt(e,t,n){return Mk(e,t,n,!1),Yt}function hn(e,t){return Mk(e,t,null,!0),hn}function ar(e){Rk(nG,kk,e,!0)}function kk(e,t){for(let n=Yz(t);n>=0;n=Ak(t,n))Vp(e,qz(t),!0)}function Mk(e,t,n,i){let r=ve(),s=Rt(),o=Gp(2);if(s.firstUpdatePass&&Nk(s,e,o,i),t!==Yn&&ir(r,o,t)){let a=s.data[hs()];Fk(s,a,r,r[St],e,r[o+1]=rG(t,n),i,o)}}function Rk(e,t,n,i){let r=Rt(),s=Gp(2);r.firstUpdatePass&&Nk(r,null,s,i);let o=ve();if(n!==Yn&&ir(o,s,n)){let a=r.data[hs()];if(Ok(a,i)&&!Lk(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=n_(l,n||"")),X_(r,a,o,n,i)}else iG(r,a,o,o[St],o[s+1],o[s+1]=tG(e,t,n),i,s)}}function Lk(e,t){return t>=e.expandoStartIndex}function Nk(e,t,n,i){let r=e.data;if(r[n+1]===null){let s=r[hs()],o=Lk(e,n);Ok(s,i)&&t===null&&!o&&(t=!1),t=Zz(r,s,t,i),zz(r,s,t,n,o,i)}}function Zz(e,t,n,i){let r=tI(e),s=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Zy(null,e,t,n,i),n=Nu(n,t.attrs,i),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==r)if(n=Zy(r,e,t,n,i),s===null){let l=Kz(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Zy(null,e,t,l[1],i),l=Nu(l,t.attrs,i),Jz(e,t,i,l))}else s=eG(e,t,i)}return s!==void 0&&(i?t.residualClasses=s:t.residualStyles=s),n}function Kz(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Xl(i)!==0)return e[ca(i)]}function Jz(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[ca(r)]=i}function eG(e,t,n){let i,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=e[s].hostAttrs;i=Nu(i,o,n)}return Nu(i,t.attrs,n)}function Zy(e,t,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=t[a],i=Nu(i,s.hostAttrs,r),s!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Nu(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Vp(e,o,n?!0:t[++s]))}return e===void 0?null:e}function tG(e,t,n){if(n==null||n==="")return Wn;let i=[],r=Ri(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else typeof r=="string"&&t(i,r);return i}function nG(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Vp(e,i,n)}function iG(e,t,n,i,r,s,o,a){r===Yn&&(r=Wn);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0,v=null,b;u===d?(l+=2,c+=2,h!==f&&(v=d,b=f)):d===null||u!==null&&u<d?(l+=2,v=u):(c+=2,v=d,b=f),v!==null&&Fk(e,t,n,i,v,b,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}function Fk(e,t,n,i,r,s,o,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=$z(c)?oA(l,t,n,r,Xl(c),o):void 0;if(!Mp(u)){Mp(s)||Hz(c)&&(s=oA(l,null,n,r,a,o));let d=qA(hs(),n);Z5(i,o,d,r,s)}}function oA(e,t,n,i,r,s){let o=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Yn&&(h=d?Wn:void 0);let f=d?jy(h,i):u===i?h:void 0;if(c&&!Mp(f)&&(f=jy(l,i)),Mp(f)&&(a=f,o))return a;let v=e[r+1];r=o?ca(v):Xl(v)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(a=jy(l,i))}return a}function Mp(e){return e!==void 0}function rG(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Fn(Ri(e)))),e}function Ok(e,t){return(e.flags&(t?8:16))!==0}function Pk(e,t,n){let i=ve(),r=Ek(i,e,t,n);Rk(Vp,kk,r,!0)}function sG(e,t,n,i,r,s){let o=t.consts,a=Wl(o,r),l=Kl(t,e,2,i,a);return Hx(t,n,l,Wl(o,s)),l.attrs!==null&&Ep(l,l.attrs,!1),l.mergedAttrs!==null&&Ep(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function m(e,t,n,i){let r=ve(),s=Rt(),o=On+e,a=r[St],l=s.firstCreatePass?sG(o,s,r,t,n,i):s.data[o],c=oG(s,r,l,a,t,e);r[o]=c;let u=$p(l);return da(l,!0),JI(a,c,l),!Fz(l)&&qp()&&Kp(s,r,c,l),vU()===0&&no(c,r),yU(),u&&(Px(s,r,l),Ox(s,l,r)),i!==null&&Vx(r,l),m}function p(){let e=Sn();yx()?_x():(e=e.parent,da(e,!1));let t=e;xU(t)&&bU(),_U();let n=Rt();return n.firstCreatePass&&(Xp(n,e),mx(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&FU(t)&&X_(n,t,ve(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&OU(t)&&X_(n,t,ve(),t.stylesWithoutHost,!1),p}function R(e,t,n,i){return m(e,t,n,i),p(),R}var oG=(e,t,n,i,r,s)=>(Yp(!0),$I(i,r,MU()));function aG(e,t,n,i,r){let s=t.consts,o=Wl(s,i),a=Kl(t,e,8,"ng-container",o);o!==null&&Ep(a,o,!0);let l=Wl(s,r);return Hx(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function lr(e,t,n){let i=ve(),r=Rt(),s=e+On,o=r.firstCreatePass?aG(s,r,i,t,n):r.data[s];da(o,!0);let a=lG(r,i,o,e);return i[s]=a,qp()&&Kp(r,i,a,o),no(a,i),$p(o)&&(Px(r,i,o),Ox(r,o,i)),n!=null&&Vx(i,o),lr}function cr(){let e=Sn(),t=Rt();return yx()?_x():(e=e.parent,da(e,!1)),t.firstCreatePass&&(Xp(t,e),mx(e)&&t.queries.elementEnd(e)),cr}function ur(e,t,n){return lr(e,t,n),cr(),ur}var lG=(e,t,n,i)=>(Yp(!0),F5(t[St],""));function K(){return ve()}function Kx(e,t,n){let i=ve(),r=Bu();if(ir(i,r,t)){let s=Rt(),o=Wp(),a=tI(s.data),l=S$(a,o,i);jx(s,o,i,e,t,l,n,!0)}return Kx}var Zo=void 0;function cG(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var uG=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",cG],Ky={};function Xn(e){let t=dG(e),n=aA(t);if(n)return n;let i=t.split("-")[0];if(n=aA(i),n)return n;if(i==="en")return uG;throw new O(701,!1)}function aA(e){return e in Ky||(Ky[e]=li.ng&&li.ng.common&&li.ng.common.locales&&li.ng.common.locales[e]),Ky[e]}var Tt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Tt||{});function dG(e){return e.toLowerCase().replace(/_/g,"-")}var Rp="en-US",hG="USD";var fG=Rp;function pG(e){typeof e=="string"&&(fG=e.toLowerCase().replace(/_/g,"-"))}function N(e,t,n,i){let r=ve(),s=Rt(),o=Sn();return Vk(s,r,r[St],o,e,t,i),N}function mG(e,t,n,i){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=t[Iu],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function Vk(e,t,n,i,r,s,o){let a=$p(i),c=e.firstCreatePass&&dk(e),u=t[er],d=uk(t),h=!0;if(i.type&3||o){let b=Mi(i,t),x=o?o(b):b,w=d.length,A=o?k=>o(Ar(k[i.index])):i.index,T=null;if(!o&&a&&(T=mG(e,t,r,i.index)),T!==null){let k=T.__ngLastListenerFn__||T;k.__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1}else{s=cA(i,t,u,s,!1);let k=n.listen(x,r,s);d.push(s,k),c&&c.push(r,A,w,w+1)}}else s=cA(i,t,u,s,!1);let f=i.outputs,v;if(h&&f!==null&&(v=f[r])){let b=v.length;if(b)for(let x=0;x<b;x+=2){let w=v[x],A=v[x+1],P=t[w][A].subscribe(s),M=d.length;d.push(s,P),c&&c.push(r,i.index,M,-(M+1))}}}function lA(e,t,n,i){let r=Ge(null);try{return Sr(6,t,n),n(i)!==!1}catch(s){return hk(e,s),!1}finally{Sr(7,t,n),Ge(r)}}function cA(e,t,n,i,r){return function s(o){if(o===Function)return i;let a=e.componentOffset>-1?ro(e.index,t):t;Gx(a);let l=lA(t,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=lA(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function S(e=1){return IU(e)}function gG(e,t){let n=null,i=O4(e);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){n=r;continue}if(i===null?IA(e,s,!0):B4(i,s))return r}return n}function $u(e){let t=ve()[nr][di];if(!t.projection){let n=e?e.length:1,i=t.projection=E4(n,null),r=i.slice(),s=t.child;for(;s!==null;){let o=e?gG(s,e):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function zu(e,t=0,n){let i=ve(),r=Rt(),s=Kl(r,On+e,16,null,n||null);s.projection===null&&(s.projection=t),_x(),(!i[Au]||KA())&&(s.flags&32)!==32&&X5(r,i,s)}function Lt(e,t,n,i){bz(e,t,n,i)}function fi(e,t,n){xz(e,t,n)}function Xe(e){let t=ve(),n=Rt(),i=nI();xx(i+1);let r=Yx(n,i);if(e.dirty&&hU(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=Sz(t,i);e.reset(s,XU),e.notifyOnChanges()}return!0}return!1}function Qe(){return _z(ve(),nI())}function vG(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function Pt(e){let t=wU();return zp(t,On+e)}function y(e,t=""){let n=ve(),i=Rt(),r=e+On,s=i.firstCreatePass?Kl(i,r,1,t,null):i.data[r],o=yG(i,n,s,t,e);n[r]=o,qp()&&Kp(i,n,o,s),da(s,!1)}var yG=(e,t,n,i,r)=>(Yp(!0),L5(t[St],i));function te(e){return J("",e,""),te}function J(e,t,n){let i=ve(),r=Ek(i,e,t,n);return r!==Yn&&$x(i,hs(),r),J}function jt(e,t,n,i,r){let s=ve(),o=Bz(s,e,t,n,i,r);return o!==Yn&&$x(s,hs(),o),jt}function Jx(e,t,n,i,r,s,o){let a=ve(),l=jz(a,e,t,n,i,r,s,o);return l!==Yn&&$x(a,hs(),l),Jx}function om(e,t,n){Sk(t)&&(t=t());let i=ve(),r=Bu();if(ir(i,r,t)){let s=Rt(),o=Wp();jx(s,o,i,e,t,i[St],n,!1)}return om}function eb(e,t){let n=Sk(e);return n&&e.set(t),n}function am(e,t){let n=ve(),i=Rt(),r=Sn();return Vk(i,n,n[St],r,e,t),am}function _G(e,t,n){let i=Rt();if(i.firstCreatePass){let r=cs(e);Q_(n,i.data,i.blueprint,r,!0),Q_(t,i.data,i.blueprint,r,!1)}}function Q_(e,t,n,i,r){if(e=Nn(e),Array.isArray(e))for(let s=0;s<e.length;s++)Q_(e[s],t,n,i,r);else{let s=Rt(),o=ve(),a=Sn(),l=$l(e)?e:Nn(e.provide),c=BA(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if($l(e)||!e.multi){let f=new ra(c,r,D),v=e_(l,t,r?u:u+h,d);v===-1?(p_(wp(a,o),s,l),Jy(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[v]=f,o[v]=f)}else{let f=e_(l,t,u+h,d),v=e_(l,t,u,u+h),b=f>=0&&n[f],x=v>=0&&n[v];if(r&&!x||!r&&!b){p_(wp(a,o),s,l);let w=CG(r?bG:xG,n.length,r,i,c);!r&&x&&(n[v].providerFactory=w),Jy(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(w),o.push(w)}else{let w=Bk(n[r?v:f],c,!r&&i);Jy(s,e,f>-1?f:v,w)}!r&&i&&x&&n[v].componentProviders++}}}function Jy(e,t,n,i){let r=$l(t),s=X4(t);if(r||s){let l=(s?Nn(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function Bk(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function e_(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function xG(e,t,n,i){return Z_(this.multi,[])}function bG(e,t,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=sa(n,n[Ce],this.providerFactory.index,i);s=a.slice(0,o),Z_(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Z_(r,s);return s}function Z_(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function CG(e,t,n,i,r){let s=new ra(e,n,D);return s.multi=[],s.index=t,s.componentProviders=0,Bk(s,r,i&&!n),s}function pi(e,t=[]){return n=>{n.providersResolver=(i,r)=>_G(i,r?r(e):e,t)}}var wG=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=OA(!1,n.type),r=i.length>0?rm([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=U({token:e,providedIn:"environment",factory:()=>new e(V(wn))})}}return e})();function Te(e){fa("NgStandalone"),e.getStandaloneInjector=t=>t.get(wG).getOrCreateStandaloneInjector(e)}function tb(e,t,n){let i=ha()+e,r=ve();return r[i]===Yn?sm(r,i,n?t.call(n):t()):Nz(r,i)}function ge(e,t,n,i){return jk(ve(),ha(),e,t,n,i)}function lm(e,t,n,i,r){return Hk(ve(),ha(),e,t,n,i,r)}function Li(e,t,n,i,r,s){return Uk(ve(),ha(),e,t,n,i,r,s)}function nb(e,t){let n=e[t];return n===Yn?void 0:n}function jk(e,t,n,i,r,s){let o=t+n;return ir(e,o,r)?sm(e,o+1,s?i.call(s,r):i(r)):nb(e,o+1)}function Hk(e,t,n,i,r,s,o){let a=t+n;return Zx(e,a,r,s)?sm(e,a+2,o?i.call(o,r,s):i(r,s)):nb(e,a+2)}function Uk(e,t,n,i,r,s,o,a){let l=t+n;return Dk(e,l,r,s,o)?sm(e,l+3,a?i.call(a,r,s,o):i(r,s,o)):nb(e,l+3)}function ct(e,t){let n=Rt(),i,r=e+On;n.firstCreatePass?(i=SG(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=ea(i.type,!0)),o,a=Gn(D);try{let l=Cp(!1),c=s();return Cp(l),vG(n,ve(),r,c),c}finally{Gn(a)}}function SG(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function Vn(e,t,n){let i=e+On,r=ve(),s=zp(r,i);return ib(r,i)?jk(r,ha(),t,s.transform,n,s):s.transform(n)}function fn(e,t,n,i){let r=e+On,s=ve(),o=zp(s,r);return ib(s,r)?Hk(s,ha(),t,o.transform,n,i,o):o.transform(n,i)}function cm(e,t,n,i,r){let s=e+On,o=ve(),a=zp(o,s);return ib(o,s)?Uk(o,ha(),t,a.transform,n,i,r,a):a.transform(n,i,r)}function ib(e,t){return e[Ce].data[t].pure}function rn(e,t){return nm(e,t)}var um=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var $k=new re("");function oo(e){return!!e&&typeof e.then=="function"}function rb(e){return!!e&&typeof e.subscribe=="function"}var dm=new re(""),zk=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=F(dm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let s=r();if(oo(s))n.push(s);else if(rb(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hm=new re("");function TG(){YE(()=>{throw new O(600,!1)})}function DG(e){return e.isBoundToModule}function EG(e,t,n){try{let i=n();return oo(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var Ni=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(xI),this.afterRenderEffectManager=F(qx),this.externalTestViews=new Set,this.beforeRender=new ft,this.afterTick=new ft,this.componentTypes=[],this.components=[],this.isStable=F(Jl).hasPendingTasks.pipe(fe(n=>!n)),this._injector=F(wn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof Dp;if(!this._injector.get(zk).done){let h=!r&&RA(n),f=!1;throw new O(405,f)}let o;r?o=n:o=this._injector.get(so).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=DG(o)?void 0:this._injector.get(io),l=i||o.selector,c=o.create(dn.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get($k,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),t_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new O(101,!1);let i=Ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,Ge(i)}}detectChangesInAttachedViews(n){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===pk)throw new O(103,!1);if(n){let s=i===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)AG(o,s,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>K_(s))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>K_(s))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;t_(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(hm,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>t_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function t_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function AG(e,t,n){!t&&!K_(e)||IG(e,n,t)}function K_(e){return vx(e)}function IG(e,t,n){let i;n?(i=0,e[me]|=1024):e[me]&64?i=0:i=1,mk(e,t,i)}var J_=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},fm=(()=>{class e{compileModuleSync(n){return new W_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=LA(n),s=UI(r.declarations).reduce((o,a)=>{let l=to(a);return l&&o.push(new Yl(l)),o},[]);return new J_(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var kG=(()=>{class e{constructor(){this.zone=F(Ke),this.applicationRef=F(Ni)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function MG(e){return[{provide:Ke,useFactory:e},{provide:Ul,multi:!0,useFactory:()=>{let t=F(kG,{optional:!0});return()=>t.initialize()}},{provide:Ul,multi:!0,useFactory:()=>{let t=F(FG);return()=>{t.initialize()}}},{provide:xI,useFactory:RG}]}function RG(){let e=F(Ke),t=F(Ir);return n=>e.runOutsideAngular(()=>t.handleError(n))}function LG(e){let t=MG(()=>new Ke(NG(e)));return ua([[],t])}function NG(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var FG=(()=>{class e{constructor(){this.subscription=new wt,this.initialized=!1,this.zone=F(Ke),this.pendingTasks=F(Jl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function OG(){return typeof $localize<"u"&&$localize.locale||Rp}var Gu=new re("",{providedIn:"root",factory:()=>F(Gu,Me.Optional|Me.SkipSelf)||OG()}),Gk=new re("",{providedIn:"root",factory:()=>hG});var Wk=new re("");var pp=null;function PG(e=[],t){return dn.create({name:t,providers:[{provide:jp,useValue:"platform"},{provide:Wk,useValue:new Set([()=>pp=null])},...e]})}function VG(e=[]){if(pp)return pp;let t=PG(e);return pp=t,TG(),BG(t),t}function BG(e){e.get(Ex,null)?.forEach(n=>n())}var pn=(()=>{class e{static{this.__NG_ELEMENT_ID__=jG}}return e})();function jG(e){return HG(Sn(),ve(),(e&16)===16)}function HG(e,t,n){if(Up(e)&&!n){let i=ro(e.index,t);return new oa(i,i)}else if(e.type&47){let i=t[nr];return new oa(i,t)}return null}var ex=class{constructor(){}supports(t){return Tk(t)}create(t){return new tx(t)}},UG=(e,t)=>t,tx=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UG}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<uA(i,r,s)?n:i,a=uA(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,v=f+h;u<=v&&v<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Tk(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,Lz(t,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new nx(n,i),s,r)),t}_verifyReinsertion(t,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Lp),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Lp),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},nx=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ix=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Lp=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new ix,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uA(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var rx=class{constructor(){}supports(t){return t instanceof Map||Qx(t)}create(){return new sx}},sx=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Qx(t)))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let r=this._records.get(t);this._maybeAddToChanges(r,n);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new ox(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}},ox=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function dA(){return new sb([new ex])}var sb=(()=>{class e{static{this.\u0275prov=U({token:e,providedIn:"root",factory:dA})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||dA()),deps:[[e,new Pp,new Ou]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new O(901,!1)}}return e})();function hA(){return new ob([new rx])}var ob=(()=>{class e{static{this.\u0275prov=U({token:e,providedIn:"root",factory:hA})}constructor(n){this.factories=n}static create(n,i){if(i){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||hA()),deps:[[e,new Pp,new Ou]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i)return i;throw new O(901,!1)}}return e})();function qk(e){try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=VG(i),s=[LG(),...n||[]],a=new kp({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Ke);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Ir,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=r.get(Wk);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),EG(c,l,()=>{let f=a.get(zk);return f.runInitializers(),f.donePromise.then(()=>{let v=a.get(Gu,Rp);pG(v||Rp);let b=a.get(Ni);return t!==void 0&&b.bootstrap(t),b})})})}catch(t){return Promise.reject(t)}}function ms(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function ab(e){let t=Ge(null);try{return e()}finally{Ge(t)}}function Yk(e){let t=to(e);if(!t)return null;let n=new Yl(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var iM=null;function xs(){return iM}function rM(e){iM??=e}var Cm=class{};var Nt=new re(""),bb=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>F($G),providedIn:"platform"})}}return e})(),sM=new re(""),$G=(()=>{class e extends bb{constructor(){super(),this._doc=F(Nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xs().getBaseHref(this._doc)}onPopState(n){let i=xs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=xs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Cb(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Xk(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function vs(e){return e&&e[0]!=="?"?"?"+e:e}var bs=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>F(wb),providedIn:"root"})}}return e})(),oM=new re(""),wb=(()=>{class e extends bs{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Cb(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+vs(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+vs(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+vs(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(V(bb),V(oM,8))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aM=(()=>{class e extends bs{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Cb(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+vs(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+vs(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(V(bb),V(oM,8))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),tc=(()=>{class e{constructor(n){this._subject=new ee,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=WG(Xk(Qk(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vs(i))}normalize(n){return e.stripTrailingSlash(GG(this._basePath,Qk(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vs(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=vs}static{this.joinWithSlash=Cb}static{this.stripTrailingSlash=Xk}static{this.\u0275fac=function(i){return new(i||e)(V(bs))}}static{this.\u0275prov=U({token:e,factory:()=>zG(),providedIn:"root"})}}return e})();function zG(){return new tc(V(bs))}function GG(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Qk(e){return e.replace(/\/index.html$/,"")}function WG(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var lM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},cM=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(cM||{});var Bn=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Bn||{}),gt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(gt||{}),mi=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(mi||{}),gi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function qG(e){return Xn(e)[Tt.LocaleId]}function YG(e,t,n){let i=Xn(e),r=[i[Tt.DayPeriodsFormat],i[Tt.DayPeriodsStandalone]],s=Fi(r,t);return Fi(s,n)}function XG(e,t,n){let i=Xn(e),r=[i[Tt.DaysFormat],i[Tt.DaysStandalone]],s=Fi(r,t);return Fi(s,n)}function QG(e,t,n){let i=Xn(e),r=[i[Tt.MonthsFormat],i[Tt.MonthsStandalone]],s=Fi(r,t);return Fi(s,n)}function ZG(e,t){let i=Xn(e)[Tt.Eras];return Fi(i,t)}function pm(e,t){let n=Xn(e);return Fi(n[Tt.DateFormat],t)}function mm(e,t){let n=Xn(e);return Fi(n[Tt.TimeFormat],t)}function gm(e,t){let i=Xn(e)[Tt.DateTimeFormat];return Fi(i,t)}function ys(e,t){let n=Xn(e),i=n[Tt.NumberSymbols][t];if(typeof i>"u"){if(t===gi.CurrencyDecimal)return n[Tt.NumberSymbols][gi.Decimal];if(t===gi.CurrencyGroup)return n[Tt.NumberSymbols][gi.Group]}return i}function KG(e,t){return Xn(e)[Tt.NumberFormats][t]}function JG(e){return Xn(e)[Tt.Currencies]}function uM(e){if(!e[Tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function eW(e){let t=Xn(e);return uM(t),(t[Tt.ExtraData][2]||[]).map(i=>typeof i=="string"?lb(i):[lb(i[0]),lb(i[1])])}function tW(e,t,n){let i=Xn(e);uM(i);let r=[i[Tt.ExtraData][0],i[Tt.ExtraData][1]],s=Fi(r,t)||[];return Fi(s,n)||[]}function Fi(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function lb(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function nW(e,t,n="en"){let i=JG(n)[e]||lM[e]||[],r=i[1];return t==="narrow"&&typeof r=="string"?r:i[0]||e}var iW=2;function rW(e){let t,n=lM[e];return n&&(t=n[2]),typeof t=="number"?t:iW}var sW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vm={},oW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_s=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(_s||{}),ot=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ot||{}),st=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(st||{});function aW(e,t,n,i){let r=gW(e);t=gs(n,t)||t;let o=[],a;for(;t;)if(a=oW.exec(t),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;t=u}else{o.push(t);break}let l=r.getTimezoneOffset();i&&(l=hM(i,l),r=mW(r,i,!0));let c="";return o.forEach(u=>{let d=fW(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function wm(e,t,n){let i=new Date(0);return i.setFullYear(e,t,n),i.setHours(0,0,0),i}function gs(e,t){let n=qG(e);if(vm[n]??={},vm[n][t])return vm[n][t];let i="";switch(t){case"shortDate":i=pm(e,mi.Short);break;case"mediumDate":i=pm(e,mi.Medium);break;case"longDate":i=pm(e,mi.Long);break;case"fullDate":i=pm(e,mi.Full);break;case"shortTime":i=mm(e,mi.Short);break;case"mediumTime":i=mm(e,mi.Medium);break;case"longTime":i=mm(e,mi.Long);break;case"fullTime":i=mm(e,mi.Full);break;case"short":let r=gs(e,"shortTime"),s=gs(e,"shortDate");i=ym(gm(e,mi.Short),[r,s]);break;case"medium":let o=gs(e,"mediumTime"),a=gs(e,"mediumDate");i=ym(gm(e,mi.Medium),[o,a]);break;case"long":let l=gs(e,"longTime"),c=gs(e,"longDate");i=ym(gm(e,mi.Long),[l,c]);break;case"full":let u=gs(e,"fullTime"),d=gs(e,"fullDate");i=ym(gm(e,mi.Full),[u,d]);break}return i&&(vm[n][t]=i),i}function ym(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,i){return t!=null&&i in t?t[i]:n})),e}function dr(e,t,n="-",i,r){let s="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function lW(e,t){return dr(e,3).substring(0,t)}function Ht(e,t,n=0,i=!1,r=!1){return function(s,o){let a=cW(e,s);if((n>0||a>-n)&&(a+=n),e===ot.Hours)a===0&&n===-12&&(a=12);else if(e===ot.FractionalSeconds)return lW(a,t);let l=ys(o,gi.MinusSign);return dr(a,t,l,i,r)}}function cW(e,t){switch(e){case ot.FullYear:return t.getFullYear();case ot.Month:return t.getMonth();case ot.Date:return t.getDate();case ot.Hours:return t.getHours();case ot.Minutes:return t.getMinutes();case ot.Seconds:return t.getSeconds();case ot.FractionalSeconds:return t.getMilliseconds();case ot.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function xt(e,t,n=Bn.Format,i=!1){return function(r,s){return uW(r,s,e,t,n,i)}}function uW(e,t,n,i,r,s){switch(n){case st.Months:return QG(t,r,i)[e.getMonth()];case st.Days:return XG(t,r,i)[e.getDay()];case st.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let c=eW(t),u=tW(t,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,v]=h,b=o>=f.hours&&a>=f.minutes,x=o<v.hours||o===v.hours&&a<v.minutes;if(f.hours<v.hours){if(b&&x)return!0}else if(b||x)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return YG(t,r,i)[o<12?0:1];case st.Eras:return ZG(t,i)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function _m(e){return function(t,n,i){let r=-1*i,s=ys(n,gi.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case _s.Short:return(r>=0?"+":"")+dr(o,2,s)+dr(Math.abs(r%60),2,s);case _s.ShortGMT:return"GMT"+(r>=0?"+":"")+dr(o,1,s);case _s.Long:return"GMT"+(r>=0?"+":"")+dr(o,2,s)+":"+dr(Math.abs(r%60),2,s);case _s.Extended:return i===0?"Z":(r>=0?"+":"")+dr(o,2,s)+":"+dr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var dW=0,bm=4;function hW(e){let t=wm(e,dW,1).getDay();return wm(e,0,1+(t<=bm?bm:bm+7)-t)}function dM(e){let t=e.getDay(),n=t===0?-3:bm-t;return wm(e.getFullYear(),e.getMonth(),e.getDate()+n)}function cb(e,t=!1){return function(n,i){let r;if(t){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{let s=dM(n),o=hW(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return dr(r,e,ys(i,gi.MinusSign))}}function xm(e,t=!1){return function(n,i){let s=dM(n).getFullYear();return dr(s,e,ys(i,gi.MinusSign),t)}}var ub={};function fW(e){if(ub[e])return ub[e];let t;switch(e){case"G":case"GG":case"GGG":t=xt(st.Eras,gt.Abbreviated);break;case"GGGG":t=xt(st.Eras,gt.Wide);break;case"GGGGG":t=xt(st.Eras,gt.Narrow);break;case"y":t=Ht(ot.FullYear,1,0,!1,!0);break;case"yy":t=Ht(ot.FullYear,2,0,!0,!0);break;case"yyy":t=Ht(ot.FullYear,3,0,!1,!0);break;case"yyyy":t=Ht(ot.FullYear,4,0,!1,!0);break;case"Y":t=xm(1);break;case"YY":t=xm(2,!0);break;case"YYY":t=xm(3);break;case"YYYY":t=xm(4);break;case"M":case"L":t=Ht(ot.Month,1,1);break;case"MM":case"LL":t=Ht(ot.Month,2,1);break;case"MMM":t=xt(st.Months,gt.Abbreviated);break;case"MMMM":t=xt(st.Months,gt.Wide);break;case"MMMMM":t=xt(st.Months,gt.Narrow);break;case"LLL":t=xt(st.Months,gt.Abbreviated,Bn.Standalone);break;case"LLLL":t=xt(st.Months,gt.Wide,Bn.Standalone);break;case"LLLLL":t=xt(st.Months,gt.Narrow,Bn.Standalone);break;case"w":t=cb(1);break;case"ww":t=cb(2);break;case"W":t=cb(1,!0);break;case"d":t=Ht(ot.Date,1);break;case"dd":t=Ht(ot.Date,2);break;case"c":case"cc":t=Ht(ot.Day,1);break;case"ccc":t=xt(st.Days,gt.Abbreviated,Bn.Standalone);break;case"cccc":t=xt(st.Days,gt.Wide,Bn.Standalone);break;case"ccccc":t=xt(st.Days,gt.Narrow,Bn.Standalone);break;case"cccccc":t=xt(st.Days,gt.Short,Bn.Standalone);break;case"E":case"EE":case"EEE":t=xt(st.Days,gt.Abbreviated);break;case"EEEE":t=xt(st.Days,gt.Wide);break;case"EEEEE":t=xt(st.Days,gt.Narrow);break;case"EEEEEE":t=xt(st.Days,gt.Short);break;case"a":case"aa":case"aaa":t=xt(st.DayPeriods,gt.Abbreviated);break;case"aaaa":t=xt(st.DayPeriods,gt.Wide);break;case"aaaaa":t=xt(st.DayPeriods,gt.Narrow);break;case"b":case"bb":case"bbb":t=xt(st.DayPeriods,gt.Abbreviated,Bn.Standalone,!0);break;case"bbbb":t=xt(st.DayPeriods,gt.Wide,Bn.Standalone,!0);break;case"bbbbb":t=xt(st.DayPeriods,gt.Narrow,Bn.Standalone,!0);break;case"B":case"BB":case"BBB":t=xt(st.DayPeriods,gt.Abbreviated,Bn.Format,!0);break;case"BBBB":t=xt(st.DayPeriods,gt.Wide,Bn.Format,!0);break;case"BBBBB":t=xt(st.DayPeriods,gt.Narrow,Bn.Format,!0);break;case"h":t=Ht(ot.Hours,1,-12);break;case"hh":t=Ht(ot.Hours,2,-12);break;case"H":t=Ht(ot.Hours,1);break;case"HH":t=Ht(ot.Hours,2);break;case"m":t=Ht(ot.Minutes,1);break;case"mm":t=Ht(ot.Minutes,2);break;case"s":t=Ht(ot.Seconds,1);break;case"ss":t=Ht(ot.Seconds,2);break;case"S":t=Ht(ot.FractionalSeconds,1);break;case"SS":t=Ht(ot.FractionalSeconds,2);break;case"SSS":t=Ht(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=_m(_s.Short);break;case"ZZZZZ":t=_m(_s.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=_m(_s.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=_m(_s.Long);break;default:return null}return ub[e]=t,t}function hM(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function pW(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function mW(e,t,n){let i=n?-1:1,r=e.getTimezoneOffset(),s=hM(t,r);return pW(e,i*(s-r))}function gW(e){if(Zk(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,s=1,o=1]=e.split("-").map(a=>+a);return wm(r,s-1,o)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let i;if(i=e.match(sW))return vW(i)}let t=new Date(e);if(!Zk(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function vW(e){let t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,o,a,l,c),t}function Zk(e){return e instanceof Date&&!isNaN(e.valueOf())}var yW=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Kk=22,Sm=".",Wu="0",_W=";",xW=",",db="#",Jk="\xA4";function bW(e,t,n,i,r,s,o=!1){let a="",l=!1;if(!isFinite(e))a=ys(n,gi.Infinity);else{let c=TW(e);o&&(c=SW(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(s){let A=s.match(yW);if(A===null)throw new Error(`${s} is not a valid digit info`);let T=A[1],k=A[3],P=A[5];T!=null&&(u=hb(T)),k!=null&&(d=hb(k)),P!=null?h=hb(P):k!=null&&d>h&&(h=d)}DW(c,d,h);let f=c.digits,v=c.integerLen,b=c.exponent,x=[];for(l=f.every(A=>!A);v<u;v++)f.unshift(0);for(;v<0;v++)f.unshift(0);v>0?x=f.splice(v,f.length):(x=f,f=[0]);let w=[];for(f.length>=t.lgSize&&w.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)w.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(ys(n,i)),x.length&&(a+=ys(n,r)+x.join("")),b&&(a+=ys(n,gi.Exponential)+"+"+b)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function CW(e,t,n,i,r){let s=KG(t,cM.Currency),o=wW(s,ys(t,gi.MinusSign));return o.minFrac=rW(i),o.maxFrac=o.minFrac,bW(e,o,t,gi.CurrencyGroup,gi.CurrencyDecimal,r).replace(Jk,n).replace(Jk,"").trim()}function wW(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(_W),r=i[0],s=i[1],o=r.indexOf(Sm)!==-1?r.split(Sm):[r.substring(0,r.lastIndexOf(Wu)+1),r.substring(r.lastIndexOf(Wu)+1)],a=o[0],l=o[1]||"";n.posPre=a.substring(0,a.indexOf(db));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Wu?n.minFrac=n.maxFrac=u+1:d===db?n.maxFrac=u+1:n.posSuf+=d}let c=a.split(xW);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=r.length-n.posPre.length-n.posSuf.length,d=s.indexOf(db);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function SW(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function TW(e){let t=Math.abs(e)+"",n=0,i,r,s,o,a;for((r=t.indexOf(Sm))>-1&&(t=t.replace(Sm,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===Wu;s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===Wu;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s))}return r>Kk&&(i=i.splice(0,Kk-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function DW(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,r=i.length-e.integerLen,s=Math.min(Math.max(t,r),n),o=s+e.integerLen,a=i[o];if(o>0){i.splice(Math.max(e.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=s!==0,c=t+e.integerLen,u=i.reduceRight(function(d,h,f,v){return h=h+d,v[f]=h<10?h:h-10,l&&(v[f]===0&&f>=c?v.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),e.integerLen++)}function hb(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function Tm(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var fb=/\s+/,eM=[],Ct=(()=>{class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=eM,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(fb):eM}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(fb):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(fb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||e)(D(Je),D(Pn))}}static{this.\u0275dir=Ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Bt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var pb=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},et=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new pb(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),tM(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);tM(s,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(D(or),D(aa),D(sb))}}static{this.\u0275dir=Ye({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function tM(e,t){e.context.$implicit=t.item}var de=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new mb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(D(or),D(aa))}}static{this.\u0275dir=Ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),mb=class{constructor(){this.$implicit=null,this.ngIf=null}};function nM(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Fn(t)}'.`)}var fM=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[r,s]=n.split("."),o=r.indexOf("-")===-1?void 0:kr.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||e)(D(Je),D(ob),D(Pn))}}static{this.\u0275dir=Ye({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})(),Dm=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||e)(D(or))}}static{this.\u0275dir=Ye({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ue]})}}return e})();function Sb(e,t){return new O(2100,!1)}var gb=class{createSubscription(t,n){return ab(()=>t.subscribe({next:n,error:i=>{throw i}}))}dispose(t){ab(()=>t.unsubscribe())}},vb=class{createSubscription(t,n){return t.then(n,i=>{throw i})}dispose(t){}},EW=new vb,AW=new gb,Qn=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(oo(n))return EW;if(rb(n))return AW;throw Sb(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||e)(D(pn,16))}}static{this.\u0275pipe=Bp({name:"async",type:e,pure:!1,standalone:!0})}}return e})();var IW="mediumDate",kW=new re(""),MW=new re(""),Zn=(()=>{class e{constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,s){if(n==null||n===""||n!==n)return null;try{let o=i??this.defaultOptions?.dateFormat??IW,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return aW(n,o,s||this.locale,a)}catch(o){throw Sb(e,o.message)}}static{this.\u0275fac=function(i){return new(i||e)(D(Gu,16),D(kW,24),D(MW,24))}}static{this.\u0275pipe=Bp({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var Em=(()=>{class e{constructor(n,i="USD"){this._locale=n,this._defaultCurrencyCode=i}transform(n,i=this._defaultCurrencyCode,r="symbol",s,o){if(!RW(n))return null;o||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=nW(a,r==="symbol"?"wide":"narrow",o):a=r);try{let l=LW(n);return CW(l,o,a,i,s)}catch(l){throw Sb(e,l.message)}}static{this.\u0275fac=function(i){return new(i||e)(D(Gu,16),D(Gk,16))}}static{this.\u0275pipe=Bp({name:"currency",type:e,pure:!0,standalone:!0})}}return e})();function RW(e){return!(e==null||e===""||e!==e)}function LW(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var we=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=qe({type:e})}static{this.\u0275inj=We({})}}return e})(),Tb="browser",NW="server";function Cs(e){return e===Tb}function Rr(e){return e===NW}var pM=(()=>{class e{static{this.\u0275prov=U({token:e,providedIn:"root",factory:()=>Cs(F(qt))?new yb(F(Nt),window):new _b})}}return e})(),yb=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=FW(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function FW(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}var _b=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},ec=class{};var Yu=class{},Im=class{},ws=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Eb=class{encodeKey(t){return mM(t)}encodeValue(t){return mM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function VW(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var BW=/%(\d[a-f0-9])/gi,jW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mM(e){return encodeURIComponent(e).replace(BW,(t,n)=>jW[n]??t)}function Am(e){return`${e}`}var Vt=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Eb,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=VW(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Am):[Am(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Am(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Am(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ab=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function HW(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function gM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function vM(e){return typeof Blob<"u"&&e instanceof Blob}function yM(e){return typeof FormData<"u"&&e instanceof FormData}function UW(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var qu=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(HW(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ws,this.context??=new Ab,!this.params)this.params=new Vt,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||gM(this.body)||vM(this.body)||yM(this.body)||UW(this.body)?this.body:this.body instanceof Vt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||yM(this.body)?null:vM(this.body)?this.body.type||null:gM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},nc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(nc||{}),Xu=class{constructor(t,n=Rm.Ok,i="OK"){this.headers=t.headers||new ws,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ib=class e extends Xu{constructor(t={}){super(t),this.type=nc.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},km=class e extends Xu{constructor(t={}){super(t),this.type=nc.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Mm=class extends Xu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Rm=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Rm||{});function Db(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Qt=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof qu)s=n;else{let l;r.headers instanceof ws?l=r.headers:l=new ws(r.headers);let c;r.params&&(r.params instanceof Vt?c=r.params:c=new Vt({fromObject:r.params})),s=new qu(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=ue(s).pipe(as(l=>this.handler.handle(l)));if(n instanceof qu||r.observe==="events")return o;let a=o.pipe(cn(l=>l instanceof km));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Vt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Db(r,i))}post(n,i,r={}){return this.request("POST",n,Db(r,i))}put(n,i,r={}){return this.request("PUT",n,Db(r,i))}static{this.\u0275fac=function(i){return new(i||e)(V(Yu))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();function $W(e,t){return t(e)}function zW(e,t,n){return(i,r)=>rr(n,()=>t(i,s=>e(s,r)))}var kb=new re(""),GW=new re(""),WW=new re("");var _M=(()=>{class e extends Yu{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=F(Jl);let r=F(WW,{optional:!0});this.backend=r??n}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(kb),...this.injector.get(GW,[])]));this.chain=r.reduceRight((s,o)=>zW(s,o,this.injector),$W)}let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Xo(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||e)(V(Im),V(wn))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();var qW=/^\)\]\}',?\n/;function YW(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var xM=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?_t(i.\u0275loadImpl()):ue(null)).pipe(zn(()=>new Be(s=>{let o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((b,x)=>o.setRequestHeader(b,x.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let b=n.detectContentTypeHeader();b!==null&&o.setRequestHeader("Content-Type",b)}if(n.responseType){let b=n.responseType.toLowerCase();o.responseType=b!=="json"?b:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=o.statusText||"OK",x=new ws(o.getAllResponseHeaders()),w=YW(o)||n.url;return l=new Ib({headers:x,status:o.status,statusText:b,url:w}),l},u=()=>{let{headers:b,status:x,statusText:w,url:A}=c(),T=null;x!==Rm.NoContent&&(T=typeof o.response>"u"?o.responseText:o.response),x===0&&(x=T?Rm.Ok:0);let k=x>=200&&x<300;if(n.responseType==="json"&&typeof T=="string"){let P=T;T=T.replace(qW,"");try{T=T!==""?JSON.parse(T):null}catch(M){T=P,k&&(k=!1,T={error:M,text:T})}}k?(s.next(new km({body:T,headers:b,status:x,statusText:w,url:A||void 0})),s.complete()):s.error(new Mm({error:T,headers:b,status:x,statusText:w,url:A||void 0}))},d=b=>{let{url:x}=c(),w=new Mm({error:b,status:o.status||0,statusText:o.statusText||"Unknown Error",url:x||void 0});s.error(w)},h=!1,f=b=>{h||(s.next(c()),h=!0);let x={type:nc.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(x.total=b.total),n.responseType==="text"&&o.responseText&&(x.partialText=o.responseText),s.next(x)},v=b=>{let x={type:nc.UploadProgress,loaded:b.loaded};b.lengthComputable&&(x.total=b.total),s.next(x)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",f),a!==null&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),s.next({type:nc.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",f),a!==null&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(V(ec))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),bM=new re(""),XW="XSRF-TOKEN",QW=new re("",{providedIn:"root",factory:()=>XW}),ZW="X-XSRF-TOKEN",KW=new re("",{providedIn:"root",factory:()=>ZW}),Lm=class{},JW=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tm(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(V(Nt),V(qt),V(QW))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();function e6(e,t){let n=e.url.toLowerCase();if(!F(bM)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=F(Lm).getToken(),r=F(KW);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var CM=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(CM||{});function t6(e,t){return{\u0275kind:e,\u0275providers:t}}function wM(...e){let t=[Qt,xM,_M,{provide:Yu,useExisting:_M},{provide:Im,useExisting:xM},{provide:kb,useValue:e6,multi:!0},{provide:bM,useValue:!0},{provide:Lm,useClass:JW}];for(let n of e)t.push(...n.\u0275providers);return ua(t)}function SM(e){return t6(CM.Interceptors,e.map(t=>({provide:kb,useValue:t,multi:!0})))}var Lb=class extends Cm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Nb=class e extends Lb{static makeCurrent(){rM(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=n6();return n==null?null:i6(n)}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Tm(document.cookie,t)}},Qu=null;function n6(){return Qu=Qu||document.querySelector("base"),Qu?Qu.getAttribute("href"):null}function i6(e){return new URL(e,document.baseURI).pathname}var r6=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),Fb=new re(""),EM=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(V(Fb),V(Ke))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),Nm=class{constructor(t){this._doc=t}},Mb="ng-app-id",AM=(()=>{class e{constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rr(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Mb}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let s=r.get(n);return s.usage+=i,s.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===n)return r.delete(i),s.removeAttribute(Mb),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Mb,this.appId),n.appendChild(o),o}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(V(Nt),V(Dx),V(Ix,8),V(qt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),Rb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pb=/%COMP%/g,IM="%COMP%",s6=`_nghost-${IM}`,o6=`_ngcontent-${IM}`,a6=!0,l6=new re("",{providedIn:"root",factory:()=>a6});function c6(e){return o6.replace(Pb,e)}function u6(e){return s6.replace(Pb,e)}function kM(e,t){return t.map(n=>n.replace(Pb,e))}var Fm=(()=>{class e{constructor(n,i,r,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Rr(a),this.defaultRenderer=new Zu(n,o,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Er.ShadowDom&&(i=Ie(L({},i),{encapsulation:Er.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Om?r.applyToHost(n):r instanceof Ku&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Er.Emulated:s=new Om(l,c,i,this.appId,u,o,a,d);break;case Er.ShadowDom:return new Ob(l,c,n,i,o,a,this.nonce,d);default:s=new Ku(l,c,i,u,o,a,d);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(V(EM),V(AM),V(Dx),V(l6),V(Nt),V(qt),V(Ke),V(Ix))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),Zu=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Rb[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(TM(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(TM(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new O(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=Rb[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Rb[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(kr.DashCase|kr.Important)?t.style.setProperty(n,i,r&kr.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&kr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=xs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function TM(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ob=class extends Zu{constructor(t,n,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=kM(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ku=class extends Zu{constructor(t,n,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?kM(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Om=class extends Ku{constructor(t,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(t,n,i,s,o,a,l,c),this.contentAttr=c6(c),this.hostAttr=u6(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},d6=(()=>{class e extends Nm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(V(Nt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),DM=["alt","control","meta","shift"],h6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},p6=(()=>{class e extends Nm{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=e._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),DM.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(n,i){let r=h6[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),DM.forEach(o=>{if(o!==r){let a=f6[o];a(n)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(V(Nt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();function MM(e,t){return qk(L({rootComponent:e},m6(t)))}function m6(e){return{appProviders:[...x6,...e?.providers??[]],platformProviders:_6}}function g6(){Nb.makeCurrent()}function v6(){return new Ir}function y6(){return DI(document),document}var _6=[{provide:qt,useValue:Tb},{provide:Ex,useValue:g6,multi:!0},{provide:Nt,useFactory:y6,deps:[]}];var x6=[{provide:jp,useValue:"root"},{provide:Ir,useFactory:v6,deps:[]},{provide:Fb,useClass:d6,multi:!0,deps:[Nt,Ke,qt]},{provide:Fb,useClass:p6,multi:!0,deps:[Nt]},Fm,AM,EM,{provide:la,useExisting:Fm},{provide:ec,useClass:r6,deps:[]},[]];var RM=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(V(Nt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Vb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=V(b6),r},providedIn:"root"})}}return e})(),b6=(()=>{class e extends Vb{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case hi.NONE:return i;case hi.HTML:return fs(i,"HTML")?Ri(i):Mx(this._doc,String(i)).toString();case hi.STYLE:return fs(i,"Style")?Ri(i):i;case hi.SCRIPT:if(fs(i,"Script"))return Ri(i);throw new O(5200,!1);case hi.URL:return fs(i,"URL")?Ri(i):Zp(String(i));case hi.RESOURCE_URL:if(fs(i,"ResourceURL"))return Ri(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(n){return kI(n)}bypassSecurityTrustStyle(n){return MI(n)}bypassSecurityTrustScript(n){return RI(n)}bypassSecurityTrustUrl(n){return LI(n)}bypassSecurityTrustResourceUrl(n){return NI(n)}static{this.\u0275fac=function(i){return new(i||e)(V(Nt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var _e=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(_e||{}),Lr="*";function lo(e,t){return{type:_e.Trigger,name:e,definitions:t,options:{}}}function Nr(e,t=null){return{type:_e.Animate,styles:t,timings:e}}function NM(e,t=null){return{type:_e.Sequence,steps:e,options:t}}function Ut(e){return{type:_e.Style,styles:e,offset:null}}function Pm(e,t,n){return{type:_e.State,name:e,styles:t,options:n}}function Fr(e,t,n=null){return{type:_e.Transition,expr:e,animation:t,options:n}}var ao=class{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Ju=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let t=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Vm="!";function FM(e){return new O(3e3,!1)}function C6(){return new O(3100,!1)}function w6(){return new O(3101,!1)}function S6(e){return new O(3001,!1)}function T6(e){return new O(3003,!1)}function D6(e){return new O(3004,!1)}function E6(e,t){return new O(3005,!1)}function A6(){return new O(3006,!1)}function I6(){return new O(3007,!1)}function k6(e,t){return new O(3008,!1)}function M6(e){return new O(3002,!1)}function R6(e,t,n,i,r){return new O(3010,!1)}function L6(){return new O(3011,!1)}function N6(){return new O(3012,!1)}function F6(){return new O(3200,!1)}function O6(){return new O(3202,!1)}function P6(){return new O(3013,!1)}function V6(e){return new O(3014,!1)}function B6(e){return new O(3015,!1)}function j6(e){return new O(3016,!1)}function H6(e,t){return new O(3404,!1)}function U6(e){return new O(3502,!1)}function $6(e){return new O(3503,!1)}function z6(){return new O(3300,!1)}function G6(e){return new O(3504,!1)}function W6(e){return new O(3301,!1)}function q6(e,t){return new O(3302,!1)}function Y6(e){return new O(3303,!1)}function X6(e,t){return new O(3400,!1)}function Q6(e){return new O(3401,!1)}function Z6(e){return new O(3402,!1)}function K6(e,t){return new O(3505,!1)}function co(e){switch(e.length){case 0:return new ao;case 1:return e[0];default:return new Ju(e)}}function XM(e,t,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let v=f,b=h;if(f!=="offset")switch(v=e.normalizePropertyName(v,r),b){case Vm:b=n.get(f);break;case Lr:b=i.get(f);break;default:b=e.normalizeStyleValue(f,v,b,r);break}d.set(v,b)}),u||s.push(d),a=d,o=c}),r.length)throw U6(r);return s}function aC(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&Bb(n,"start",e)));break;case"done":e.onDone(()=>i(n&&Bb(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&Bb(n,"destroy",e)));break}}function Bb(e,t,n){let i=n.totalTime,r=!!n.disabled,s=lC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,i??e.totalTime,r),o=e._data;return o!=null&&(s._data=o),s}function lC(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function yi(e,t,n){let i=e.get(t);return i||e.set(t,i=n),i}function OM(e){let t=e.indexOf(":"),n=e.substring(1,t),i=e.slice(t+1);return[n,i]}var J6=typeof document>"u"?null:document.documentElement;function cC(e){let t=e.parentNode||e.host||null;return t===J6?null:t}function eq(e){return e.substring(1,6)=="ebkit"}var pa=null,PM=!1;function tq(e){pa||(pa=nq()||{},PM=pa.style?"WebkitAppearance"in pa.style:!1);let t=!0;return pa.style&&!eq(e)&&(t=e in pa.style,!t&&PM&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in pa.style)),t}function nq(){return typeof document<"u"?document.body:null}function QM(e,t){for(;t;){if(t===e)return!0;t=cC(t)}return!1}function ZM(e,t,n){if(n)return Array.from(e.querySelectorAll(t));let i=e.querySelector(t);return i?[i]:[]}var uC=(()=>{class e{validateStyleProperty(n){return tq(n)}matchesElement(n,i){return!1}containsElement(n,i){return QM(n,i)}getParentElement(n){return cC(n)}query(n,i,r){return ZM(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,s,o,a=[],l){return new ao(r,s)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})(),va=class{static{this.NOOP=new uC}},ya=class{};var iq=1e3,KM="{{",rq="}}",JM="ng-enter",Gb="ng-leave",Bm="ng-trigger",zm=".ng-trigger",VM="ng-animating",Wb=".ng-animating";function Ts(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qb(parseFloat(t[1]),t[2])}function qb(e,t){switch(t){case"s":return e*iq;default:return e}}function Gm(e,t,n){return e.hasOwnProperty("duration")?e:sq(e,t,n)}function sq(e,t,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof e=="string"){let a=e.match(i);if(a===null)return t.push(FM(e)),{duration:0,delay:0,easing:""};r=qb(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=qb(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=e;if(!n){let a=!1,l=t.length;r<0&&(t.push(C6()),a=!0),s<0&&(t.push(w6()),a=!0),a&&t.splice(l,0,FM(e))}return{duration:r,delay:s,easing:o}}function oq(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}function Or(e,t,n){t.forEach((i,r)=>{let s=dC(r);n&&!n.has(r)&&n.set(r,e.style[s]),e.style[s]=i})}function ga(e,t){t.forEach((n,i)=>{let r=dC(i);e.style[r]=""})}function ed(e){return Array.isArray(e)?e.length==1?e[0]:NM(e):e}function aq(e,t,n){let i=t.params||{},r=eR(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(S6(s))})}var Yb=new RegExp(`${KM}\\s*(.+?)\\s*${rq}`,"g");function eR(e){let t=[];if(typeof e=="string"){let n;for(;n=Yb.exec(e);)t.push(n[1]);Yb.lastIndex=0}return t}function nd(e,t,n){let i=`${e}`,r=i.replace(Yb,(s,o)=>{let a=t[o];return a==null&&(n.push(T6(o)),a=""),a.toString()});return r==i?e:r}var lq=/-+([a-z0-9])/g;function dC(e){return e.replace(lq,(...t)=>t[1].toUpperCase())}function cq(e,t){return e===0||t===0}function uq(e,t,n){if(n.size&&t.length){let i=t[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,hC(e,a)))}}return t}function vi(e,t,n){switch(t.type){case _e.Trigger:return e.visitTrigger(t,n);case _e.State:return e.visitState(t,n);case _e.Transition:return e.visitTransition(t,n);case _e.Sequence:return e.visitSequence(t,n);case _e.Group:return e.visitGroup(t,n);case _e.Animate:return e.visitAnimate(t,n);case _e.Keyframes:return e.visitKeyframes(t,n);case _e.Style:return e.visitStyle(t,n);case _e.Reference:return e.visitReference(t,n);case _e.AnimateChild:return e.visitAnimateChild(t,n);case _e.AnimateRef:return e.visitAnimateRef(t,n);case _e.Query:return e.visitQuery(t,n);case _e.Stagger:return e.visitStagger(t,n);default:throw D6(t.type)}}function hC(e,t){return window.getComputedStyle(e)[t]}var dq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Wm=class extends ya{normalizePropertyName(t,n){return dC(t)}normalizeStyleValue(t,n,i,r){let s="",o=i.toString().trim();if(dq.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(E6(t,i))}return o+s}};var qm="*";function hq(e,t){let n=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(i=>fq(i,n,t)):n.push(e),n}function fq(e,t,n){if(e[0]==":"){let l=pq(e,n);if(typeof l=="function"){t.push(l);return}e=l}let i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(B6(e)),t;let r=i[1],s=i[2],o=i[3];t.push(BM(r,o));let a=r==qm&&o==qm;s[0]=="<"&&!a&&t.push(BM(o,r))}function pq(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return t.push(j6(e)),"* => *"}}var jm=new Set(["true","1"]),Hm=new Set(["false","0"]);function BM(e,t){let n=jm.has(e)||Hm.has(e),i=jm.has(t)||Hm.has(t);return(r,s)=>{let o=e==qm||e==r,a=t==qm||t==s;return!o&&n&&typeof r=="boolean"&&(o=r?jm.has(e):Hm.has(e)),!a&&i&&typeof s=="boolean"&&(a=s?jm.has(t):Hm.has(t)),o&&a}}var tR=":self",mq=new RegExp(`s*${tR}s*,?`,"g");function nR(e,t,n,i){return new Xb(e).build(t,n,i)}var jM="",Xb=class{constructor(t){this._driver=t}build(t,n,i){let r=new Qb(n);return this._resetContextStyleTimingState(r),vi(this,ed(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=jM,t.collectedStyles=new Map,t.collectedStyles.set(jM,new Map),t.currentTime=0}visitTrigger(t,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&n.errors.push(A6()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==_e.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==_e.Transition){let l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(I6())}),{type:_e.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,n){let i=this.visitStyle(t.styles,n),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{eR(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(k6(t.name,[...s.values()]))}return{type:_e.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;let i=vi(this,ed(t.animation),n),r=hq(t.expr,n.errors);return{type:_e.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:ma(t.options)}}visitSequence(t,n){return{type:_e.Sequence,steps:t.steps.map(i=>vi(this,i,n)),options:ma(t.options)}}visitGroup(t,n){let i=n.currentTime,r=0,s=t.steps.map(o=>{n.currentTime=i;let a=vi(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:_e.Group,steps:s,options:ma(t.options)}}visitAnimate(t,n){let i=_q(t.timings,n.errors);n.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ut({});if(s.type==_e.Keyframes)r=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=Ut(c)}n.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:_e.Animate,timings:i,style:r,options:null}}visitStyle(t,n){let i=this._makeStyleAst(t,n);return this._validateStyleAst(i,n),i}_makeStyleAst(t,n){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===Lr?i.push(a):n.errors.push(M6(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(KM)>=0){s=!0;break}}}),{type:_e.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(n.errors.push(R6(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),n.options&&aq(a,n.options,n.errors)})})}visitKeyframes(t,n){let i={type:_e.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(L6()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(w=>{let A=this._makeStyleAst(w,n),T=A.offset!=null?A.offset:yq(A.styles),k=0;return T!=null&&(s++,k=A.offset=T),l=l||k<0||k>1,a=a||k<c,c=k,o.push(k),A});l&&n.errors.push(N6()),a&&n.errors.push(F6());let d=t.steps.length,h=0;s>0&&s<d?n.errors.push(O6()):s==0&&(h=r/(d-1));let f=d-1,v=n.currentTime,b=n.currentAnimateTimings,x=b.duration;return u.forEach((w,A)=>{let T=h>0?A==f?1:h*A:o[A],k=T*x;n.currentTime=v+b.delay+k,b.duration=k,this._validateStyleAst(w,n),w.offset=T,i.styles.push(w)}),i}visitReference(t,n){return{type:_e.Reference,animation:vi(this,ed(t.animation),n),options:ma(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:_e.AnimateChild,options:ma(t.options)}}visitAnimateRef(t,n){return{type:_e.AnimateRef,animation:this.visitReference(t.animation,n),options:ma(t.options)}}visitQuery(t,n){let i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;let[s,o]=gq(t.selector);n.currentQuerySelector=i.length?i+" "+s:s,yi(n.collectedStyles,n.currentQuerySelector,new Map);let a=vi(this,ed(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:_e.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ma(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(P6());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Gm(t.timings,n.errors,!0);return{type:_e.Stagger,animation:vi(this,ed(t.animation),n),timings:i,options:null}}};function gq(e){let t=!!e.split(/\s*,\s*/).find(n=>n==tR);return t&&(e=e.replace(mq,"")),e=e.replace(/@\*/g,zm).replace(/@\w+/g,n=>zm+"-"+n.slice(1)).replace(/:animating/g,Wb),[e,t]}function vq(e){return e?L({},e):null}var Qb=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function yq(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}function _q(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=Gm(e,t).duration;return jb(s,0,"")}let n=e;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=jb(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=Gm(n,t);return jb(r.duration,r.delay,r.easing)}function ma(e){return e?(e=L({},e),e.params&&(e.params=vq(e.params))):e={},e}function jb(e,t,n){return{duration:e,delay:t,easing:n}}function fC(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var id=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}},xq=1,bq=":enter",Cq=new RegExp(bq,"g"),wq=":leave",Sq=new RegExp(wq,"g");function iR(e,t,n,i,r,s=new Map,o=new Map,a,l,c=[]){return new Zb().buildKeyframes(e,t,n,i,r,s,o,a,l,c)}var Zb=class{buildKeyframes(t,n,i,r,s,o,a,l,c,u=[]){c=c||new id;let d=new Kb(t,n,c,r,s,u,[]);d.options=l;let h=l.delay?Ts(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),vi(this,i,d);let f=d.timelines.filter(v=>v.containsAnimation());if(f.length&&a.size){let v;for(let b=f.length-1;b>=0;b--){let x=f[b];if(x.element===n){v=x;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,d.errors,l)}return f.length?f.map(v=>v.buildKeyframes()):[fC(n,[],[],[],0,h,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){let i=n.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,i),this.visitReference(t.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,i){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:Ts(nd(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?Ts(i.duration):null,a=i.delay!=null?Ts(i.delay):null;return o!==0&&t.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),vi(this,t.animation,n),n.previousNode=t}visitSequence(t,n){let i=n.subContextCount,r=n,s=t.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==_e.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ym);let o=Ts(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>vi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){let i=[],r=n.currentTimeline.currentTime,s=t.options&&t.options.delay?Ts(t.options.delay):0;t.steps.forEach(o=>{let a=n.createSubContext(t.options);s&&a.delayNextStep(s),vi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){let i=t.strValue,r=n.params?nd(i,n.params,n.errors):i;return Gm(r,n.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){let i=n.currentAnimateTimings=this._visitTiming(t.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==_e.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=t}visitQuery(t,n){let i=n.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ts(r.delay):0;s&&(n.previousNode.type===_e.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ym);let o=i,a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(t.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),vi(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){let i=n.parentContext,r=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;vi(this,t.animation,n),n.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},Ym={},Kb=class e{constructor(t,n,i,r,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ym,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Xm(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=Ts(i.duration)),i.delay!=null&&(r.delay=Ts(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=nd(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let n=this.options.params;if(n){let i=t.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return t}createSubContext(t=null,n,i){let r=n||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Ym,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,i){let r={duration:n??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Jb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(Cq,"."+this._enterClassName),t=t.replace(Sq,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(V6(n)),a}},Xm=class e{constructor(t,n,i,r){this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xq,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||Lr),this._currentKeyframe.set(n,Lr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=Tq(t,this._globalTimelineStyles);for(let[a,l]of o){let c=nd(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Lr),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Vm?t.add(d):u===Lr&&n.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...n.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return fC(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Jb=class extends Xm{constructor(t,n,i,r,s,o,a=!1){super(t,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",HM(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let h=new Map(t[d]),f=h.get("offset"),v=n+f*i;h.set("offset",HM(v/o)),s.push(h)}i=o,n=0,r="",t=s}return fC(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function HM(e,t=3){let n=Math.pow(10,t-1);return Math.round(e*n)/n}function Tq(e,t){let n=new Map,i;return e.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)n.set(s,Lr)}else for(let[s,o]of r)n.set(s,o)}),n}function UM(e,t,n,i,r,s,o,a,l,c,u,d,h){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var Hb={},Qm=class{constructor(t,n,i){this._triggerName=t,this.ast=n,this._stateStyles=i}match(t,n,i,r){return Dq(this.ast.matchers,t,n,i,r)}buildStyles(t,n,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(n,i):new Map}build(t,n,i,r,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||Hb,f=a&&a.params||Hb,v=this.buildStyles(i,f,d),b=l&&l.params||Hb,x=this.buildStyles(r,b,d),w=new Set,A=new Map,T=new Map,k=r==="void",P={params:rR(b,h),delay:this.ast.options?.delay},M=u?[]:iR(t,n,this.ast.animation,s,o,v,x,P,c,d),Y=0;return M.forEach(G=>{Y=Math.max(G.duration+G.delay,Y)}),d.length?UM(n,this._triggerName,i,r,k,v,x,[],[],A,T,Y,d):(M.forEach(G=>{let He=G.element,be=yi(A,He,new Set);G.preStyleProps.forEach(pt=>be.add(pt));let se=yi(T,He,new Set);G.postStyleProps.forEach(pt=>se.add(pt)),He!==n&&w.add(He)}),UM(n,this._triggerName,i,r,k,v,x,M,[...w.values()],A,T,Y))}};function Dq(e,t,n,i,r){return e.some(s=>s(t,n,i,r))}function rR(e,t){let n=L({},t);return Object.entries(e).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var eC=class{constructor(t,n,i){this.styles=t,this.defaultParams=n,this.normalizer=i}buildStyles(t,n){let i=new Map,r=rR(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=nd(o,r,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}};function Eq(e,t,n){return new tC(e,t,n)}var tC=class{constructor(t,n,i){this.name=t,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new eC(r.style,s,i))}),$M(this.states,"true","1"),$M(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new Qm(t,r,this.states))}),this.fallbackTransition=Aq(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,i,r){return this.transitionFactories.find(o=>o.match(t,n,i,r))||null}matchStyles(t,n,i){return this.fallbackTransition.buildStyles(t,n,i)}};function Aq(e,t,n){let i=[(o,a)=>!0],r={type:_e.Sequence,steps:[],options:null},s={type:_e.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Qm(e,s,t)}function $M(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}var Iq=new id,nC=class{constructor(t,n,i){this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){let i=[],r=[],s=nR(this._driver,n,i,r);if(i.length)throw $6(i);r.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,n,i){let r=t.element,s=XM(this._normalizer,t.keyframes,n,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,i={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=iR(this._driver,n,s,JM,Gb,new Map,new Map,i,Iq,r),o.forEach(u=>{let d=yi(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(z6()),o=[]),r.length)throw G6(r);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Lr))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=co(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(t){let n=this._playersById.get(t);if(!n)throw W6(t);return n}listen(t,n,i,r){let s=lC(n,"","","");return aC(this._getPlayer(t),i,s,r),()=>{}}command(t,n,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(t,n,o);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},zM="ng-animate-queued",kq=".ng-animate-queued",Ub="ng-animate-disabled",Mq=".ng-animate-disabled",Rq="ng-star-inserted",Lq=".ng-star-inserted",Nq=[],sR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed",rd=class{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=Pq(r),i){let s=t,{value:o}=s,a=ln(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let n=t.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},td="void",$b=new rd(td),iC=class{constructor(t,n,i){this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Oi(n,this._hostClassName)}listen(t,n,i,r){if(!this._triggers.has(n))throw q6(i,n);if(i==null||i.length==0)throw Y6(n);if(!Vq(i))throw X6(i,n);let s=yi(this._elementListeners,t,[]),o={name:n,phase:i,callback:r};s.push(o);let a=yi(this._engine.statesByElement,t,new Map);return a.has(n)||(Oi(t,Bm),Oi(t,Bm+"-"+n),a.set(n,$b)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return this._triggers.has(t)?!1:(this._triggers.set(t,n),!0)}_getTrigger(t){let n=this._triggers.get(t);if(!n)throw Q6(t);return n}trigger(t,n,i,r=!0){let s=this._getTrigger(n),o=new sd(this.id,n,t),a=this._engine.statesByElement.get(t);a||(Oi(t,Bm),Oi(t,Bm+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n),c=new rd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=$b),!(c.value===td)&&l.value===c.value){if(!Hq(l.params,c.params)){let b=[],x=s.matchStyles(l.value,l.params,b),w=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{ga(t,x),Or(t,w)})}return}let h=yi(this._engine.playersByElement,t,[]);h.forEach(b=>{b.namespaceId==this.id&&b.triggerName==n&&b.queued&&b.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),v=!1;if(!f){if(!r)return;f=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:v}),v||(Oi(t,zM),o.onStart(()=>{ic(t,zM)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let x=this._engine.playersByElement.get(t);if(x){let w=x.indexOf(o);w>=0&&x.splice(w,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let n=this._engine.playersByElement.get(t);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){let i=this._engine.driver.query(t,zm,!0);i.forEach(r=>{if(r[hr])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,n,i,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,td,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),i&&co(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||$b,u=new rd(td),d=new sd(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,n);else{let s=t[hr];(!s||s===sR)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,n))}}insertNode(t,n){Oi(t,this._hostClassName)}drainQueuedTransitions(t){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=lC(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,aC(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},rC=class{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,i,r){this.bodyNode=t,this.driver=n,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,n){let i=new iC(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(n,t),t}register(t,n){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,n)),i}registerTrigger(t,n,i){let r=this._namespaceLookup[t];r&&r.register(n,i)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let n=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(t,n,i,r){if(Um(n)){let s=this._fetchNamespace(t);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(t,n,i,r){if(!Um(n))return;let s=n[hr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Oi(t,Ub)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ic(t,Ub))}removeNode(t,n,i){if(Um(n)){this.scheduler?.notify();let r=t?this._fetchNamespace(t):null;r?r.removeNode(n,i):this.markElementAsRemoved(t,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(t,n,i,r,s){this.collectedLeaveElements.push(n),n[hr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,i,r,s){return Um(n)?this._fetchNamespace(t).listen(n,i,r,s):()=>{}}_buildInstruction(t,n,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,zm,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(t,Wb,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let n=this.playersByElement.get(t);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let n=this.playersByQueriedElement.get(t);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return co(this.players).onDone(()=>t());t()})}processLeaveNode(t){let n=t[hr];if(n&&n.setForRemoval){if(t[hr]=sR,n.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(Ub)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Mq,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Oi(r,Rq)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?co(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw Z6(t)}_flushAnimations(t,n){let i=new id,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach($=>{u.add($);let W=this.driver.query($,kq,!0);for(let Q=0;Q<W.length;Q++)u.add(W[Q])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=qM(h,this.collectedEnterElements),v=new Map,b=0;f.forEach(($,W)=>{let Q=JM+b++;v.set(W,Q),$.forEach(Z=>Oi(Z,Q))});let x=[],w=new Set,A=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){let W=this.collectedLeaveElements[$],Q=W[hr];Q&&Q.setForRemoval&&(x.push(W),w.add(W),Q.hasAnimation?this.driver.query(W,Lq,!0).forEach(Z=>w.add(Z)):A.add(W))}let T=new Map,k=qM(h,Array.from(w));k.forEach(($,W)=>{let Q=Gb+b++;T.set(W,Q),$.forEach(Z=>Oi(Z,Q))}),t.push(()=>{f.forEach(($,W)=>{let Q=v.get(W);$.forEach(Z=>ic(Z,Q))}),k.forEach(($,W)=>{let Q=T.get(W);$.forEach(Z=>ic(Z,Q))}),x.forEach($=>{this.processLeaveNode($)})});let P=[],M=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(n).forEach(Q=>{let Z=Q.player,Ae=Q.element;if(P.push(Z),this.collectedEnterElements.length){let ze=Ae[hr];if(ze&&ze.setForMove){if(ze.previousTriggersValues&&ze.previousTriggersValues.has(Q.triggerName)){let Mn=ze.previousTriggersValues.get(Q.triggerName),q=this.statesByElement.get(Q.element);if(q&&q.has(Q.triggerName)){let pe=q.get(Q.triggerName);pe.value=Mn,q.set(Q.triggerName,pe)}}Z.destroy();return}}let Ze=!d||!this.driver.containsElement(d,Ae),Ve=T.get(Ae),Hn=v.get(Ae),lt=this._buildInstruction(Q,i,Hn,Ve,Ze);if(lt.errors&&lt.errors.length){M.push(lt);return}if(Ze){Z.onStart(()=>ga(Ae,lt.fromStyles)),Z.onDestroy(()=>Or(Ae,lt.toStyles)),r.push(Z);return}if(Q.isFallbackTransition){Z.onStart(()=>ga(Ae,lt.fromStyles)),Z.onDestroy(()=>Or(Ae,lt.toStyles)),r.push(Z);return}let ss=[];lt.timelines.forEach(ze=>{ze.stretchStartingKeyframe=!0,this.disabledNodes.has(ze.element)||ss.push(ze)}),lt.timelines=ss,i.append(Ae,lt.timelines);let qs={instruction:lt,player:Z,element:Ae};o.push(qs),lt.queriedElements.forEach(ze=>yi(a,ze,[]).push(Z)),lt.preStyleProps.forEach((ze,Mn)=>{if(ze.size){let q=l.get(Mn);q||l.set(Mn,q=new Set),ze.forEach((pe,Se)=>q.add(Se))}}),lt.postStyleProps.forEach((ze,Mn)=>{let q=c.get(Mn);q||c.set(Mn,q=new Set),ze.forEach((pe,Se)=>q.add(Se))})});if(M.length){let $=[];M.forEach(W=>{$.push(K6(W.triggerName,W.errors))}),P.forEach(W=>W.destroy()),this.reportError($)}let Y=new Map,G=new Map;o.forEach($=>{let W=$.element;i.has(W)&&(G.set(W,W),this._beforeAnimationBuild($.player.namespaceId,$.instruction,Y))}),r.forEach($=>{let W=$.element;this._getPreviousPlayers(W,!1,$.namespaceId,$.triggerName,null).forEach(Z=>{yi(Y,W,[]).push(Z),Z.destroy()})});let He=x.filter($=>YM($,l,c)),be=new Map;WM(be,this.driver,A,c,Lr).forEach($=>{YM($,l,c)&&He.push($)});let pt=new Map;f.forEach(($,W)=>{WM(pt,this.driver,new Set($),l,Vm)}),He.forEach($=>{let W=be.get($),Q=pt.get($);be.set($,new Map([...W?.entries()??[],...Q?.entries()??[]]))});let Fe=[],dt=[],Cn={};o.forEach($=>{let{element:W,player:Q,instruction:Z}=$;if(i.has(W)){if(u.has(W)){Q.onDestroy(()=>Or(W,Z.toStyles)),Q.disabled=!0,Q.overrideTotalTime(Z.totalTime),r.push(Q);return}let Ae=Cn;if(G.size>1){let Ve=W,Hn=[];for(;Ve=Ve.parentNode;){let lt=G.get(Ve);if(lt){Ae=lt;break}Hn.push(Ve)}Hn.forEach(lt=>G.set(lt,Ae))}let Ze=this._buildAnimation(Q.namespaceId,Z,Y,s,pt,be);if(Q.setRealPlayer(Ze),Ae===Cn)Fe.push(Q);else{let Ve=this.playersByElement.get(Ae);Ve&&Ve.length&&(Q.parentPlayer=co(Ve)),r.push(Q)}}else ga(W,Z.fromStyles),Q.onDestroy(()=>Or(W,Z.toStyles)),dt.push(Q),u.has(W)&&r.push(Q)}),dt.forEach($=>{let W=s.get($.element);if(W&&W.length){let Q=co(W);$.setRealPlayer(Q)}}),r.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<x.length;$++){let W=x[$],Q=W[hr];if(ic(W,Gb),Q&&Q.hasAnimation)continue;let Z=[];if(a.size){let Ze=a.get(W);Ze&&Ze.length&&Z.push(...Ze);let Ve=this.driver.query(W,Wb,!0);for(let Hn=0;Hn<Ve.length;Hn++){let lt=a.get(Ve[Hn]);lt&&lt.length&&Z.push(...lt)}}let Ae=Z.filter(Ze=>!Ze.destroyed);Ae.length?Bq(this,W,Ae):this.processLeaveNode(W)}return x.length=0,Fe.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();let W=this.players.indexOf($);this.players.splice(W,1)}),$.play()}),Fe}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==td;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:r;for(let l of n.timelines){let c=l.element,u=c!==s,d=yi(i,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let v=f.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),f.destroy(),d.push(f)})}ga(s,n.fromStyles)}_buildAnimation(t,n,i,r,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(v=>{let b=v.element;u.add(b);let x=b[hr];if(x&&x.removedBeforeQueried)return new ao(v.duration,v.delay);let w=b!==l,A=jq((i.get(b)||Nq).map(Y=>Y.getRealPlayer())).filter(Y=>{let G=Y;return G.element?G.element===b:!1}),T=s.get(b),k=o.get(b),P=XM(this._normalizer,v.keyframes,T,k),M=this._buildPlayer(v,P,A);if(v.subTimeline&&r&&d.add(b),w){let Y=new sd(t,a,b);Y.setRealPlayer(M),c.push(Y)}return M});c.forEach(v=>{yi(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>Oq(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>Oi(v,VM));let f=co(h);return f.onDestroy(()=>{u.forEach(v=>ic(v,VM)),Or(l,n.toStyles)}),d.forEach(v=>{yi(r,v,[]).push(f)}),f}_buildPlayer(t,n,i){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,i):new ao(t.duration,t.delay)}},sd=class{constructor(t,n,i){this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new ao,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>aC(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){yi(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let n=this._player;n.triggerCallback&&n.triggerCallback(t)}};function Oq(e,t,n){let i=e.get(t);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&e.delete(t)}return i}function Pq(e){return e??null}function Um(e){return e&&e.nodeType===1}function Vq(e){return e=="start"||e=="done"}function GM(e,t){let n=e.style.display;return e.style.display=t??"none",n}function WM(e,t,n,i,r){let s=[];n.forEach(l=>s.push(GM(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=t.computeStyle(c,d,r);u.set(d,h),(!h||h.length==0)&&(c[hr]=Fq,o.push(c))}),e.set(c,u)});let a=0;return n.forEach(l=>GM(l,s[a++])),o}function qM(e,t){let n=new Map;if(e.forEach(a=>n.set(a,[])),t.length==0)return n;let i=1,r=new Set(t),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==i&&n.get(l).push(a)}),n}function Oi(e,t){e.classList?.add(t)}function ic(e,t){e.classList?.remove(t)}function Bq(e,t,n){co(n).onDone(()=>e.processLeaveNode(t))}function jq(e){let t=[];return oR(e,t),t}function oR(e,t){for(let n=0;n<e.length;n++){let i=e[n];i instanceof Ju?oR(i.players,t):t.push(i)}}function Hq(e,t){let n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}function YM(e,t,n){let i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(s=>r.add(s)):t.set(e,i),n.delete(e),!0}var rc=class{constructor(t,n,i,r){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new rC(t.body,n,i,r),this._timelineEngine=new nC(t.body,n,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,n,i,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=nR(this._driver,s,l,c);if(l.length)throw H6(r,l);c.length&&void 0,a=Eq(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,i,r){this._transitionEngine.insertNode(t,n,i,r)}onRemove(t,n,i){this._transitionEngine.removeNode(t,n,i)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,i,r){if(i.charAt(0)=="@"){let[s,o]=OM(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(t,n,i,r)}listen(t,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=OM(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Uq(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=zb(t[0]),t.length>1&&(i=zb(t[t.length-1]))):t instanceof Map&&(n=zb(t)),n||i?new sC(e,n,i):null}var sC=class e{static{this.initialStylesByElement=new WeakMap}constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Or(this._element,this._initialStyles),this._endStyles&&(Or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),Or(this._element,this._initialStyles),this._state=3)}};function zb(e){let t=null;return e.forEach((n,i)=>{$q(i)&&(t=t||new Map,t.set(i,n))}),t}function $q(e){return e==="display"||e==="position"}var Zm=class{constructor(t,n,i,r){this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let n=[];return t.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(t,n,i){return t.animate(this._convertKeyframesToObject(n),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:hC(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let n=t==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Km=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return QM(t,n)}getParentElement(t){return cC(t)}query(t,n,i){return ZM(t,n,i)}computeStyle(t,n,i){return hC(t,n)}animate(t,n,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Zm);cq(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((v,b)=>c.set(b,v))});let d=oq(n).map(f=>new Map(f));d=uq(t,d,c);let h=Uq(t,d);return new Zm(t,d,l,h)}};var $m="@",aR="@.disabled",Jm=class{constructor(t,n,i,r){this.namespaceId=t,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,i,r=!0){this.delegate.insertBefore(t,n,i),this.engine.onInsert(this.namespaceId,n,t,r)}removeChild(t,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){n.charAt(0)==$m&&n==aR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.delegate.listen(t,n,i)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}},oC=class extends Jm{constructor(t,n,i,r,s){super(n,i,r,s),this.factory=t,this.namespaceId=n}setProperty(t,n,i){n.charAt(0)==$m?n.charAt(1)=="."&&n==aR?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,n.slice(1),i):this.delegate.setProperty(t,n,i)}listen(t,n,i){if(n.charAt(0)==$m){let r=zq(t),s=n.slice(1),o="";return s.charAt(0)!=$m&&([s,o]=Gq(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,n,i)}};function zq(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function Gq(e){let t=e.indexOf("."),n=e.substring(0,t),i=e.slice(t+1);return[n,i]}var eg=class{constructor(t,n,i){this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(t,n){let i="",r=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Jm(i,r,this.engine,d),c.set(r,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return n.data.animation.forEach(a),new oC(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var qq=(()=>{class e extends rc{constructor(n,i,r){super(n,i,r,F(ql,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||e)(V(Nt),V(va),V(ya))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();function Yq(){return new Wm}function Xq(e,t,n){return new eg(e,t,n)}var lR=[{provide:ya,useFactory:Yq},{provide:rc,useClass:qq},{provide:la,useFactory:Xq,deps:[Fm,rc,Ke]}],Qq=[{provide:va,useFactory:()=>new Km},{provide:Ax,useValue:"BrowserAnimations"},...lR],Eve=[{provide:va,useClass:uC},{provide:Ax,useValue:"NoopAnimations"},...lR];function cR(){return fa("NgEagerAnimations"),[...Qq]}var uR=["toast-component",""];function Zq(e,t){if(e&1){let n=K();m(0,"button",5),N("click",function(){j(n);let r=S();return H(r.remove())}),m(1,"span",6),y(2,"\xD7"),p()()}}function Kq(e,t){if(e&1&&(lr(0),y(1),cr()),e&2){let n=S(2);g(),J("[",n.duplicatesCount+1,"]")}}function Jq(e,t){if(e&1&&(m(0,"div"),y(1),E(2,Kq,2,1,"ng-container",4),p()),e&2){let n=S();ar(n.options.titleClass),le("aria-label",n.title),g(),J(" ",n.title," "),g(),_("ngIf",n.duplicatesCount)}}function e8(e,t){if(e&1&&R(0,"div",7),e&2){let n=S();ar(n.options.messageClass),_("innerHTML",n.message,Hu)}}function t8(e,t){if(e&1&&(m(0,"div",8),y(1),p()),e&2){let n=S();ar(n.options.messageClass),le("aria-label",n.message),g(),J(" ",n.message," ")}}function n8(e,t){if(e&1&&(m(0,"div"),R(1,"div",9),p()),e&2){let n=S();g(),Yt("width",n.width()+"%")}}function i8(e,t){if(e&1){let n=K();m(0,"button",5),N("click",function(){j(n);let r=S();return H(r.remove())}),m(1,"span",6),y(2,"\xD7"),p()()}}function r8(e,t){if(e&1&&(lr(0),y(1),cr()),e&2){let n=S(2);g(),J("[",n.duplicatesCount+1,"]")}}function s8(e,t){if(e&1&&(m(0,"div"),y(1),E(2,r8,2,1,"ng-container",4),p()),e&2){let n=S();ar(n.options.titleClass),le("aria-label",n.title),g(),J(" ",n.title," "),g(),_("ngIf",n.duplicatesCount)}}function o8(e,t){if(e&1&&R(0,"div",7),e&2){let n=S();ar(n.options.messageClass),_("innerHTML",n.message,Hu)}}function a8(e,t){if(e&1&&(m(0,"div",8),y(1),p()),e&2){let n=S();ar(n.options.messageClass),le("aria-label",n.message),g(),J(" ",n.message," ")}}function l8(e,t){if(e&1&&(m(0,"div"),R(1,"div",9),p()),e&2){let n=S();g(),Yt("width",n.width()+"%")}}var pC=class{_attachedHost;component;viewContainerRef;injector;constructor(t,n){this.component=t,this.injector=n}attach(t,n){return this._attachedHost=t,t.attach(this,n)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},mC=class{_attachedPortal;_disposeFn;attach(t,n){return this._attachedPortal=t,this.attachComponentPortal(t,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},gC=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ft;_activate=new ft;_manualClose=new ft;_resetTimeout=new ft;_countDuplicate=new ft;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,n){t&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},sc=class{toastId;config;message;title;toastType;toastRef;_onTap=new ft;_onAction=new ft;constructor(t,n,i,r,s,o){this.toastId=t,this.config=n,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},dR={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},hR=new re("ToastConfig"),vC=class extends mC{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,n,i){super(),this._hostDomElement=t,this._componentFactoryResolver=n,this._appRef=i}attachComponentPortal(t,n){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},c8=(()=>{class e{_document=F(Nt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yC=class{_portalHost;constructor(t){this._portalHost=t}attach(t,n=!0){return this._portalHost.attach(t,n)}detach(){return this._portalHost.detach()}},u8=(()=>{class e{_overlayContainer=F(c8);_componentFactoryResolver=F(so);_appRef=F(Ni);_document=F(Nt);_paneElements=new Map;create(n,i){return this._createOverlayRef(this.getPaneElement(n,i))}getPaneElement(n="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[n]||(this._paneElements.get(i)[n]=this._createPaneElement(n,i)),this._paneElements.get(i)[n]}_createPaneElement(n,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(n),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(n){return new vC(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new yC(this._createPortalHost(n))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tg=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=L(L({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=L(L({},n.default.iconClasses),n.config.iconClasses))}show(n,i,r={},s=""){return this._preBuildNotification(s,n,i,this.applyConfig(r))}success(n,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}error(n,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}info(n,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}warning(n,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}clear(n){for(let i of this.toasts)if(n!==void 0){if(i.toastId===n){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(n){let i=this._findToast(n);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(n="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===n;if((!o||l)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(n={}){return L(L({},this.toastrConfig),n)}_findToast(n){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===n)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(n,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,i,r,s)):this._buildNotification(n,i,r,s)}_buildNotification(n,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&s.enableHtml&&(c=this.sanitizer.sanitize(hi.HTML,i));let u=new gC(l),d=new sc(this.index,s,c,r,n,u),h=[{provide:sc,useValue:d}],f=dn.create({providers:h,parent:this._injector}),v=new pC(s.toastComponent,f),b=l.attach(v,s.newestOnTop);u.componentInstance=b.instance;let x={toastId:this.index,title:r||"",message:i||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{x.toastRef.activate()})),this.toasts.push(x),x}static \u0275fac=function(i){return new(i||e)(V(hR),V(u8),V(dn),V(Vb),V(Ke))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),d8=(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Uu(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=Uu({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>Ie(L({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>Ie(L({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>Ie(L({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),i)):this.timeout=setTimeout(()=>n(),i)}outsideInterval(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),i)):this.intervalId=setInterval(()=>n(),i)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(i){return new(i||e)(D(tg),D(sc),D(Ke))};static \u0275cmp=X({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&N("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Kx("@flyInOut",r._state),ar(r.toastClasses),Yt("display",r.displayStyle))},standalone:!0,features:[Te],attrs:uR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&E(0,Zq,3,0,"button",0)(1,Jq,3,5,"div",1)(2,e8,1,3,"div",2)(3,t8,2,4,"div",3)(4,n8,2,2,"div",4),i&2&&(_("ngIf",r.options.closeButton),g(),_("ngIf",r.title),g(),_("ngIf",r.message&&r.options.enableHtml),g(),_("ngIf",r.message&&!r.options.enableHtml),g(),_("ngIf",r.options.progressBar))},dependencies:[de],encapsulation:2,data:{animation:[lo("flyInOut",[Pm("inactive",Ut({opacity:0})),Pm("active",Ut({opacity:1})),Pm("removed",Ut({opacity:0})),Fr("inactive => active",Nr("{{ easeTime }}ms {{ easing }}")),Fr("active => removed",Nr("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})(),h8=Ie(L({},dR),{toastComponent:d8}),fR=(e={})=>ua([{provide:hR,useValue:{default:h8,config:e}}]);var f8=(()=>{class e{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Uu(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Uu("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||e)(D(tg),D(sc),D(Ni))};static \u0275cmp=X({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&N("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(ar(r.toastClasses),Yt("display",r.displayStyle))},standalone:!0,features:[Te],attrs:uR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&E(0,i8,3,0,"button",0)(1,s8,3,5,"div",1)(2,o8,1,3,"div",2)(3,a8,2,4,"div",3)(4,l8,2,2,"div",4),i&2&&(_("ngIf",r.options.closeButton),g(),_("ngIf",r.title),g(),_("ngIf",r.message&&r.options.enableHtml),g(),_("ngIf",r.message&&!r.options.enableHtml),g(),_("ngIf",r.options.progressBar))},dependencies:[de],encapsulation:2,changeDetection:0})}return e})(),Hve=Ie(L({},dR),{toastComponent:f8});var bt={production:!0,apiUrl:"/api/v1"};var $e=(()=>{class e{constructor(n){this.http=n,this.apiUrl=`${bt.apiUrl}/auth`,this.tokenKey="clinic_auth_token",this.userKey="clinic_auth_user",this.loggedIn=new At(this.hasToken()),this.currentUser=new At(this.getUser()),this.isLoggedIn$=this.loggedIn.asObservable(),this.currentUser$=this.currentUser.asObservable()}hasToken(){return!!localStorage.getItem(this.tokenKey)}getUser(){let n=localStorage.getItem(this.userKey);if(!n)return null;try{return JSON.parse(n)}catch(i){return console.error("Error parsing user data from localStorage",i),localStorage.removeItem(this.userKey),null}}getToken(){return localStorage.getItem(this.tokenKey)}getCurrentUserRole(){return this.currentUser.value?.role??null}getCurrentUserValue(){return this.currentUser.value}login(n){return this.http.post(`${this.apiUrl}/login`,n).pipe(Mt(i=>{localStorage.setItem(this.tokenKey,i.token),localStorage.setItem(this.userKey,JSON.stringify(i.user)),this.loggedIn.next(!0),this.currentUser.next(i.user)}))}register(n){return this.http.post(`${this.apiUrl}/register`,n).pipe(Mt(i=>{localStorage.setItem(this.tokenKey,i.token),localStorage.setItem(this.userKey,JSON.stringify(i.user)),this.loggedIn.next(!0),this.currentUser.next(i.user)}))}logout(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey),this.loggedIn.next(!1),this.currentUser.next(null)}getAuthHeaders(){let n=this.getToken();return new ws({"Content-Type":"application/json",Authorization:`Bearer ${n}`})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var pR=(e,t)=>{let i=F($e).getToken(),r=bt.apiUrl;if(i&&e.url.startsWith(r)){let s=e.clone({headers:e.headers.set("Authorization",`Bearer ${i}`)});return t(s)}return t(e)};var xe="primary",xd=Symbol("RouteTitle"),wC=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function uc(e){return new wC(e)}function m8(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function g8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Pr(e[n],t[n]))return!1;return!0}function Pr(e,t){let n=e?SC(e):void 0,i=t?SC(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!wR(e[r],t[r]))return!1;return!0}function SC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function wR(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}else return e===t}function SR(e){return e.length>0?e[e.length-1]:null}function po(e){return Ny(e)?e:oo(e)?_t(Promise.resolve(e)):ue(e)}var v8={exact:DR,subset:ER},TR={exact:y8,subset:_8,ignored:()=>!0};function mR(e,t,n){return v8[n.paths](e.root,t.root,n.matrixParams)&&TR[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function y8(e,t){return Pr(e,t)}function DR(e,t,n){if(!xa(e.segments,t.segments)||!rg(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!DR(e.children[i],t.children[i],n))return!1;return!0}function _8(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>wR(e[n],t[n]))}function ER(e,t,n){return AR(e,t,t.segments,n)}function AR(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!xa(r,n)||t.hasChildren()||!rg(r,n,i))}else if(e.segments.length===n.length){if(!xa(e.segments,n)||!rg(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!ER(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!xa(e.segments,r)||!rg(e.segments,r,i)||!e.children[xe]?!1:AR(e.children[xe],t,s,i)}}function rg(e,t,n){return t.every((i,r)=>TR[n](e[r].parameters,i.parameters))}var uo=class{constructor(t=new ut([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=uc(this.queryParams),this._queryParamMap}toString(){return C8.serialize(this)}},ut=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sg(this)}},_a=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=uc(this.parameters),this._parameterMap}toString(){return kR(this)}};function x8(e,t){return xa(e,t)&&e.every((n,i)=>Pr(n.parameters,t[i].parameters))}function xa(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function b8(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===xe&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==xe&&(n=n.concat(t(r,i)))}),n}var bd=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>new hd,providedIn:"root"})}}return e})(),hd=class{parse(t){let n=new DC(t);return new uo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${od(t.root,!0)}`,i=T8(t.queryParams),r=typeof t.fragment=="string"?`#${w8(t.fragment)}`:"";return`${n}${i}${r}`}},C8=new hd;function sg(e){return e.segments.map(t=>kR(t)).join("/")}function od(e,t){if(!e.hasChildren())return sg(e);if(t){let n=e.children[xe]?od(e.children[xe],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==xe&&i.push(`${r}:${od(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=b8(e,(i,r)=>r===xe?[od(e.children[xe],!1)]:[`${r}:${od(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[xe]!=null?`${sg(e)}/${n[0]}`:`${sg(e)}/(${n.join("//")})`}}function IR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ng(e){return IR(e).replace(/%3B/gi,";")}function w8(e){return encodeURI(e)}function TC(e){return IR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function og(e){return decodeURIComponent(e)}function gR(e){return og(e.replace(/\+/g,"%20"))}function kR(e){return`${TC(e.path)}${S8(e.parameters)}`}function S8(e){return Object.entries(e).map(([t,n])=>`;${TC(t)}=${TC(n)}`).join("")}function T8(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${ng(n)}=${ng(r)}`).join("&"):`${ng(n)}=${ng(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var D8=/^[^\/()?;#]+/;function _C(e){let t=e.match(D8);return t?t[0]:""}var E8=/^[^\/()?;=#]+/;function A8(e){let t=e.match(E8);return t?t[0]:""}var I8=/^[^=?&#]+/;function k8(e){let t=e.match(I8);return t?t[0]:""}var M8=/^[^&#]+/;function R8(e){let t=e.match(M8);return t?t[0]:""}var DC=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[xe]=new ut(t,n)),i}parseSegment(){let t=_C(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(t),new _a(og(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=A8(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=_C(this.remaining);r&&(i=r,this.capture(i))}t[og(n)]=og(i)}parseQueryParam(t){let n=k8(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=R8(this.remaining);o&&(i=o,this.capture(i))}let r=gR(n),s=gR(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=_C(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new O(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=xe);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[xe]:new ut([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new O(4011,!1)}};function MR(e){return e.segments.length>0?new ut([],{[xe]:e}):e}function RR(e){let t={};for(let[i,r]of Object.entries(e.children)){let s=RR(r);if(i===xe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let n=new ut(e.segments,t);return L8(n)}function L8(e){if(e.numberOfChildren===1&&e.children[xe]){let t=e.children[xe];return new ut(e.segments.concat(t.segments),t.children)}return e}function dc(e){return e instanceof uo}function N8(e,t,n=null,i=null){let r=LR(e);return NR(r,t,n,i)}function LR(e){let t;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new ut(s.url,o);return s===e&&(t=a),a}let i=n(e.root),r=MR(i);return t??r}function NR(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return xC(r,r,r,n,i);let s=F8(t);if(s.toRoot())return xC(r,r,new ut([],{}),n,i);let o=O8(s,r,e),a=o.processChildren?cd(o.segmentGroup,o.index,s.commands):OR(o.segmentGroup,o.index,s.commands);return xC(r,o.segmentGroup,a,n,i)}function ag(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fd(e){return typeof e=="object"&&e!=null&&e.outlets}function xC(e,t,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;e===t?o=n:o=FR(e,t,n);let a=MR(RR(o));return new uo(a,s,r)}function FR(e,t,n){let i={};return Object.entries(e.children).forEach(([r,s])=>{s===t?i[r]=n:i[r]=FR(s,t,n)}),new ut(e.segments,i)}var lg=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ag(i[0]))throw new O(4003,!1);let r=i.find(fd);if(r&&r!==SR(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function F8(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new lg(!0,0,e);let t=0,n=!1,i=e.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new lg(n,t,i)}var lc=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function O8(e,t,n){if(e.isAbsolute)return new lc(t,!0,0);if(!n)return new lc(t,!1,NaN);if(n.parent===null)return new lc(n,!0,0);let i=ag(e.commands[0])?0:1,r=n.segments.length-1+i;return P8(n,r,e.numberOfDoubleDots)}function P8(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new lc(i,!1,r-s)}function V8(e){return fd(e[0])?e[0].outlets:{[xe]:e}}function OR(e,t,n){if(e??=new ut([],{}),e.segments.length===0&&e.hasChildren())return cd(e,t,n);let i=B8(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let s=new ut(e.segments.slice(0,i.pathIndex),{});return s.children[xe]=new ut(e.segments.slice(i.pathIndex),e.children),cd(s,0,r)}else return i.match&&r.length===0?new ut(e.segments,{}):i.match&&!e.hasChildren()?EC(e,t,n):i.match?cd(e,0,r):EC(e,t,n)}function cd(e,t,n){if(n.length===0)return new ut(e.segments,{});{let i=V8(n),r={};if(Object.keys(i).some(s=>s!==xe)&&e.children[xe]&&e.numberOfChildren===1&&e.children[xe].segments.length===0){let s=cd(e.children[xe],t,n);return new ut(e.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=OR(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new ut(e.segments,r)}}function B8(e,t,n){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;let o=e.segments[r],a=n[i];if(fd(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!yR(l,c,o))return s;i+=2}else{if(!yR(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function EC(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let s=n[r];if(fd(s)){let l=j8(s.outlets);return new ut(i,l)}if(r===0&&ag(n[0])){let l=e.segments[t];i.push(new _a(l.path,vR(n[0]))),r++;continue}let o=fd(s)?s.outlets[xe]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&ag(a)?(i.push(new _a(o,vR(a))),r+=2):(i.push(new _a(o,{})),r++)}return new ut(i,{})}function j8(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=EC(new ut([],{}),0,i))}),t}function vR(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function yR(e,t,n){return e==n.path&&Pr(t,n.parameters)}var ud="imperative",sn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(sn||{}),Pi=class{constructor(t,n){this.id=t,this.url=n}},hc=class extends Pi{constructor(t,n,i="imperative",r=null){super(t,n),this.type=sn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fr=class extends Pi{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=sn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xi=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(xi||{}),cg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(cg||{}),ho=class extends Pi{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=sn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fo=class extends Pi{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=sn.NavigationSkipped}},pd=class extends Pi{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=sn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ug=class extends Pi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AC=class extends Pi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IC=class extends Pi{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=sn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kC=class extends Pi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},MC=class extends Pi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=sn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RC=class{constructor(t){this.route=t,this.type=sn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},LC=class{constructor(t){this.route=t,this.type=sn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},NC=class{constructor(t){this.snapshot=t,this.type=sn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},FC=class{constructor(t){this.snapshot=t,this.type=sn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},OC=class{constructor(t){this.snapshot=t,this.type=sn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},PC=class{constructor(t){this.snapshot=t,this.type=sn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dg=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=sn.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},md=class{},gd=class{constructor(t){this.url=t}};var VC=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cd,this.attachRef=null}},Cd=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new VC,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hg=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=BC(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=BC(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=jC(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return jC(t,this._root).map(n=>n.value)}};function BC(e,t){if(e===t.value)return t;for(let n of t.children){let i=BC(e,n);if(i)return i}return null}function jC(e,t){if(e===t.value)return[t];for(let n of t.children){let i=jC(e,n);if(i.length)return i.unshift(t),i}return[]}var _i=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ac(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var fg=class extends hg{constructor(t,n){super(t),this.snapshot=n,QC(this,t)}toString(){return this.snapshot.toString()}};function PR(e){let t=H8(e),n=new At([new _a("",{})]),i=new At({}),r=new At({}),s=new At({}),o=new At(""),a=new mn(n,i,s,o,r,xe,e,t.root);return a.snapshot=t.root,new fg(new _i(a,[]),t)}function H8(e){let t={},n={},i={},r="",s=new vd([],t,i,r,n,xe,e,null,{});return new pg("",new _i(s,[]))}var mn=class{constructor(t,n,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(fe(c=>c[xd]))??ue(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(fe(t=>uc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(fe(t=>uc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function XC(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:L(L({},t.params),e.params),data:L(L({},t.data),e.data),resolve:L(L(L(L({},e.data),t.data),r?.data),e._resolvedData)}:i={params:L({},e.params),data:L({},e.data),resolve:L(L({},e.data),e._resolvedData??{})},r&&BR(r)&&(i.resolve[xd]=r.title),i}var vd=class{get title(){return this.data?.[xd]}constructor(t,n,i,r,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uc(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},pg=class extends hg{constructor(t,n){super(n),this.url=t,QC(this,n)}toString(){return VR(this._root)}};function QC(e,t){t.value._routerState=e,t.children.forEach(n=>QC(e,n))}function VR(e){let t=e.children.length>0?` { ${e.children.map(VR).join(", ")} } `:"";return`${e.value}${t}`}function bC(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Pr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Pr(t.params,n.params)||e.paramsSubject.next(n.params),g8(t.url,n.url)||e.urlSubject.next(n.url),Pr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function HC(e,t){let n=Pr(e.params,t.params)&&x8(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||HC(e.parent,t.parent))}function BR(e){return typeof e.title=="string"||e.title===null}var wd=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=xe,this.activateEvents=new ee,this.deactivateEvents=new ee,this.attachEvents=new ee,this.detachEvents=new ee,this.parentContexts=F(Cd),this.location=F(or),this.changeDetector=F(pn),this.environmentInjector=F(wn),this.inputBinder=F(_g,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=n;let r=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new UC(n,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ue]})}}return e})(),UC=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===mn?this.route:t===Cd?this.childContexts:this.parent.get(t,n)}},_g=new re(""),_R=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=bu([i.queryParams,i.params,i.data]).pipe(zn(([s,o,a],l)=>(a=L(L(L({},s),o),a),l===0?ue(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let o=Yk(i.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();function U8(e,t,n){let i=yd(e,t._root,n?n._root:void 0);return new fg(i,t)}function yd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=$8(e,t,n);return new _i(i,r)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>yd(e,a)),o}}let i=z8(t.value),r=t.children.map(s=>yd(e,s));return new _i(i,r)}}function $8(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return yd(e,i,r);return yd(e,i)})}function z8(e){return new mn(new At(e.url),new At(e.params),new At(e.queryParams),new At(e.fragment),new At(e.data),e.outlet,e.component,e)}var jR="ngNavigationCancelingError";function HR(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=dc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=UR(!1,xi.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function UR(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[jR]=!0,n.cancellationCode=t,n}function G8(e){return $R(e)&&dc(e.url)}function $R(e){return!!e&&e[jR]}var W8=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=X({type:e,selectors:[["ng-component"]],standalone:!0,features:[Te],decls:1,vars:0,template:function(i,r){i&1&&R(0,"router-outlet")},dependencies:[wd],encapsulation:2})}}return e})();function q8(e,t){return e.providers&&!e._injector&&(e._injector=rm(e.providers,t,`Route: ${e.path}`)),e._injector??t}function ZC(e){let t=e.children&&e.children.map(ZC),n=t?Ie(L({},e),{children:t}):L({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==xe&&(n.component=W8),n}function Vr(e){return e.outlet||xe}function Y8(e,t){let n=e.filter(i=>Vr(i)===t);return n.push(...e.filter(i=>Vr(i)!==t)),n}function Sd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var X8=(e,t,n,i)=>fe(r=>(new $C(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),$C=class{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),bC(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=ac(n);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=ac(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=ac(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=ac(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new PC(s.value.snapshot))}),t.children.length&&this.forwardEvent(new FC(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,s=n?n.value:null;if(bC(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bC(a.route.value),this.activateChildRoutes(t,null,o.children)}else{let a=Sd(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}},mg=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},cc=class{constructor(t,n){this.component=t,this.route=n}};function Q8(e,t,n){let i=e._root,r=t?t._root:null;return ad(i,r,n,[i.value])}function Z8(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function pc(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!gA(e)?e:t.get(e):i}function ad(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ac(t);return e.children.forEach(o=>{K8(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>dd(a,n.getContext(o),r)),r}function K8(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=J8(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new mg(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ad(e,t,a?a.children:null,i,r):ad(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new cc(a.outlet.component,o))}else o&&dd(t,a,r),r.canActivateChecks.push(new mg(i)),s.component?ad(e,null,a?a.children:null,i,r):ad(e,null,n,i,r);return r}function J8(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!xa(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xa(e.url,t.url)||!Pr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HC(e,t)||!Pr(e.queryParams,t.queryParams);case"paramsChange":default:return!HC(e,t)}}function dd(e,t,n){let i=ac(e),r=e.value;Object.entries(i).forEach(([s,o])=>{r.component?t?dd(o,t.children.getContext(s),n):dd(o,null,n):dd(o,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new cc(t.outlet.component,r)):n.canDeactivateChecks.push(new cc(null,r)):n.canDeactivateChecks.push(new cc(null,r))}function Td(e){return typeof e=="function"}function e7(e){return typeof e=="boolean"}function t7(e){return e&&Td(e.canLoad)}function n7(e){return e&&Td(e.canActivate)}function i7(e){return e&&Td(e.canActivateChild)}function r7(e){return e&&Td(e.canDeactivate)}function s7(e){return e&&Td(e.canMatch)}function zR(e){return e instanceof os||e?.name==="EmptyError"}var ig=Symbol("INITIAL_VALUE");function fc(){return zn(e=>bu(e.map(t=>t.pipe(ai(1),By(ig)))).pipe(fe(t=>{for(let n of t)if(n!==!0){if(n===ig)return ig;if(n===!1||n instanceof uo)return n}return!0}),cn(t=>t!==ig),ai(1)))}function o7(e,t){return kt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ue(Ie(L({},n),{guardsResult:!0})):a7(o,i,r,e).pipe(kt(a=>a&&e7(a)?l7(i,s,e,t):ue(a)),fe(a=>Ie(L({},n),{guardsResult:a})))})}function a7(e,t,n,i){return _t(e).pipe(kt(r=>f7(r.component,r.route,n,t,i)),$n(r=>r!==!0,!0))}function l7(e,t,n,i){return _t(t).pipe(as(r=>Ll(u7(r.route.parent,i),c7(r.route,i),h7(e,r.path,n),d7(e,r.route,n))),$n(r=>r!==!0,!0))}function c7(e,t){return e!==null&&t&&t(new OC(e)),ue(!0)}function u7(e,t){return e!==null&&t&&t(new NC(e)),ue(!0)}function d7(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ue(!0);let r=i.map(s=>tp(()=>{let o=Sd(t)??n,a=pc(s,o),l=n7(a)?a.canActivate(t,e):rr(o,()=>a(t,e));return po(l).pipe($n())}));return ue(r).pipe(fc())}function h7(e,t,n){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>Z8(o)).filter(o=>o!==null).map(o=>tp(()=>{let a=o.guards.map(l=>{let c=Sd(o.node)??n,u=pc(l,c),d=i7(u)?u.canActivateChild(i,e):rr(c,()=>u(i,e));return po(d).pipe($n())});return ue(a).pipe(fc())}));return ue(s).pipe(fc())}function f7(e,t,n,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return ue(!0);let o=s.map(a=>{let l=Sd(t)??r,c=pc(a,l),u=r7(c)?c.canDeactivate(e,t,n,i):rr(l,()=>c(e,t,n,i));return po(u).pipe($n())});return ue(o).pipe(fc())}function p7(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return ue(!0);let s=r.map(o=>{let a=pc(o,e),l=t7(a)?a.canLoad(t,n):rr(e,()=>a(t,n));return po(l)});return ue(s).pipe(fc(),GR(i))}function GR(e){return Iy(Mt(t=>{if(dc(t))throw HR(e,t)}),fe(t=>t===!0))}function m7(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return ue(!0);let s=r.map(o=>{let a=pc(o,e),l=s7(a)?a.canMatch(t,n):rr(e,()=>a(t,n));return po(l)});return ue(s).pipe(fc(),GR(i))}var _d=class{constructor(t){this.segmentGroup=t||null}},gg=class extends Error{constructor(t){super(),this.urlTree=t}};function oc(e){return Ml(new _d(e))}function g7(e){return Ml(new O(4e3,!1))}function v7(e){return Ml(UR(!1,xi.GuardRejected))}var zC=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ue(i);if(r.numberOfChildren>1||!r.children[xe])return g7(t.redirectTo);r=r.children[xe]}}applyRedirectCommands(t,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n.startsWith("/"))throw new gg(r);return r}applyRedirectCreateUrlTree(t,n,i,r){let s=this.createSegmentGroup(t,n.root,i,r);return new uo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){let s=this.createSegments(t,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new ut(s,o)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},GC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y7(e,t,n,i,r){let s=KC(e,t,n);return s.matched?(i=q8(t,i),m7(i,t,n,r).pipe(fe(o=>o===!0?s:L({},GC)))):ue(s)}function KC(e,t,n){if(t.path==="**")return _7(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?L({},GC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||m8)(n,e,t);if(!r)return L({},GC);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?L(L({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function _7(e){return{matched:!0,parameters:e.length>0?SR(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function xR(e,t,n,i){return n.length>0&&C7(e,n,i)?{segmentGroup:new ut(t,b7(i,new ut(n,e.children))),slicedSegments:[]}:n.length===0&&w7(e,n,i)?{segmentGroup:new ut(e.segments,x7(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new ut(e.segments,e.children),slicedSegments:n}}function x7(e,t,n,i){let r={};for(let s of n)if(xg(e,t,s)&&!i[Vr(s)]){let o=new ut([],{});r[Vr(s)]=o}return L(L({},i),r)}function b7(e,t){let n={};n[xe]=t;for(let i of e)if(i.path===""&&Vr(i)!==xe){let r=new ut([],{});n[Vr(i)]=r}return n}function C7(e,t,n){return n.some(i=>xg(e,t,i)&&Vr(i)!==xe)}function w7(e,t,n){return n.some(i=>xg(e,t,i))}function xg(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function S7(e,t,n,i){return Vr(e)!==i&&(i===xe||!xg(t,n,e))?!1:KC(t,e,n).matched}function T7(e,t,n){return t.length===0&&!e.children[n]}var WC=class{};function D7(e,t,n,i,r,s,o="emptyOnly"){return new qC(e,t,n,i,r,o,s).recognize()}var E7=31,qC=class{constructor(t,n,i,r,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new zC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new O(4002,`'${t.segmentGroup}'`)}recognize(){let t=xR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(fe(n=>{let i=new vd([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},xe,this.rootComponentType,null,{}),r=new _i(i,n),s=new pg("",r),o=N8(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,xe).pipe(Zs(i=>{if(i instanceof gg)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof _d?this.noMatchError(i):i}))}inheritParamsAndData(t,n){let i=t.value,r=XC(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(t,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0).pipe(fe(s=>s instanceof _i?[s]:[]))}processChildren(t,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return _t(r).pipe(as(s=>{let o=i.children[s],a=Y8(n,s);return this.processSegmentGroup(t,a,o,s)}),Vy((s,o)=>(s.push(...o),s)),Ks(null),Py(),kt(s=>{if(s===null)return oc(i);let o=WR(s);return A7(o),ue(o)}))}processSegment(t,n,i,r,s,o){return _t(n).pipe(as(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,i,r,s,o).pipe(Zs(l=>{if(l instanceof _d)return ue(null);throw l}))),$n(a=>!!a),Zs(a=>{if(zR(a))return T7(i,r,s)?ue(new WC):oc(i);throw a}))}processSegmentAgainstRoute(t,n,i,r,s,o,a){return S7(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,o):oc(r):oc(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=KC(n,r,s);if(!a)return oc(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>E7&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(kt(h=>this.processSegment(t,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){let o=y7(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(zn(a=>a.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(zn(({routes:l})=>{let c=i._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new vd(u,h,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,k7(i),Vr(i),i.component??i._loadedComponent??null,i,M7(i)),{segmentGroup:v,slicedSegments:b}=xR(n,u,d,l);if(b.length===0&&v.hasChildren())return this.processChildren(c,l,v).pipe(fe(w=>w===null?null:new _i(f,w)));if(l.length===0&&b.length===0)return ue(new _i(f,[]));let x=Vr(i)===s;return this.processSegment(c,l,v,b,x?xe:s,!0).pipe(fe(w=>new _i(f,w instanceof _i?[w]:[])))}))):oc(n)))}getChildConfig(t,n,i){return n.children?ue({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ue({routes:n._loadedRoutes,injector:n._loadedInjector}):p7(t,n,i,this.urlSerializer).pipe(kt(r=>r?this.configLoader.loadChildren(t,n).pipe(Mt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):v7(n))):ue({routes:[],injector:t})}};function A7(e){e.sort((t,n)=>t.value.outlet===xe?-1:n.value.outlet===xe?1:t.value.outlet.localeCompare(n.value.outlet))}function I7(e){let t=e.value.routeConfig;return t&&t.path===""}function WR(e){let t=[],n=new Set;for(let i of e){if(!I7(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=WR(i.children);t.push(new _i(i.value,r))}return t.filter(i=>!n.has(i))}function k7(e){return e.data||{}}function M7(e){return e.resolve||{}}function R7(e,t,n,i,r,s){return kt(o=>D7(e,t,n,i,o.extractedUrl,r,s).pipe(fe(({state:a,tree:l})=>Ie(L({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function L7(e,t){return kt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ue(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of qR(l))o.add(c);let a=0;return _t(o).pipe(as(l=>s.has(l)?N7(l,i,e,t):(l.data=XC(l,l.parent,e).resolve,ue(void 0))),Mt(()=>a++),Nl(1),kt(l=>a===o.size?ue(n):oi))})}function qR(e){let t=e.children.map(n=>qR(n)).flat();return[e,...t]}function N7(e,t,n,i){let r=e.routeConfig,s=e._resolve;return r?.title!==void 0&&!BR(r)&&(s[xd]=r.title),F7(s,e,t,i).pipe(fe(o=>(e._resolvedData=o,e.data=XC(e,e.parent,n).resolve,null)))}function F7(e,t,n,i){let r=SC(e);if(r.length===0)return ue({});let s={};return _t(r).pipe(kt(o=>O7(e[o],t,n,i).pipe($n(),Mt(a=>{s[o]=a}))),Nl(1),Oy(s),Zs(o=>zR(o)?oi:Ml(o)))}function O7(e,t,n,i){let r=Sd(t)??i,s=pc(e,r),o=s.resolve?s.resolve(t,n):rr(r,()=>s(t,n));return po(o)}function CC(e){return zn(t=>{let n=e(t);return n?_t(n).pipe(fe(()=>t)):ue(t)})}var YR=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===xe);return i}getResolvedTitleForRoute(n){return n.data[xd]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>F(P7),providedIn:"root"})}}return e})(),P7=(()=>{class e extends YR{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(V(RM))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dd=new re("",{providedIn:"root",factory:()=>({})}),vg=new re(""),JC=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(fm)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ue(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=po(n.loadComponent()).pipe(fe(XR),Mt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Xo(()=>{this.componentLoaders.delete(n)})),r=new Al(i,()=>new ft).pipe(El());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ue({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=V7(i,this.compiler,n,this.onLoadEndListener).pipe(Xo(()=>{this.childrenLoaders.delete(i)})),o=new Al(s,()=>new ft).pipe(El());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function V7(e,t,n,i){return po(e.loadChildren()).pipe(fe(XR),kt(r=>r instanceof Lu||Array.isArray(r)?ue(r):_t(t.compileModuleAsync(r))),fe(r=>{i&&i(e);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(vg,[],{optional:!0,self:!0}).flat()),{routes:o.map(ZC),injector:s}}))}function B7(e){return e&&typeof e=="object"&&"default"in e}function XR(e){return B7(e)?e.default:e}var ew=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>F(j7),providedIn:"root"})}}return e})(),j7=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),QR=new re(""),ZR=new re("");function H7(e,t,n){let i=e.get(ZR),r=e.get(Nt);return e.get(Ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),U7(e))),{onViewTransitionCreated:l}=i;return l&&rr(e,()=>l({transition:a,from:t,to:n})),o})}function U7(e){return new Promise(t=>{im(t,{injector:e})})}var tw=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ft,this.transitionAbortSubject=new ft,this.configLoader=F(JC),this.environmentInjector=F(wn),this.urlSerializer=F(bd),this.rootContexts=F(Cd),this.location=F(tc),this.inputBindingEnabled=F(_g,{optional:!0})!==null,this.titleStrategy=F(YR),this.options=F(Dd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(ew),this.createViewTransition=F(QR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let n=r=>this.events.next(new RC(r)),i=r=>this.events.next(new LC(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Ie(L(L({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new At({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ud,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cn(s=>s.id!==0),fe(s=>Ie(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),zn(s=>{let o=!1,a=!1;return ue(s).pipe(zn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xi.SupersededByNewNavigation),oi;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new fo(l.id,this.urlSerializer.serialize(l.rawUrl),d,cg.IgnoredSameUrlNavigation)),l.resolve(null),oi}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ue(l).pipe(zn(d=>{let h=this.transitions?.getValue();return this.events.next(new hc(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?oi:Promise.resolve(d)}),R7(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Mt(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Ie(L({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new ug(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:v,extras:b}=l,x=new hc(d,this.urlSerializer.serialize(h),f,v);this.events.next(x);let w=PR(this.rootComponentType).snapshot;return this.currentTransition=s=Ie(L({},l),{targetSnapshot:w,urlAfterRedirects:h,extras:Ie(L({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ue(s)}else{let d="";return this.events.next(new fo(l.id,this.urlSerializer.serialize(l.extractedUrl),d,cg.IgnoredByUrlHandlingStrategy)),l.resolve(null),oi}}),Mt(l=>{let c=new AC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),fe(l=>(this.currentTransition=s=Ie(L({},l),{guards:Q8(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),o7(this.environmentInjector,l=>this.events.next(l)),Mt(l=>{if(s.guardsResult=l.guardsResult,dc(l.guardsResult))throw HR(this.urlSerializer,l.guardsResult);let c=new IC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),cn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",xi.GuardRejected),!1)),CC(l=>{if(l.guards.canActivateChecks.length)return ue(l).pipe(Mt(c=>{let u=new kC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),zn(c=>{let u=!1;return ue(c).pipe(L7(this.paramsInheritanceStrategy,this.environmentInjector),Mt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",xi.NoDataFromResolver)}}))}),Mt(c=>{let u=new MC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),CC(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Mt(h=>{u.component=h}),fe(()=>{})));for(let h of u.children)d.push(...c(h));return d};return bu(c(l.targetSnapshot.root)).pipe(Ks(null),ai(1))}),CC(()=>this.afterPreactivation()),zn(()=>{let{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?_t(u).pipe(fe(()=>s)):ue(s)}),fe(l=>{let c=U8(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ie(L({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),Mt(()=>{this.events.next(new md)}),X8(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ai(1),Mt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Qo(this.transitionAbortSubject.pipe(Mt(l=>{throw l}))),Xo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",xi.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zs(l=>{if(a=!0,$R(l))this.events.next(new ho(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),G8(l)?this.events.next(new gd(l.url)):s.resolve(!1);else{this.events.next(new pd(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return oi}))}))}cancelNavigationTransition(n,i,r){let s=new ho(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $7(e){return e!==ud}var z7=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>F(G7),providedIn:"root"})}}return e})(),YC=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},G7=(()=>{class e extends YC{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),KR=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:()=>F(W7),providedIn:"root"})}}return e})(),W7=(()=>{class e extends KR{constructor(){super(...arguments),this.location=F(tc),this.urlSerializer=F(bd),this.options=F(Dd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(ew),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new uo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=PR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof hc)this.stateMemento=this.createStateMemento();else if(n instanceof fo)this.rawUrlTree=i.initialUrl;else if(n instanceof ug){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else n instanceof md?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof ho&&(n.code===xi.GuardRejected||n.code===xi.NoDataFromResolver)?this.restoreHistory(i):n instanceof pd?this.restoreHistory(i,!0):n instanceof fr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=L(L({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=L(L({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ld=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ld||{});function JR(e,t){e.events.pipe(cn(n=>n instanceof fr||n instanceof ho||n instanceof pd||n instanceof fo),fe(n=>n instanceof fr||n instanceof fo?ld.COMPLETE:(n instanceof ho?n.code===xi.Redirect||n.code===xi.SupersededByNewNavigation:!1)?ld.REDIRECTING:ld.FAILED),cn(n=>n!==ld.REDIRECTING),ai(1)).subscribe(()=>{t()})}function q7(e){throw e}var Y7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=F(um),this.stateManager=F(KR),this.options=F(Dd,{optional:!0})||{},this.pendingTasks=F(Jl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(tw),this.urlSerializer=F(bd),this.location=F(tc),this.urlHandlingStrategy=F(ew),this._events=new ft,this.errorHandler=this.options.errorHandler||q7,this.navigated=!1,this.routeReuseStrategy=F(z7),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(vg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(_g,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=F(Ke)instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ho&&i.code!==xi.Redirect&&i.code!==xi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof fr)this.navigated=!0;else if(i instanceof gd){let o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||$7(r.source)};this.scheduleNavigation(o,ud,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Z7(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ud,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=L({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ZC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,u=null;switch(a){case"merge":u=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=LR(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return NR(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=dc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ud,null,i)}navigate(n,i={skipLocationChange:!1}){return Q7(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=L({},Y7):i===!1?r=L({},X7):r=i,dc(n))return mR(this.currentUrlTree,n,r);let s=this.parseUrl(n);return mR(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(n,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return JR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Q7(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new O(4008,!1)}function Z7(e){return!(e instanceof md)&&!(e instanceof gd)}var Vi=(()=>{class e{constructor(n,i,r,s,o,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ft,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:jI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,n,i):r.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(D(Ne),D(mn),Sx("tabindex"),D(Pn),D(Je),D(bs))}}static{this.\u0275dir=Ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&N("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&le("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Bt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ms],skipLocationChange:[Bt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ms],replaceUrl:[Bt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ms],routerLink:"routerLink"},standalone:!0,features:[Xx,Ue]})}}return e})(),eL=(()=>{class e{get isActive(){return this._isActive}constructor(n,i,r,s,o){this.router=n,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ee,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof fr&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe(Qs()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=_t(n).pipe(Qs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=K7(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?n.isActive(s,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(i){return new(i||e)(D(Ne),D(Je),D(Pn),D(pn),D(Vi,8))}}static{this.\u0275dir=Ye({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(i&1&&Lt(s,Vi,5),i&2){let o;Xe(o=Qe())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ue]})}}return e})();function K7(e){return!!e.paths}var yg=class{};var J7=(()=>{class e{constructor(n,i,r,s,o){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(cn(n=>n instanceof fr),as(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=rm(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return _t(r).pipe(Qs())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=ue(null);let s=r.pipe(kt(o=>o===null?ue(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return _t([s,o]).pipe(Qs())}else return s})}static{this.\u0275fac=function(i){return new(i||e)(V(Ne),V(fm),V(wn),V(yg),V(JC))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tL=new re(""),eY=(()=>{class e{constructor(n,i,r,s,o={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=F(wn),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof fo&&n.code===cg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dg&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>$o(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),im(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new dg(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){tk()}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac})}}return e})();function tY(e){return e.routerState.root}function Ed(e,t){return{\u0275kind:e,\u0275providers:t}}function nY(){let e=F(dn);return t=>{let n=e.get(Ni);if(t!==n.components[0])return;let i=e.get(Ne),r=e.get(nL);e.get(nw)===1&&i.initialNavigation(),e.get(iL,null,Me.Optional)?.setUpPreloading(),e.get(tL,null,Me.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var nL=new re("",{factory:()=>new ft}),nw=new re("",{providedIn:"root",factory:()=>1});function iY(){return Ed(2,[{provide:nw,useValue:0},{provide:dm,multi:!0,deps:[dn],useFactory:t=>{let n=t.get(sM,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Ne),s=t.get(nL);JR(r,()=>{i(!0)}),t.get(tw).afterPreactivation=()=>(i(!0),s.closed?ue(void 0):s),r.initialNavigation()}))}}])}function rY(){return Ed(3,[{provide:dm,multi:!0,useFactory:()=>{let t=F(Ne);return()=>{t.setUpLocationChangeListener()}}},{provide:nw,useValue:2}])}var iL=new re("");function sY(e){return Ed(0,[{provide:iL,useExisting:J7},{provide:yg,useExisting:e}])}function oY(){return Ed(8,[_R,{provide:_g,useExisting:_R}])}function aY(e){let t=[{provide:QR,useValue:H7},{provide:ZR,useValue:L({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ed(9,t)}var bR=new re("ROUTER_FORROOT_GUARD"),lY=[tc,{provide:bd,useClass:hd},Ne,Cd,{provide:mn,useFactory:tY,deps:[Ne]},JC,[]],iw=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[lY,[],{provide:vg,multi:!0,useValue:n},{provide:bR,useFactory:hY,deps:[[Ne,new Ou,new Pp]]},{provide:Dd,useValue:i||{}},i?.useHash?uY():dY(),cY(),i?.preloadingStrategy?sY(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?fY(i):[],i?.bindToComponentInputs?oY().\u0275providers:[],i?.enableViewTransitions?aY().\u0275providers:[],pY()]}}static forChild(n){return{ngModule:e,providers:[{provide:vg,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(V(bR,8))}}static{this.\u0275mod=qe({type:e})}static{this.\u0275inj=We({})}}return e})();function cY(){return{provide:tL,useFactory:()=>{let e=F(pM),t=F(Ke),n=F(Dd),i=F(tw),r=F(bd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new eY(r,i,e,t,n)}}}function uY(){return{provide:bs,useClass:aM}}function dY(){return{provide:bs,useClass:wb}}function hY(e){return"guarded"}function fY(e){return[e.initialNavigation==="disabled"?rY().\u0275providers:[],e.initialNavigation==="enabledBlocking"?iY().\u0275providers:[]]}var CR=new re("");function pY(){return[{provide:CR,useFactory:nY},{provide:hm,multi:!0,useExisting:CR}]}var fL=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(D(Pn),D(Je))}}static{this.\u0275dir=Ye({type:e})}}return e})(),Ig=(()=>{class e extends fL{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,features:[nn]})}}return e})(),vc=new re("");var mY={provide:vc,useExisting:ui(()=>Tn),multi:!0};function gY(){let e=xs()?xs().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var vY=new re(""),Tn=(()=>{class e extends fL{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!gY())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(D(Pn),D(Je),D(vY,8))}}static{this.\u0275dir=Ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&N("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[pi([mY]),nn]})}}return e})();function mo(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function pL(e){return e!=null&&typeof e.length=="number"}var yc=new re(""),lw=new re(""),yY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,De=class{static min(t){return mL(t)}static max(t){return _Y(t)}static required(t){return gL(t)}static requiredTrue(t){return xY(t)}static email(t){return vL(t)}static minLength(t){return bY(t)}static maxLength(t){return CY(t)}static pattern(t){return wY(t)}static nullValidator(t){return Cg(t)}static compose(t){return wL(t)}static composeAsync(t){return TL(t)}};function mL(e){return t=>{if(mo(t.value)||mo(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function _Y(e){return t=>{if(mo(t.value)||mo(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function gL(e){return mo(e.value)?{required:!0}:null}function xY(e){return e.value===!0?null:{required:!0}}function vL(e){return mo(e.value)||yY.test(e.value)?null:{email:!0}}function bY(e){return t=>mo(t.value)||!pL(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function CY(e){return t=>pL(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function wY(e){if(!e)return Cg;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(mo(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Cg(e){return null}function yL(e){return e!=null}function _L(e){return oo(e)?_t(e):e}function xL(e){let t={};return e.forEach(n=>{t=n!=null?L(L({},t),n):t}),Object.keys(t).length===0?null:t}function bL(e,t){return t.map(n=>n(e))}function SY(e){return!e.validate}function CL(e){return e.map(t=>SY(t)?t:n=>t.validate(n))}function wL(e){if(!e)return null;let t=e.filter(yL);return t.length==0?null:function(n){return xL(bL(n,t))}}function SL(e){return e!=null?wL(CL(e)):null}function TL(e){if(!e)return null;let t=e.filter(yL);return t.length==0?null:function(n){let i=bL(n,t).map(_L);return Cu(i).pipe(fe(xL))}}function DL(e){return e!=null?TL(CL(e)):null}function rL(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function EL(e){return e._rawValidators}function AL(e){return e._rawAsyncValidators}function rw(e){return e?Array.isArray(e)?e:[e]:[]}function wg(e,t){return Array.isArray(e)?e.includes(t):e===t}function sL(e,t){let n=rw(t);return rw(e).forEach(r=>{wg(n,r)||n.push(r)}),n}function oL(e,t){return rw(t).filter(n=>!wg(e,n))}var Sg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SL(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=DL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},ba=class extends Sg{get formDirective(){return null}get path(){return null}},Ca=class extends Sg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tg=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},TY={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Iye=Ie(L({},TY),{"[class.ng-submitted]":"isSubmitted"}),Jn=(()=>{class e extends Tg{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(D(Ca,2))}}static{this.\u0275dir=Ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&hn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[nn]})}}return e})(),ji=(()=>{class e extends Tg{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(D(ba,10))}}static{this.\u0275dir=Ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&hn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[nn]})}}return e})();var Ad="VALID",bg="INVALID",mc="PENDING",Id="DISABLED";function cw(e){return(kg(e)?e.validators:e)||null}function DY(e){return Array.isArray(e)?SL(e):e||null}function uw(e,t){return(kg(t)?t.asyncValidators:e)||null}function EY(e){return Array.isArray(e)?DL(e):e||null}function kg(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function IL(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new O(1e3,"");if(!i[n])throw new O(1001,"")}function kL(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new O(1002,"")})}var gc=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ad}get invalid(){return this.status===bg}get pending(){return this.status==mc}get disabled(){return this.status===Id}get enabled(){return this.status!==Id}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(sL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(sL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oL(t,this._rawAsyncValidators))}hasValidator(t){return wg(this._rawValidators,t)}hasAsyncValidator(t){return wg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mc,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Id,this.errors=null,this._forEachChild(i=>{i.disable(Ie(L({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(L({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ad,this._forEachChild(i=>{i.enable(Ie(L({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ie(L({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ad||this.status===mc)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Id:Ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mc,this._hasOwnPendingAsyncValidator=!0;let n=_L(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ee,this.statusChanges=new ee}_calculateStatus(){return this._allControlsDisabled()?Id:this.errors?bg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mc)?mc:this._anyControlsHaveStatus(bg)?bg:Ad}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kg(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=DY(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=EY(this._rawAsyncValidators)}},Dg=class extends gc{constructor(t,n,i){super(cw(n),uw(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){kL(this,!0,t),Object.keys(t).forEach(i=>{IL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var sw=class extends Dg{};var Mg=new re("CallSetDisabledState",{providedIn:"root",factory:()=>Rg}),Rg="always";function ML(e,t){return[...t.path,e]}function ow(e,t,n=Rg){dw(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),IY(e,t),MY(e,t),kY(e,t),AY(e,t)}function aL(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ag(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Eg(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function AY(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function dw(e,t){let n=EL(e);t.validator!==null?e.setValidators(rL(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=AL(e);t.asyncValidator!==null?e.setAsyncValidators(rL(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Eg(t._rawValidators,r),Eg(t._rawAsyncValidators,r)}function Ag(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=EL(e);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(n=!0,e.setValidators(s))}}if(t.asyncValidator!==null){let r=AL(e);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(n=!0,e.setAsyncValidators(s))}}}let i=()=>{};return Eg(t._rawValidators,i),Eg(t._rawAsyncValidators,i),n}function IY(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&RL(e,t)})}function kY(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&RL(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function RL(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function MY(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function RY(e,t){e==null,dw(e,t)}function LY(e,t){return Ag(e,t)}function LL(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function NY(e){return Object.getPrototypeOf(e.constructor)===Ig}function FY(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function NL(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(s=>{s.constructor===Tn?n=s:NY(s)?i=s:r=s}),r||i||n||null}function OY(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function lL(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function cL(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var kd=class extends gc{constructor(t=null,n,i){super(cw(n),uw(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cL(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){cL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var PY=e=>e instanceof kd;var VY={provide:Ca,useExisting:ui(()=>hw)},uL=Promise.resolve(),hw=(()=>{class e extends Ca{constructor(n,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new kd,this._registered=!1,this.name="",this.update=new ee,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=NL(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),LL(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ow(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){uL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&ms(i);uL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?ML(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(D(ba,9),D(yc,10),D(lw,10),D(vc,10),D(pn,8),D(Mg,8))}}static{this.\u0275dir=Ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Bt.None,"disabled","isDisabled"],model:[Bt.None,"ngModel","model"],options:[Bt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pi([VY]),nn,Ue]})}}return e})(),Hi=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),BY={provide:vc,useExisting:ui(()=>Md),multi:!0},Md=(()=>{class e extends Ig{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&N("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[pi([BY]),nn]})}}return e})();var FL=new re("");var jY={provide:ba,useExisting:ui(()=>bi)},bi=(()=>{class e extends ba{constructor(n,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ee,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ag(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return ow(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){aL(n.control||null,n,!1),OY(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,FY(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(aL(i||null,n),PY(r)&&(ow(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);RY(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&LY(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dw(this.form,this),this._oldForm&&Ag(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||e)(D(yc,10),D(lw,10),D(Mg,8))}}static{this.\u0275dir=Ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&N("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[Bt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pi([jY]),nn,Ue]})}}return e})();var HY={provide:Ca,useExisting:ui(()=>Ci)},Ci=(()=>{class e extends Ca{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ee,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=NL(this,s)}ngOnChanges(n){this._added||this._setUpControl(),LL(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ML(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||e)(D(ba,13),D(yc,10),D(lw,10),D(vc,10),D(FL,8))}}static{this.\u0275dir=Ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[Bt.None,"formControlName","name"],isDisabled:[Bt.None,"disabled","isDisabled"],model:[Bt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[pi([HY]),nn,Ue]})}}return e})(),UY={provide:vc,useExisting:ui(()=>Br),multi:!0};function OL(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function $Y(e){return e.split(":")[0]}var Br=(()=>{class e extends Ig{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),r=OL(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=$Y(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&N("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([UY]),nn]})}}return e})(),go=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(OL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(D(Je),D(Pn),D(Br,9))}}static{this.\u0275dir=Ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),zY={provide:vc,useExisting:ui(()=>PL),multi:!0};function dL(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function GY(e){return e.split(":")[0]}var PL=(()=>{class e extends Ig{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=i.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=GY(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&N("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[pi([zY]),nn]})}}return e})(),vo=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(dL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(dL(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(D(Je),D(Pn),D(PL,9))}}static{this.\u0275dir=Ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function WY(e){return typeof e=="number"?e:parseFloat(e)}var fw=(()=>{class e{constructor(){this._validator=Cg}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Cg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Ye({type:e,features:[Ue]})}}return e})();var qY={provide:yc,useExisting:ui(()=>pw),multi:!0},pw=(()=>{class e extends fw{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>WY(n),this.createValidator=n=>mL(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&le("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[pi([qY]),nn]})}}return e})(),YY={provide:yc,useExisting:ui(()=>wi),multi:!0};var wi=(()=>{class e extends fw{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ms,this.createValidator=n=>gL}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&le("required",r._enabled?"":null)},inputs:{required:"required"},features:[pi([YY]),nn]})}}return e})();var XY={provide:yc,useExisting:ui(()=>mw),multi:!0},mw=(()=>{class e extends fw{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=ms,this.createValidator=n=>vL}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=qn(e)))(r||e)}})()}static{this.\u0275dir=Ye({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[pi([XY]),nn]})}}return e})();var VL=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=qe({type:e})}static{this.\u0275inj=We({})}}return e})(),aw=class extends gc{constructor(t,n,i){super(cw(n),uw(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,i={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){kL(this,!1,t),t.forEach((i,r)=>{IL(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,i)=>{t(n,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function hL(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Ui=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let r=this._reduceControls(n),s={};return hL(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Dg(r,s)}record(n,i=null){let r=this._reduceControls(n);return new sw(r,i)}control(n,i,r){let s={};return this.useNonNullable?(hL(i)?s=i:(s.validators=i,s.asyncValidators=r),new kd(n,Ie(L({},s),{nonNullable:!0}))):new kd(n,i,r)}array(n,i,r){let s=n.map(o=>this._createControl(o));return new aw(s,i,r)}_reduceControls(n){let i={};return Object.keys(n).forEach(r=>{i[r]=this._createControl(n[r])}),i}_createControl(n){if(n instanceof kd)return n;if(n instanceof gc)return n;if(Array.isArray(n)){let i=n[0],r=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,r,s)}else return this.control(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var BL=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Mg,useValue:n.callSetDisabledState??Rg}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=qe({type:e})}static{this.\u0275inj=We({imports:[VL]})}}return e})(),$i=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:FL,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Mg,useValue:n.callSetDisabledState??Rg}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=qe({type:e})}static{this.\u0275inj=We({imports:[VL]})}}return e})();var jL=e=>({"border-red-500":e});function QY(e,t){e&1&&(m(0,"span"),y(1,"Email is required."),p())}function ZY(e,t){e&1&&(m(0,"span"),y(1,"Please enter a valid email address."),p())}function KY(e,t){if(e&1&&(m(0,"div",22),E(1,QY,2,0,"span",12)(2,ZY,2,0,"span",12),p()),e&2){let n,i,r=S();g(),_("ngIf",(n=r.loginForm.get("email"))==null||n.errors==null?null:n.errors.required),g(),_("ngIf",(i=r.loginForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function JY(e,t){e&1&&(m(0,"span"),y(1,"Password is required."),p())}function e9(e,t){if(e&1&&(m(0,"div",22),E(1,JY,2,0,"span",12),p()),e&2){let n,i=S();g(),_("ngIf",(n=i.loginForm.get("password"))==null||n.errors==null?null:n.errors.required)}}function t9(e,t){if(e&1&&(m(0,"div",23),y(1),p()),e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function n9(e,t){e&1&&(m(0,"span"),y(1,"Sign in"),p())}function i9(e,t){e&1&&(m(0,"span"),z(),m(1,"svg",24),R(2,"circle",25)(3,"path",26),p(),y(4," Signing in... "),p())}var HL=(()=>{class e{constructor(n,i,r){this.fb=n,this.authService=i,this.router=r,this.errorMessage=null,this.isLoading=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[De.required,De.email]],password:["",De.required]})}onSubmit(){if(this.loginForm.invalid){this.errorMessage="Please enter valid email and password.";return}this.errorMessage=null,this.isLoading=!0;let n=this.loginForm.value;this.authService.login(n).subscribe({next:i=>{this.isLoading=!1;let r=i.user.role;r==="ADMIN"?this.router.navigate(["/admin-dashboard"]):r==="DOCTOR"?this.router.navigate(["/doctor-dashboard"]):r==="SECRETARY"?this.router.navigate(["/secretary-dashboard"]):(console.warn("Logged in user has unknown role or no specific dashboard route defined, navigating to appointments."),this.router.navigate(["/appointments"]))},error:i=>{this.isLoading=!1,i.status===401||i.status===403?this.errorMessage="Invalid email or password.":this.errorMessage="An error occurred during login. Please try again.",console.error("Login error:",i)}})}static{this.\u0275fac=function(i){return new(i||e)(D(Ui),D($e),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-login"]],standalone:!0,features:[Te],decls:32,vars:13,consts:[[1,"flex"],[1,"h-screen","flex","flex-col","items-center","justify-center","bg-gradient-to-r","from-[#2dd4bf]","to-[#1f2937]","w-full"],[1,"w-full","max-w-md","p-8","space-y-6","bg-transparent","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-center","text-gray-900"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","required","",1,"block","w-full","px-3","py-2","mt-1","placeholder-gray-400","border","border-gray-300","rounded-md","shadow-sm","appearance-none","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","type","password","required","",1,"block","w-full","px-3","py-2","mt-1","placeholder-gray-400","border","border-gray-300","rounded-md","shadow-sm","appearance-none","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["class","p-3 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["type","submit",1,"flex","justify-center","w-full","px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"mt-4","text-sm","text-center","text-gray-600"],["routerLink","/register",1,"font-medium","text-primary-600","hover:text-primary-500"],[1,"w-full"],[1,"w-full","relative","bg-amber-200","inset-0","bg-cover","bg-center",2,"background-image","url('/slider.jpg')"],[1,"absolute","inset-0","overflow-hidden","bg-gradient-to-r","from-[#2dd4bf]","to-[#1f2937]","opacity-50"],[1,"absolute","inset-0","overflow-hidden","bg-gradient-to-r","from-primary-800","via-primary-700","to-primary-900","opacity-90"],[1,"absolute","bottom-0","right-0","w-96","h-96","bg-gradient-to-r","bg-[#2dd4bf]","to-[#1f2937]","rounded-full","blur-3xl","animate-float-slow"],[1,"absolute","bottom-0","right-0","w-64","h-64","bg-accent-400","rounded-full","blur-3xl","animate-float"],[1,"absolute","top-1/2","left-1/3","w-48","h-48","bg-primary-400","rounded-full","blur-3xl","animate-pulse-slow"],[1,"mt-1","text-xs","text-red-600"],[1,"p-3","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"w-5","h-5","mr-3","-ml-1","text-white","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(i,r){if(i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4," Login "),p(),m(5,"form",4),N("ngSubmit",function(){return r.onSubmit()}),m(6,"div")(7,"label",5),y(8,"Email address"),p(),R(9,"input",6),E(10,KY,3,2,"div",7),p(),m(11,"div")(12,"label",8),y(13,"Password"),p(),R(14,"input",9),E(15,e9,2,1,"div",7),p(),E(16,t9,2,1,"div",10),m(17,"div")(18,"button",11),E(19,n9,2,0,"span",12)(20,i9,5,0,"span",12),p()()(),m(21,"p",13),y(22," Don't have an account? "),m(23,"a",14),y(24," Register here "),p()()()(),m(25,"div",15)(26,"div",16),R(27,"div",17),m(28,"div",18),R(29,"div",19)(30,"div",20)(31,"div",21),p()()()()),i&2){let s,o,a,l;g(5),_("formGroup",r.loginForm),g(4),_("ngClass",ge(9,jL,((s=r.loginForm.get("email"))==null?null:s.invalid)&&((s=r.loginForm.get("email"))==null?null:s.touched))),g(),_("ngIf",((o=r.loginForm.get("email"))==null?null:o.invalid)&&((o=r.loginForm.get("email"))==null?null:o.touched)),g(4),_("ngClass",ge(11,jL,((a=r.loginForm.get("password"))==null?null:a.invalid)&&((a=r.loginForm.get("password"))==null?null:a.touched))),g(),_("ngIf",((l=r.loginForm.get("password"))==null?null:l.invalid)&&((l=r.loginForm.get("password"))==null?null:l.touched)),g(),_("ngIf",r.errorMessage),g(2),_("disabled",r.loginForm.invalid||r.isLoading),g(),_("ngIf",!r.isLoading),g(),_("ngIf",r.isLoading)}},dependencies:[we,Ct,de,$i,Hi,Tn,Jn,ji,wi,bi,Ci]})}}return e})();function UL(e,t){e.terminate=function(){let n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;let i=new Date,r=Math.random().toString().substring(2,8),s=this.onclose;this.onclose=o=>{let a=new Date().getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),s?.call(e,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}var Sa={LF:`
`,NULL:"\0"};var Rd=class e{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){let{command:n,headers:i,body:r,binaryBody:s,escapeHeaderValues:o,skipContentLengthHeader:a}=t;this.command=n,this.headers=Object.assign({},i||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(t,n){let i={},r=s=>s.replace(/^\s+|\s+$/g,"");for(let s of t.headers.reverse()){let o=s.indexOf(":"),a=r(s[0]),l=r(s[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(l=e.hdrValueUnEscape(l)),i[a]=l}return new e({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){let t=this.serializeCmdAndHeaders();return this.isBinaryBody?e.toUnit8Array(t,this._binaryBody).buffer:t+this._body+Sa.NULL}serializeCmdAndHeaders(){let t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let n of Object.keys(this.headers||{})){let i=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${e.hdrValueEscape(`${i}`)}`):t.push(`${n}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(Sa.LF)+Sa.LF+Sa.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){let i=new TextEncoder().encode(t),r=new Uint8Array([0]),s=new Uint8Array(i.length+n.length+r.length);return s.set(i),s.set(n,i.length),s.set(r,i.length+n.length),s}static marshall(t){return new e(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var Lg=class{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let i;if(typeof t=="string"?i=this._encoder.encode(t):i=new Uint8Array(t),n&&i[i.length-1]!==0){let r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++){let s=i[r];this._onByte(s)}}_collectFrame(t){if(t!==0&&t!==13){if(t===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==13){if(t===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==13){if(t===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==13){if(t===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){let t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===0){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var Ds=function(e){return e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e}(Ds||{}),pr=function(e){return e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE",e}(pr||{}),Ng=function(e){return e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL",e}(Ng||{}),_c=function(e){return e.Interval="interval",e.Worker="worker",e}(_c||{});var Fg=class{constructor(t,n=_c.Interval,i){this._interval=t,this._strategy=n,this._debug=i,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===_c.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){let n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}};var Zt=class{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}};Zt.V1_0="1.0";Zt.V1_1="1.1";Zt.V1_2="1.2";Zt.default=new Zt([Zt.V1_2,Zt.V1_1,Zt.V1_0]);var Og=class{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,i){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Zt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{let s=r.headers.subscription,o=this._subscriptions[s]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===Zt.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,s,u),a.nack=(u={})=>l.nack(c,s,u),o(a)},RECEIPT:r=>{let s=this._receiptWatchers[r.headers["receipt-id"]];s?(s(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}start(){let t=new Lg(n=>{let i=Rd.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let i=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${i}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{let n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Zt.V1_1&&t.version!==Zt.V1_2||!t["heart-beat"])return;let[n,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&i!==0){let r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=new Fg(r,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===Ds.OPEN&&(this._webSocket.send(Sa.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){let r=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{let s=Date.now()-this._lastServerActivityTS;s>r*2&&(this.debug(`did not receive server activity for the last ${s}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Ds.CONNECTING||this._webSocket.readyState===Ds.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&UL(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){let{command:n,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=t,a=new Rd({command:n,headers:i,body:r,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o}),l=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let c=l;for(;c.length>0;){let u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}}dispose(){if(this.connected)try{let t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Ds.CONNECTING||this._webSocket.readyState===Ds.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){let{destination:n,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=t,a=Object.assign({destination:n},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:s,skipContentLengthHeader:o})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,i={}){i=Object.assign({},i),i.id||(i.id=`sub-${this._counter++}`),i.destination=t,this._subscriptions[i.id]=n,this._transmit({command:"SUBSCRIBE",headers:i});let r=this;return{id:i.id,unsubscribe(s){return r.unsubscribe(i.id,s)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){let n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});let i=this;return{id:n,commit(){i.commit(n)},abort(){i.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,i={}){i=Object.assign({},i),this._connectedVersion===Zt.V1_2?i.id=t:i["message-id"]=t,i.subscription=n,this._transmit({command:"ACK",headers:i})}nack(t,n,i={}){return i=Object.assign({},i),this._connectedVersion===Zt.V1_2?i.id=t:i["message-id"]=t,i.subscription=n,this._transmit({command:"NACK",headers:i})}};var Pg=class{get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===pr.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Zt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Ng.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=_c.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=pr.INACTIVE;let n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){let t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(pr.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===pr.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){return $o(this,null,function*(){if(yield this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let t=this._createWebSocket();this._stompHandler=new Og(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===pr.DEACTIVATING&&this._changeState(pr.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()})}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Ng.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}deactivate(){return $o(this,arguments,function*(t={}){let n=t.force||!1,i=this.active,r;if(this.state===pr.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(pr.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Ds.CLOSED){let s=this._stompHandler.onWebSocketClose;r=new Promise((o,a)=>{this._stompHandler.onWebSocketClose=l=>{s(l),o()}})}else return this._changeState(pr.INACTIVE),Promise.resolve();return n?this._stompHandler?.discardWebsocket():i&&this._disposeStompHandler(),r})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,i)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,i={}){this._checkConnection(),this._stompHandler.ack(t,n,i)}nack(t,n,i={}){this._checkConnection(),this._stompHandler.nack(t,n,i)}};var kO=If(AO());function IO(e){return e&&typeof e.title=="string"&&typeof e.message=="string"&&(e.id===void 0||typeof e.id=="number")}function lQ(e){return e&&typeof e.sender=="string"&&typeof e.content=="string"}var r0=(()=>{class e{constructor(n){this.authService=n,this.connectionState=new At("DISCONNECTED"),this.subscriptions=new Map,this.destroy$=new ft,this.publicChatMessages=new ft,this.privateChatMessages=new ft,this.notifications=new ft,this.connectionState$=this.connectionState.asObservable(),this.publicChatMessages$=this.publicChatMessages.asObservable(),this.privateChatMessages$=this.privateChatMessages.asObservable(),this.notifications$=this.notifications.asObservable(),console.log("WebSocket service constructed"),this.authService.isLoggedIn$.pipe(Qo(this.destroy$)).subscribe(i=>{console.log("Auth state changed. LoggedIn:",i),i&&!this.isConnected()?(console.log("User is logged in and not connected, attempting connection..."),this.connect()):!i&&this.isConnected()&&(console.log("User logged out, disconnecting..."),this.disconnect())}),this.authService.isLoggedIn$.pipe($n()).subscribe(i=>{i&&!this.isConnected()&&(console.log("User already logged in on service init, connecting..."),this.connect())})}ngOnDestroy(){this.disconnect(),this.destroy$.next(),this.destroy$.complete()}isConnected(){return this.stompClient?.active??!1}connect(){if(this.isConnected()||this.connectionState.value==="CONNECTING"){console.log("WebSocket already connected or connecting.");return}let n=this.authService.getToken(),i=this.authService.getCurrentUserValue();if(!n||!i){console.error("WebSocket connection failed: Token or user not found."),this.connectionState.next("ERROR");return}console.log(`Attempting WebSocket connection for user: ${i.email}`),this.connectionState.next("CONNECTING");let r=`${bt.apiUrl.replace("/api/v1","")}/ws`;console.log("Connecting to WebSocket URL:",r),this.stompClient=new Pg({webSocketFactory:()=>new kO.default(r),connectHeaders:{Authorization:`Bearer ${n}`},debug:s=>{console.log("STOMP Debug:",s)},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3}),this.stompClient.onConnect=s=>{console.log("WebSocket Connected:",s),this.connectionState.next("CONNECTED"),this.subscribeToTopic("/topic/public",this.publicChatMessages),this.subscribeToTopic("/user/queue/private",this.privateChatMessages),this.subscribeToTopic("/user/queue/notifications",this.notifications),this.subscribeToTopic("/topic/notifications",this.notifications),this.sendMessage("/app/chat.join",{sender:i.email,type:"JOIN"})},this.stompClient.onStompError=s=>{console.error("Broker reported error:",s.headers.message,"Body:",s.body),this.connectionState.next("ERROR")},this.stompClient.onWebSocketError=s=>{console.error("WebSocket Error:",s),this.connectionState.next("ERROR")},this.stompClient.onDisconnect=()=>{console.log("WebSocket Disconnected"),this.connectionState.next("DISCONNECTED"),this.subscriptions.clear()},this.stompClient.activate()}disconnect(){if(this.stompClient?.active){let n=this.authService.getCurrentUserValue();n&&this.sendMessage("/app/chat.leave",{sender:n.email,type:"LEAVE"}),this.stompClient.deactivate().then(()=>console.log("WebSocket deactivated.")).catch(i=>console.error("Error during WebSocket deactivation:",i))}this.connectionState.next("DISCONNECTED"),this.subscriptions.clear(),this.stompClient=void 0}subscribeToTopic(n,i){if(!this.stompClient?.active){console.error(`Cannot subscribe to ${n}: STOMP client not active.`),this.connectionState$.pipe(cn(r=>r==="CONNECTED"),$n(),Qo(this.destroy$)).subscribe(()=>this.subscribeToTopic(n,i));return}if(!this.subscriptions.has(n)){console.log(`Subscribing to ${n}...`);try{let r=this.stompClient.subscribe(n,s=>{console.log(`Raw message received on ${n}:`,s.body);try{let o=JSON.parse(s.body);console.log(`Parsed message body on ${n}:`,o),n.includes("/queue/notifications")?IO(o)?(console.log("[WebsocketService] Emitting NotificationDTO on notifications$"),i.next(o)):console.warn(`Received non-NotificationDTO message on notification topic ${n}:`,o):n.includes("/queue/private")||n.includes("/topic/public")?lQ(o)?(console.log(`[WebsocketService] Emitting ChatMessage on ${n.includes("/private")?"private":"public"}ChatMessages$`),i.next(o)):console.warn(`Received non-ChatMessage message on chat topic ${n}:`,o):console.warn(`Received message on unhandled topic ${n}:`,o)}catch(o){console.error(`Could not parse JSON message on ${n}: ${s.body}`,o)}});this.subscriptions.set(n,r),console.log(`Successfully subscribed to ${n}.`)}catch(r){console.error(`Error subscribing to ${n}:`,r)}}}unsubscribeFromTopic(n){let i=this.subscriptions.get(n);i?(i.unsubscribe(),this.subscriptions.delete(n),console.log(`Unsubscribed from ${n}`)):console.warn(`No active subscription found for topic: ${n}`)}sendMessage(n,i){this.stompClient?.active?(this.stompClient.publish({destination:n,body:JSON.stringify(i)}),console.log(`Message sent to ${n}:`,i)):console.error(`Cannot send message to ${n}: STOMP client not active.`)}sendNotification(n){this.sendMessage("/app/notification.private",n)}broadcastNotification(n){this.sendMessage("/app/notification.broadcast",n)}debugNotifications(){this.notifications$.subscribe(n=>{try{console.log("Raw message received from notifications$:",n),console.log("Message type:",typeof n),typeof n=="string"?console.log("String message received:",n):typeof n=="object"?(console.log("Object message received:",n),IO(n)?console.log("NotificationDTO message received:",n):console.log("Non-NotificationDTO object message received:",n)):console.log("Unknown message type received:",n)}catch(i){console.error("Error processing notification message:",i)}})}sendTestNotification(){if(!this.stompClient?.active){console.error("Cannot send test notification: STOMP client not active");return}let n=this.authService.getCurrentUserValue();if(!n){console.error("Cannot send test notification: No user logged in");return}let i={title:"Test Notification",message:"This is a test notification sent at "+new Date().toLocaleTimeString(),sender:n.email,recipient:n.email,createdAt:new Date().toISOString(),read:!1};console.log("Sending test notification:",i),this.stompClient.publish({destination:"/app/notification.private",body:JSON.stringify(i)})}static{this.\u0275fac=function(i){return new(i||e)(V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var RO=(()=>{class e{constructor(n){this.http=n,this.apiUrl=`${bt.apiUrl}/notifications`}getUserNotifications(n=1,i=10){let r=new Vt().set("page",(n-1).toString()).set("size",i.toString()).set("sort","createdAt,desc");return this.http.get(this.apiUrl,{params:r})}getUnreadNotifications(){return this.http.get(`${this.apiUrl}/unread`)}getUnreadNotificationCount(){return this.http.get(`${this.apiUrl}/unread/count`)}markAsRead(n){return this.http.post(`${this.apiUrl}/${n}/read`,{})}markAllAsRead(){return this.http.post(`${this.apiUrl}/read-all`,{})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var uQ=()=>({exact:!0});function dQ(e,t){e&1&&(m(0,"li")(1,"a",32)(2,"span",7),y(3," U "),p(),y(4," Staff Management "),p()())}function hQ(e,t){e&1&&(m(0,"li")(1,"a",33)(2,"span",7),y(3," R "),p(),y(4," Reports "),p()())}function fQ(e,t){e&1&&(m(0,"li")(1,"a",34)(2,"span",7),z(),m(3,"svg",35),R(4,"path",9)(5,"path",36)(6,"path",37)(7,"path",38)(8,"path",39)(9,"path",40)(10,"path",41),p()(),y(11," Patients "),p()())}function pQ(e,t){e&1&&(m(0,"li")(1,"a",42)(2,"span",7),y(3," A "),p(),y(4," Appointments "),p()())}function mQ(e,t){e&1&&(m(0,"li")(1,"a",43)(2,"span",7),y(3," Rx"),p(),y(4," Prescriptions "),p()())}function gQ(e,t){e&1&&(m(0,"li")(1,"a",34)(2,"span",7),y(3," P "),p(),y(4," Patients "),p()())}function vQ(e,t){e&1&&(m(0,"li")(1,"a",42)(2,"span",7),y(3," A "),p(),y(4," Appointments "),p()())}function yQ(e,t){e&1&&(m(0,"li")(1,"a",44)(2,"span",7),y(3," I "),p(),y(4," Invoices "),p()())}function _Q(e,t){if(e&1&&(m(0,"span",45),y(1),p()),e&2){let n=S();g(),J(" ",n.unreadNotificationCount," ")}}function xQ(e,t){if(e&1){let n=K();m(0,"button",57),N("click",function(){j(n);let r=S(2);return H(r.markAllNotificationsAsRead())}),y(1," Mark all read "),p()}}function bQ(e,t){e&1&&(m(0,"div",58)(1,"div",59),z(),m(2,"svg",60),R(3,"path",61),p()(),sr(),m(4,"p",62),y(5,"No notifications yet"),p(),m(6,"p",63),y(7,"You're all caught up!"),p()())}function CQ(e,t){e&1&&R(0,"div",75)}function wQ(e,t){e&1&&(m(0,"span",76),y(1," New "),p())}function SQ(e,t){if(e&1&&(m(0,"div",77),z(),m(1,"svg",78),R(2,"path",79),p(),y(3),p()),e&2){let n=S().$implicit;g(3),J(" ",n.sender," ")}}function TQ(e,t){if(e&1){let n=K();m(0,"div",64),N("click",function(){let r=j(n).$implicit,s=S(2);return H(s.onNotificationClick(r))}),E(1,CQ,1,0,"div",65),m(2,"div",66)(3,"div",67)(4,"div",68)(5,"h4",69),y(6),p(),E(7,wQ,2,0,"span",70),p(),m(8,"span",71),y(9),ct(10,"date"),p()(),m(11,"p",72),y(12),p(),m(13,"div",73),E(14,SQ,4,1,"div",74),p()()()}if(e&2){let n=t.$implicit,i=t.index;hn("animate-slideInFromRight",i<3),g(),_("ngIf",!n.read),g(),hn("pl-8",!n.read),g(4),J(" ",n.title," "),g(),_("ngIf",!n.read),g(2),J(" ",fn(10,10,n.createdAt,"MMM d, h:mm a")," "),g(3),J(" ",n.message," "),g(2),_("ngIf",n.sender)}}function DQ(e,t){e&1&&(m(0,"div",80),R(1,"div",81),p())}function EQ(e,t){if(e&1){let n=K();m(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",49)(4,"h3",50),y(5,"Notifications"),p(),m(6,"span",51),y(7),p()(),E(8,xQ,2,0,"button",52),p()(),m(9,"div",53),N("scroll",function(r){j(n);let s=S();return H(s.onScroll(r))}),E(10,bQ,8,0,"div",54)(11,TQ,15,13,"div",55)(12,DQ,2,0,"div",56),p()()}if(e&2){let n=S();g(7),J(" ",n.totalNotifications," total "),g(),_("ngIf",n.unreadNotificationCount>0),g(2),_("ngIf",n.notifications.length===0),g(),_("ngForOf",n.notifications),g(),_("ngIf",n.loading)}}var LO=(()=>{class e{constructor(n,i,r,s,o){this.authService=n,this.websocketService=i,this.notificationService=r,this.toastr=s,this.router=o,this.currentUserRole=null,this.notifications=[],this.unreadNotificationCount=0,this.notificationSubscription=null,this.showNotificationsPanel=!1,this.currentPage=1,this.pageSize=10,this.totalNotifications=0,this.loading=!1}ngOnInit(){this.currentUserRole=this.authService.getCurrentUserRole(),this.loadAllNotifications(),this.subscribeToNotificationMessages()}ngOnDestroy(){this.notificationSubscription?.unsubscribe()}loadAllNotifications(n=1){this.loading=!0,this.notificationService.getUserNotifications(n,this.pageSize).subscribe({next:i=>{n===1?this.notifications=i.content:this.notifications=[...this.notifications,...i.content],this.totalNotifications=i.totalElements,this.currentPage=n,this.updateUnreadCount(),this.loading=!1},error:i=>{console.error("[MainLayoutComponent] Error loading notifications:",i),this.loading=!1}})}updateUnreadCount(){this.notificationService.getUnreadNotificationCount().subscribe({next:n=>{this.unreadNotificationCount=n},error:n=>{console.error("[MainLayoutComponent] Error getting unread count:",n)}})}loadMoreNotifications(){!this.loading&&this.notifications.length<this.totalNotifications&&this.loadAllNotifications(this.currentPage+1)}onNotificationClick(n){n.read||this.notificationService.markAsRead(n.id).subscribe({next:()=>{n.read=!0,this.updateUnreadCount()},error:i=>{console.error("[MainLayoutComponent] Error marking notification as read:",i)}})}subscribeToNotificationMessages(){this.notificationSubscription?.unsubscribe(),console.log("[MainLayoutComponent] Subscribing to notifications$..."),this.notificationSubscription=this.websocketService.notifications$.subscribe({next:n=>{console.log("[MainLayoutComponent] Received notification (realtime):",n),this.notifications.unshift(n),this.unreadNotificationCount++,this.totalNotifications++,this.showNotificationToast(n)},error:n=>{console.error("[MainLayoutComponent] Error receiving notification:",n)}})}showNotificationToast(n){console.log("[MainLayoutComponent] Showing toast for:",n.title),this.toastr.info(n.message,n.title||"New Notification",{closeButton:!0,progressBar:!0})}viewNotifications(){this.showNotificationsPanel=!this.showNotificationsPanel}closeNotificationsPanel(){this.showNotificationsPanel=!1}logout(){this.authService.logout(),this.router.navigate(["/login"])}onScroll(n){let i=n.target;i.scrollHeight-i.scrollTop<=i.clientHeight*1.5&&this.loadMoreNotifications()}markAllNotificationsAsRead(){this.notificationService.markAllAsRead().subscribe({next:()=>{this.notifications.forEach(n=>{n.read=!0}),this.unreadNotificationCount=0},error:n=>{console.error("[MainLayoutComponent] Error marking all notifications as read:",n)}})}static{this.\u0275fac=function(i){return new(i||e)(D($e),D(r0),D(RO),D(tg),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-main-layout"]],standalone:!0,features:[Te],decls:53,vars:15,consts:[[1,"flex","h-screen","bg-gray-100"],[1,"w-64","bg-dark","justify-between","gap-10","text-gray-800","p-4","hidden","md:flex","md:flex-col","shadow-lg"],[1,"mb-6","flex","text-center"],[1,"text-2xl","font-bold","text-primary-600"],[1,"flex-1"],[1,"space-y-1"],["routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"routerLink","routerLinkActiveOptions"],[1,"mr-3","h-6","w-6"],["xmlns","http://www.w3.org/2000/svg","width","8","height","8","viewBox","0 0 24 24","fill","currentColor",1,"icon","icon-tabler","icons-tabler-filled","icon-tabler-layout-dashboard"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M9 3a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2zm0 12a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-2a2 2 0 0 1 2 -2zm10 -4a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-6a2 2 0 0 1 2 -2zm0 -8a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-4a2 2 0 0 1 -2 -2v-2a2 2 0 0 1 2 -2z"],["routerLink","/chat","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],["xmlns","http://www.w3.org/2000/svg","width","24","height","8","viewBox","0 0 24 24","fill","currentColor",1,"icon","icon-tabler","icons-tabler-filled","icon-tabler-message"],["d","M18 3a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-4.724l-4.762 2.857a1 1 0 0 1 -1.508 -.743l-.006 -.114v-2h-1a4 4 0 0 1 -3.995 -3.8l-.005 -.2v-8a4 4 0 0 1 4 -4zm-4 9h-6a1 1 0 0 0 0 2h6a1 1 0 0 0 0 -2m2 -4h-8a1 1 0 1 0 0 2h8a1 1 0 0 0 0 -2"],[4,"ngIf"],[1,"mt-auto","pt-4","border-t","border-gray-200"],[1,"flex","items-center","w-full","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-red-100","hover:text-red-700",3,"click"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"bg-white","shadow-md","h-16","flex","justify-end","p-4"],[1,"flex","justify-between","items-center"],[1,"text-xl","font-semibold"],[1,"flex","items-center","space-x-4"],[1,"relative"],[1,"p-3","rounded-xl","bg-white/10","backdrop-blur-lg","border","border-white/20","shadow-lg","hover:shadow-primary-500/20","transition-all","duration-300","group",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","size","{1.5}",1,"h-6","w-6","text-gray-700","group-hover:text-primary-600","transition-colors","duration-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],["class","absolute -top-1 -right-1 flex items-center justify-center min-w-[20px] h-5 px-1.5 text-xs font-bold text-white bg-gradient-to-r from-primary-500 to-primary-600 rounded-full shadow-lg transform scale-100 transition-transform duration-300 animate-pulse",4,"ngIf"],["class","absolute right-0 mt-4 w-[420px] bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 overflow-hidden z-50 transform transition-all duration-300 ease-out animate-slideIn",4,"ngIf"],[1,"text-sm","text-gray-600","hidden","sm:block"],[1,"md:hidden","text-sm","text-red-600","hover:text-red-800",3,"click"],[1,"flex-1","overflow-x-hidden","overflow-y-auto","bg-gray-100","p-6"],["routerLink","/admin/users","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],["routerLink","/admin/reports","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],["routerLink","/patients","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icons-tabler-outline","icon-tabler-wheelchair"],["d","M8 16m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"],["d","M19 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"],["d","M19 17a3 3 0 0 0 -3 -3h-3.4"],["d","M3 3h1a2 2 0 0 1 2 2v6"],["d","M6 8h11"],["d","M15 8v6"],["routerLink","/appointments","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],["routerLink","/prescriptions","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],["routerLink","/invoices","routerLinkActive","bg-primary-100 text-primary-700",1,"flex","items-center","px-3","py-2","rounded-md","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900"],[1,"absolute","-top-1","-right-1","flex","items-center","justify-center","min-w-[20px]","h-5","px-1.5","text-xs","font-bold","text-white","bg-gradient-to-r","from-primary-500","to-primary-600","rounded-full","shadow-lg","transform","scale-100","transition-transform","duration-300","animate-pulse"],[1,"absolute","right-0","mt-4","w-[420px]","bg-white/95","backdrop-blur-xl","rounded-2xl","shadow-2xl","border","border-white/20","overflow-hidden","z-50","transform","transition-all","duration-300","ease-out","animate-slideIn"],[1,"px-6","py-4","bg-gradient-to-r","from-primary-500/10","to-primary-500/10","border-b","border-white/20"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"text-base","font-semibold","text-gray-900"],[1,"px-2","py-0.5","text-xs","font-medium","text-primary-700","bg-primary-50","rounded-full"],["class","px-3 py-1 text-xs font-medium text-white bg-primary-500 hover:bg-primary-600 rounded-full transition-colors duration-200",3,"click",4,"ngIf"],[1,"overflow-y-auto","max-h-[32rem]","scroll-smooth",3,"scroll"],["class","flex flex-col items-center justify-center py-12 px-6",4,"ngIf"],["class","group relative hover:bg-gradient-to-r hover:from-primary-50 hover:to-primary-50 transition-all duration-300 cursor-pointer",3,"animate-slideInFromRight","click",4,"ngFor","ngForOf"],["class","flex justify-center py-4",4,"ngIf"],[1,"px-3","py-1","text-xs","font-medium","text-white","bg-primary-500","hover:bg-primary-600","rounded-full","transition-colors","duration-200",3,"click"],[1,"flex","flex-col","items-center","justify-center","py-12","px-6"],[1,"relative","w-24","h-24","mb-4"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","inset-0","text-gray-300","animate-float"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-sm","text-gray-500","font-medium"],[1,"text-xs","text-gray-400","mt-1"],[1,"group","relative","hover:bg-gradient-to-r","hover:from-primary-50","hover:to-primary-50","transition-all","duration-300","cursor-pointer",3,"click"],["class","absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-primary-500 to-primary-500",4,"ngIf"],[1,"px-6","py-4"],[1,"flex","items-start","justify-between","mb-1"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-900","group-hover:text-primary-700","transition-colors","duration-200"],["class","px-1.5 py-0.5 text-[10px] font-semibold text-primary-700 bg-primary-50 rounded-full",4,"ngIf"],[1,"text-xs","text-gray-400","whitespace-nowrap","ml-4"],[1,"text-sm","text-gray-600","leading-relaxed"],[1,"mt-2","flex","items-center","gap-3"],["class","flex items-center text-xs text-gray-500",4,"ngIf"],[1,"absolute","left-0","top-0","bottom-0","w-1","bg-gradient-to-b","from-primary-500","to-primary-500"],[1,"px-1.5","py-0.5","text-[10px]","font-semibold","text-primary-700","bg-primary-50","rounded-full"],[1,"flex","items-center","text-xs","text-gray-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","mr-1","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"flex","justify-center","py-4"],[1,"w-6","h-6","border-2","border-primary-500","rounded-full","animate-spin","border-t-transparent"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h2",3),y(4,"HRichy48"),p()(),m(5,"nav",4)(6,"ul",5)(7,"li")(8,"a",6)(9,"span",7),z(),m(10,"svg",8),R(11,"path",9)(12,"path",10),p()(),y(13," Dashboard "),p()(),sr(),m(14,"li")(15,"a",11),z(),m(16,"svg",12),R(17,"path",9)(18,"path",13),p(),sr(),R(19,"span",7),y(20," Messages "),p()(),E(21,dQ,5,0,"li",14)(22,hQ,5,0,"li",14)(23,fQ,12,0,"li",14)(24,pQ,5,0,"li",14)(25,mQ,5,0,"li",14)(26,gQ,5,0,"li",14)(27,vQ,5,0,"li",14)(28,yQ,5,0,"li",14),p()(),m(29,"div",15)(30,"button",16),N("click",function(){return r.logout()}),m(31,"span",7),y(32," L "),p(),y(33," Logout "),p()()(),m(34,"div",17)(35,"header",18)(36,"div",19),R(37,"h1",20),m(38,"div",21)(39,"div",22)(40,"button",23),N("click",function(){return r.viewNotifications()}),m(41,"span",24),y(42,"View notifications"),p(),z(),m(43,"svg",25),R(44,"path",26),p(),E(45,_Q,2,1,"span",27),p(),E(46,EQ,13,5,"div",28),p(),sr(),m(47,"span",29),y(48,"Welcome!"),p(),m(49,"button",30),N("click",function(){return r.logout()}),y(50,"Logout"),p()()()(),m(51,"main",31),R(52,"router-outlet"),p()()()),i&2&&(g(8),_("routerLink",r.currentUserRole==="ADMIN"?"/admin-dashboard":r.currentUserRole==="DOCTOR"?"/doctor-dashboard":"/secretary-dashboard")("routerLinkActiveOptions",tb(14,uQ)),g(13),_("ngIf",r.currentUserRole==="ADMIN"),g(),_("ngIf",r.currentUserRole==="ADMIN"),g(),_("ngIf",r.currentUserRole==="DOCTOR"),g(),_("ngIf",r.currentUserRole==="DOCTOR"),g(),_("ngIf",r.currentUserRole==="DOCTOR"),g(),_("ngIf",r.currentUserRole==="SECRETARY"),g(),_("ngIf",r.currentUserRole==="SECRETARY"),g(),_("ngIf",r.currentUserRole==="SECRETARY"),g(15),hn("animate-swing",r.unreadNotificationCount>0),g(2),_("ngIf",r.unreadNotificationCount>0),g(),_("ngIf",r.showNotificationsPanel))},dependencies:[we,et,de,Zn,wd,Vi,eL],styles:["@keyframes _ngcontent-%COMP%_swing{0%,to{transform:rotate(0)}25%{transform:rotate(10deg)}75%{transform:rotate(-10deg)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.animate-swing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_swing 1s ease-in-out}.animate-float[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.animate-slideIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out forwards}.animate-slideInFromRight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInFromRight .3s ease-out forwards}.backdrop-blur-xl[_ngcontent-%COMP%]{backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px)}.scroll-smooth[_ngcontent-%COMP%]{scroll-behavior:smooth}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]})}}return e})();var Zd=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Kd=class extends Zd{constructor(t,n,i,r,s){super(),this.component=t,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},sS=class extends Zd{constructor(t,n,i,r){super(),this.templateRef=t,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},oS=class extends Zd{constructor(t){super(),this.element=t instanceof Je?t.nativeElement:t}},aS=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Kd)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof sS)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof oS)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var s0=class extends aS{constructor(t,n,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||dn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var o0="http://www.w3.org/1999/xhtml",lS={svg:"http://www.w3.org/2000/svg",xhtml:o0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fs(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),lS.hasOwnProperty(t)?{space:lS[t],local:e}:e}function AQ(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===o0&&t.documentElement.namespaceURI===o0?t.createElement(e):t.createElementNS(n,e)}}function IQ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a0(e){var t=Fs(e);return(t.local?IQ:AQ)(t)}function kQ(){}function La(e){return e==null?kQ:function(){return this.querySelector(e)}}function NO(e){typeof e!="function"&&(e=La(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ft(i,this._parents)}function cS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function MQ(){return[]}function Jd(e){return e==null?MQ:function(){return this.querySelectorAll(e)}}function RQ(e){return function(){return cS(e.apply(this,arguments))}}function FO(e){typeof e=="function"?e=RQ(e):e=Jd(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(e.call(l,l.__data__,c,o)),r.push(l));return new Ft(i,r)}function eh(e){return function(){return this.matches(e)}}function l0(e){return function(t){return t.matches(e)}}var LQ=Array.prototype.find;function NQ(e){return function(){return LQ.call(this.children,e)}}function FQ(){return this.firstElementChild}function OO(e){return this.select(e==null?FQ:NQ(typeof e=="function"?e:l0(e)))}var OQ=Array.prototype.filter;function PQ(){return Array.from(this.children)}function VQ(e){return function(){return OQ.call(this.children,e)}}function PO(e){return this.selectAll(e==null?PQ:VQ(typeof e=="function"?e:l0(e)))}function VO(e){typeof e!="function"&&(e=eh(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Ft(i,this._parents)}function c0(e){return new Array(e.length)}function BO(){return new Ft(this._enter||this._groups.map(c0),this._parents)}function th(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}th.prototype={constructor:th,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jO(e){return function(){return e}}function BQ(e,t,n,i,r,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):n[o]=new th(e,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function jQ(e,t,n,i,r,s,o){var a,l,c=new Map,u=t.length,d=s.length,h=new Array(u),f;for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(e,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):n[a]=new th(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function HQ(e){return e.__data__}function HO(e,t){if(!arguments.length)return Array.from(this,HQ);var n=t?jQ:BQ,i=this._parents,r=this._groups;typeof e!="function"&&(e=jO(e));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=UQ(e.call(u,u&&u.__data__,c,i)),v=f.length,b=a[c]=new Array(v),x=o[c]=new Array(v),w=l[c]=new Array(h);n(u,d,b,x,w,f,t);for(var A=0,T=0,k,P;A<v;++A)if(k=b[A]){for(A>=T&&(T=A+1);!(P=x[T])&&++T<v;);k._next=P||null}}return o=new Ft(o,i),o._enter=a,o._exit=l,o}function UQ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UO(){return new Ft(this._exit||this._groups.map(c0),this._parents)}function $O(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function zO(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=n[l],u=i[l],d=c.length,h=a[l]=new Array(d),f,v=0;v<d;++v)(f=c[v]||u[v])&&(h[v]=f);for(;l<r;++l)a[l]=n[l];return new Ft(a,this._parents)}function GO(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function WO(e){e||(e=$Q);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o=n[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ft(r,this._parents).order()}function $Q(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qO(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function YO(){return Array.from(this)}function XO(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function QO(){let e=0;for(let t of this)++e;return e}function ZO(){return!this.node()}function KO(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,o=r.length,a;s<o;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function zQ(e){return function(){this.removeAttribute(e)}}function GQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WQ(e,t){return function(){this.setAttribute(e,t)}}function qQ(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function YQ(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function XQ(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function JO(e,t){var n=Fs(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?GQ:zQ:typeof t=="function"?n.local?XQ:YQ:n.local?qQ:WQ)(n,t))}function u0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QQ(e){return function(){this.style.removeProperty(e)}}function ZQ(e,t,n){return function(){this.style.setProperty(e,t,n)}}function KQ(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function e2(e,t,n){return arguments.length>1?this.each((t==null?QQ:typeof t=="function"?KQ:ZQ)(e,t,n??"")):bo(this.node(),e)}function bo(e,t){return e.style.getPropertyValue(t)||u0(e).getComputedStyle(e,null).getPropertyValue(t)}function JQ(e){return function(){delete this[e]}}function eZ(e,t){return function(){this[e]=t}}function tZ(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function t2(e,t){return arguments.length>1?this.each((t==null?JQ:typeof t=="function"?tZ:eZ)(e,t)):this.node()[e]}function n2(e){return e.trim().split(/^|\s+/)}function uS(e){return e.classList||new i2(e)}function i2(e){this._node=e,this._names=n2(e.getAttribute("class")||"")}i2.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function r2(e,t){for(var n=uS(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function s2(e,t){for(var n=uS(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function nZ(e){return function(){r2(this,e)}}function iZ(e){return function(){s2(this,e)}}function rZ(e,t){return function(){(t.apply(this,arguments)?r2:s2)(this,e)}}function o2(e,t){var n=n2(e+"");if(arguments.length<2){for(var i=uS(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?rZ:t?nZ:iZ)(n,t))}function sZ(){this.textContent=""}function oZ(e){return function(){this.textContent=e}}function aZ(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function a2(e){return arguments.length?this.each(e==null?sZ:(typeof e=="function"?aZ:oZ)(e)):this.node().textContent}function lZ(){this.innerHTML=""}function cZ(e){return function(){this.innerHTML=e}}function uZ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function l2(e){return arguments.length?this.each(e==null?lZ:(typeof e=="function"?uZ:cZ)(e)):this.node().innerHTML}function dZ(){this.nextSibling&&this.parentNode.appendChild(this)}function c2(){return this.each(dZ)}function hZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function u2(){return this.each(hZ)}function d2(e){var t=typeof e=="function"?e:a0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fZ(){return null}function h2(e,t){var n=typeof e=="function"?e:a0(e),i=t==null?fZ:typeof t=="function"?t:La(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function pZ(){var e=this.parentNode;e&&e.removeChild(this)}function f2(){return this.each(pZ)}function mZ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gZ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function p2(e){return this.select(e?gZ:mZ)}function m2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vZ(e){return function(t){e.call(this,t,this.__data__)}}function yZ(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function _Z(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function xZ(e,t,n){return function(){var i=this.__on,r,s=vZ(t);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function g2(e,t,n){var i=yZ(e+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?xZ:_Z,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function v2(e,t,n){var i=u0(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function bZ(e,t){return function(){return v2(this,e,t)}}function CZ(e,t){return function(){return v2(this,e,t.apply(this,arguments))}}function y2(e,t){return this.each((typeof t=="function"?CZ:bZ)(e,t))}function*_2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var dS=[null];function Ft(e,t){this._groups=e,this._parents=t}function x2(){return new Ft([[document.documentElement]],dS)}function wZ(){return this}Ft.prototype=x2.prototype={constructor:Ft,select:NO,selectAll:FO,selectChild:OO,selectChildren:PO,filter:VO,data:HO,enter:BO,exit:UO,join:$O,merge:zO,selection:wZ,order:GO,sort:WO,call:qO,nodes:YO,node:XO,size:QO,empty:ZO,each:KO,attr:JO,style:e2,property:t2,classed:o2,text:a2,html:l2,raise:c2,lower:u2,append:d2,insert:h2,remove:f2,clone:p2,datum:m2,on:g2,dispatch:y2,[Symbol.iterator]:_2};var Os=x2;function gn(e){return typeof e=="string"?new Ft([[document.querySelector(e)]],[document.documentElement]):new Ft([[e]],dS)}function b2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function d0(e,t){if(e=b2(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var SZ={value:()=>{}};function w2(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new h0(n)}function h0(e){this._=e}function TZ(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}h0.prototype=w2.prototype={constructor:h0,on:function(e,t){var n=this._,i=TZ(e+"",n),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(e=i[s]).type)&&(r=DZ(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(e=i[s]).type)n[r]=C2(n[r],e.name,t);else if(t==null)for(r in n)n[r]=C2(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new h0(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function DZ(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function C2(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=SZ,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var nh=w2;var f0={capture:!0,passive:!1};function p0(e){e.preventDefault(),e.stopImmediatePropagation()}function hS(e){var t=e.document.documentElement,n=gn(e).on("dragstart.drag",p0,f0);"onselectstart"in t?n.on("selectstart.drag",p0,f0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function fS(e,t){var n=e.document.documentElement,i=gn(e).on("dragstart.drag",null);t&&(i.on("click.drag",p0,f0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function m0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function pS(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function sh(){}var ih=.7,y0=1/ih,Ac="\\s*([+-]?\\d+)\\s*",rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EZ=/^#([0-9a-f]{3,8})$/,AZ=new RegExp(`^rgb\\(${Ac},${Ac},${Ac}\\)$`),IZ=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),kZ=new RegExp(`^rgba\\(${Ac},${Ac},${Ac},${rh}\\)$`),MZ=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${rh}\\)$`),RZ=new RegExp(`^hsl\\(${rh},${Gr},${Gr}\\)$`),LZ=new RegExp(`^hsla\\(${rh},${Gr},${Gr},${rh}\\)$`),S2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m0(sh,yr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:T2,formatHex:T2,formatHex8:NZ,formatHsl:FZ,formatRgb:D2,toString:D2});function T2(){return this.rgb().formatHex()}function NZ(){return this.rgb().formatHex8()}function FZ(){return R2(this).formatHsl()}function D2(){return this.rgb().formatRgb()}function yr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=EZ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?E2(t):n===3?new ti(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?g0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?g0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=AZ.exec(e))?new ti(t[1],t[2],t[3],1):(t=IZ.exec(e))?new ti(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kZ.exec(e))?g0(t[1],t[2],t[3],t[4]):(t=MZ.exec(e))?g0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RZ.exec(e))?k2(t[1],t[2]/100,t[3]/100,1):(t=LZ.exec(e))?k2(t[1],t[2]/100,t[3]/100,t[4]):S2.hasOwnProperty(e)?E2(S2[e]):e==="transparent"?new ti(NaN,NaN,NaN,0):null}function E2(e){return new ti(e>>16&255,e>>8&255,e&255,1)}function g0(e,t,n,i){return i<=0&&(e=t=n=NaN),new ti(e,t,n,i)}function OZ(e){return e instanceof sh||(e=yr(e)),e?(e=e.rgb(),new ti(e.r,e.g,e.b,e.opacity)):new ti}function Ic(e,t,n,i){return arguments.length===1?OZ(e):new ti(e,t,n,i??1)}function ti(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}m0(ti,Ic,pS(sh,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new ti(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ih:Math.pow(ih,e),new ti(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ti(Fa(this.r),Fa(this.g),Fa(this.b),_0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A2,formatHex:A2,formatHex8:PZ,formatRgb:I2,toString:I2}));function A2(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}`}function PZ(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}${Na((isNaN(this.opacity)?1:this.opacity)*255)}`}function I2(){let e=_0(this.opacity);return`${e===1?"rgb(":"rgba("}${Fa(this.r)}, ${Fa(this.g)}, ${Fa(this.b)}${e===1?")":`, ${e})`}`}function _0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Na(e){return e=Fa(e),(e<16?"0":"")+e.toString(16)}function k2(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vr(e,t,n,i)}function R2(e){if(e instanceof vr)return new vr(e.h,e.s,e.l,e.opacity);if(e instanceof sh||(e=yr(e)),!e)return new vr;if(e instanceof vr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,a=s-r,l=(s+r)/2;return a?(t===s?o=(n-i)/a+(n<i)*6:n===s?o=(i-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new vr(o,a,l,e.opacity)}function L2(e,t,n,i){return arguments.length===1?R2(e):new vr(e,t,n,i??1)}function vr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}m0(vr,L2,pS(sh,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new vr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ih:Math.pow(ih,e),new vr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ti(mS(e>=240?e-240:e+120,r,i),mS(e,r,i),mS(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new vr(M2(this.h),v0(this.s),v0(this.l),_0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=_0(this.opacity);return`${e===1?"hsl(":"hsla("}${M2(this.h)}, ${v0(this.s)*100}%, ${v0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function M2(e){return e=(e||0)%360,e<0?e+360:e}function v0(e){return Math.max(0,Math.min(1,e||0))}function mS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function gS(e,t,n,i,r){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*i+o*r)/6}function N2(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],s=e[i+1],o=i>0?e[i-1]:2*r-s,a=i<t-1?e[i+2]:2*s-r;return gS((n-i/t)*t,o,r,s,a)}}function F2(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],s=e[i%t],o=e[(i+1)%t],a=e[(i+2)%t];return gS((n-i/t)*t,r,s,o,a)}}var oh=e=>()=>e;function VZ(e,t){return function(n){return e+n*t}}function BZ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function O2(e){return(e=+e)==1?x0:function(t,n){return n-t?BZ(t,n,e):oh(isNaN(t)?n:t)}}function x0(e,t){var n=t-e;return n?VZ(e,n):oh(isNaN(e)?t:e)}var Oa=function e(t){var n=O2(t);function i(r,s){var o=n((r=Ic(r)).r,(s=Ic(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),c=x0(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=e,i}(1);function P2(e){return function(t){var n=t.length,i=new Array(n),r=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=Ic(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=e(i),r=e(r),s=e(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var jZ=P2(N2),HZ=P2(F2);function V2(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function B2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j2(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),o;for(o=0;o<i;++o)r[o]=Ps(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function H2(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function vn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function U2(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Ps(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var yS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vS=new RegExp(yS.source,"g");function UZ(e){return function(){return e}}function $Z(e){return function(t){return e(t)+""}}function ah(e,t){var n=yS.lastIndex=vS.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(i=yS.exec(e))&&(r=vS.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:vn(i,r)})),n=vS.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?$Z(l[0].x):UZ(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Ps(e,t){var n=typeof t,i;return t==null||n==="boolean"?oh(t):(n==="number"?vn:n==="string"?(i=yr(t))?(t=i,Oa):ah:t instanceof yr?Oa:t instanceof Date?H2:B2(t)?V2:Array.isArray(t)?j2:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U2:vn)(e,t)}function _S(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var $2=180/Math.PI,b0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xS(e,t,n,i,r,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*$2,skewX:Math.atan(l)*$2,scaleX:o,scaleY:a}}var C0;function z2(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?b0:xS(t.a,t.b,t.c,t.d,t.e,t.f)}function G2(e){return e==null?b0:(C0||(C0=document.createElementNS("http://www.w3.org/2000/svg","g")),C0.setAttribute("transform",e),(e=C0.transform.baseVal.consolidate())?(e=e.matrix,xS(e.a,e.b,e.c,e.d,e.e,e.f)):b0)}function W2(e,t,n,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,d,h,f,v){if(c!==d||u!==h){var b=f.push("translate(",null,t,null,n);v.push({i:b-4,x:vn(c,d)},{i:b-2,x:vn(u,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:vn(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:vn(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}function l(c,u,d,h,f,v){if(c!==d||u!==h){var b=f.push(r(f)+"scale(",null,",",null,")");v.push({i:b-4,x:vn(c,d)},{i:b-2,x:vn(u,h)})}else(d!==1||h!==1)&&f.push(r(f)+"scale("+d+","+h+")")}return function(c,u){var d=[],h=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,h),o(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var v=-1,b=h.length,x;++v<b;)d[(x=h[v]).i]=x.x(f);return d.join("")}}}var bS=W2(z2,"px, ","px)","deg)"),CS=W2(G2,", ",")",")");var kc=0,ch=0,lh=0,Y2=1e3,w0,uh,S0=0,Pa=0,T0=0,dh=typeof performance=="object"&&performance.now?performance:Date,X2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fh(){return Pa||(X2(zZ),Pa=dh.now()+T0)}function zZ(){Pa=0}function hh(){this._call=this._time=this._next=null}hh.prototype=D0.prototype={constructor:hh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fh():+n)+(t==null?0:+t),!this._next&&uh!==this&&(uh?uh._next=this:w0=this,uh=this),this._call=e,this._time=n,wS()},stop:function(){this._call&&(this._call=null,this._time=1/0,wS())}};function D0(e,t,n){var i=new hh;return i.restart(e,t,n),i}function Q2(){fh(),++kc;for(var e=w0,t;e;)(t=Pa-e._time)>=0&&e._call.call(void 0,t),e=e._next;--kc}function q2(){Pa=(S0=dh.now())+T0,kc=ch=0;try{Q2()}finally{kc=0,WZ(),Pa=0}}function GZ(){var e=dh.now(),t=e-S0;t>Y2&&(T0-=t,S0=e)}function WZ(){for(var e,t=w0,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:w0=n);uh=e,wS(i)}function wS(e){if(!kc){ch&&(ch=clearTimeout(ch));var t=e-Pa;t>24?(e<1/0&&(ch=setTimeout(q2,e-dh.now()-T0)),lh&&(lh=clearInterval(lh))):(lh||(S0=dh.now(),lh=setInterval(GZ,Y2)),kc=1,X2(q2))}}function E0(e,t,n){var i=new hh;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var qZ=nh("start","end","cancel","interrupt"),YZ=[],J2=0,Z2=1,I0=2,A0=3,K2=4,k0=5,ph=6;function Co(e,t,n,i,r,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;XZ(e,n,{name:t,index:i,group:r,on:qZ,tween:YZ,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:J2})}function mh(e,t){var n=Kt(e,t);if(n.state>J2)throw new Error("too late; already scheduled");return n}function yn(e,t){var n=Kt(e,t);if(n.state>A0)throw new Error("too late; already running");return n}function Kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function XZ(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=D0(s,0,n.time);function s(c){n.state=Z2,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,h,f;if(n.state!==Z2)return l();for(u in i)if(f=i[u],f.name===n.name){if(f.state===A0)return E0(o);f.state===K2?(f.state=ph,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=ph,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(E0(function(){n.state===A0&&(n.state=K2,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=I0,n.on.call("start",e,e.__data__,n.index,n.group),n.state===I0){for(n.state=A0,r=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=k0,1),d=-1,h=r.length;++d<h;)r[d].call(e,u);n.state===k0&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ph,n.timer.stop(),delete i[t];for(var c in i)return;delete e.__transition}}function Mc(e,t){var n=e.__transition,i,r,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((i=n[o]).name!==t){s=!1;continue}r=i.state>I0&&i.state<k0,i.state=ph,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[o]}s&&delete e.__transition}}function eP(e){return this.each(function(){Mc(this,e)})}function QZ(e,t){var n,i;return function(){var r=yn(this,e),s=r.tween;if(s!==n){i=n=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===t){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function ZZ(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=yn(this,e),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function tP(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Kt(this.node(),n).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===e)return o.value;return null}return this.each((t==null?QZ:ZZ)(n,e,t))}function Rc(e,t,n){var i=e._id;return e.each(function(){var r=yn(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Kt(r,i).value[t]}}function M0(e,t){var n;return(typeof t=="number"?vn:t instanceof yr?Oa:(n=yr(t))?(t=n,Oa):ah)(e,t)}function KZ(e){return function(){this.removeAttribute(e)}}function JZ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eK(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttribute(e);return o===r?null:o===i?s:s=t(i=o,n)}}function tK(e,t,n){var i,r=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===i?s:s=t(i=o,n)}}function nK(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)))}}function iK(e,t,n){var i,r,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a)))}}function nP(e,t){var n=Fs(e),i=n==="transform"?CS:M0;return this.attrTween(e,typeof t=="function"?(n.local?iK:nK)(n,i,Rc(this,"attr."+e,t)):t==null?(n.local?JZ:KZ)(n):(n.local?tK:eK)(n,i,t))}function rK(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sK(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function oK(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&sK(e,s)),n}return r._value=t,r}function aK(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&rK(e,s)),n}return r._value=t,r}function iP(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Fs(e);return this.tween(n,(i.local?oK:aK)(i,t))}function lK(e,t){return function(){mh(this,e).delay=+t.apply(this,arguments)}}function cK(e,t){return t=+t,function(){mh(this,e).delay=t}}function rP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lK:cK)(t,e)):Kt(this.node(),t).delay}function uK(e,t){return function(){yn(this,e).duration=+t.apply(this,arguments)}}function dK(e,t){return t=+t,function(){yn(this,e).duration=t}}function sP(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uK:dK)(t,e)):Kt(this.node(),t).duration}function hK(e,t){if(typeof t!="function")throw new Error;return function(){yn(this,e).ease=t}}function oP(e){var t=this._id;return arguments.length?this.each(hK(t,e)):Kt(this.node(),t).ease}function fK(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;yn(this,e).ease=n}}function aP(e){if(typeof e!="function")throw new Error;return this.each(fK(this._id,e))}function lP(e){typeof e!="function"&&(e=eh(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new jn(i,this._parents,this._name,this._id)}function cP(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),h,f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new jn(o,this._parents,this._name,this._id)}function pK(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function mK(e,t,n){var i,r,s=pK(t)?mh:yn;return function(){var o=s(this,e),a=o.on;a!==i&&(r=(i=a).copy()).on(t,n),o.on=r}}function uP(e,t){var n=this._id;return arguments.length<2?Kt(this.node(),n).on.on(e):this.each(mK(n,e,t))}function gK(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function dP(){return this.on("end.remove",gK(this._id))}function hP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=La(e));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=e.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Co(c[h],t,n,h,c,Kt(u,n)));return new jn(s,this._parents,t,n)}function fP(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jd(e));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=e.call(u,u.__data__,d,l),f,v=Kt(u,n),b=0,x=h.length;b<x;++b)(f=h[b])&&Co(f,t,n,b,h,v);s.push(h),o.push(u)}return new jn(s,o,t,n)}var vK=Os.prototype.constructor;function pP(){return new vK(this._groups,this._parents)}function yK(e,t){var n,i,r;return function(){var s=bo(this,e),o=(this.style.removeProperty(e),bo(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o)}}function mP(e){return function(){this.style.removeProperty(e)}}function _K(e,t,n){var i,r=n+"",s;return function(){var o=bo(this,e);return o===r?null:o===i?s:s=t(i=o,n)}}function xK(e,t,n){var i,r,s;return function(){var o=bo(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),bo(this,e))),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function bK(e,t){var n,i,r,s="style."+t,o="end."+s,a;return function(){var l=yn(this,e),c=l.on,u=l.value[s]==null?a||(a=mP(t)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(o,r=u),l.on=i}}function gP(e,t,n){var i=(e+="")=="transform"?bS:M0;return t==null?this.styleTween(e,yK(e,i)).on("end.style."+e,mP(e)):typeof t=="function"?this.styleTween(e,xK(e,i,Rc(this,"style."+e,t))).each(bK(this._id,e)):this.styleTween(e,_K(e,i,t),n).on("end.style."+e,null)}function CK(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function wK(e,t,n){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&CK(e,o,n)),i}return s._value=t,s}function vP(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,wK(e,t,n??""))}function SK(e){return function(){this.textContent=e}}function TK(e){return function(){var t=e(this);this.textContent=t??""}}function yP(e){return this.tween("text",typeof e=="function"?TK(Rc(this,"text",e)):SK(e==null?"":e+""))}function DK(e){return function(t){this.textContent=e.call(this,t)}}function EK(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&DK(r)),t}return i._value=e,i}function _P(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,EK(e))}function xP(){for(var e=this._name,t=this._id,n=R0(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Kt(l,t);Co(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jn(i,this._parents,e,n)}function bP(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};n.each(function(){var c=yn(this,i),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),r===0&&s()})}var AK=0;function jn(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function CP(e){return Os().transition(e)}function R0(){return++AK}var Vs=Os.prototype;jn.prototype=CP.prototype={constructor:jn,select:hP,selectAll:fP,selectChild:Vs.selectChild,selectChildren:Vs.selectChildren,filter:lP,merge:cP,selection:pP,transition:xP,call:Vs.call,nodes:Vs.nodes,node:Vs.node,size:Vs.size,empty:Vs.empty,each:Vs.each,on:uP,attr:nP,attrTween:iP,style:gP,styleTween:vP,text:yP,textTween:_P,remove:dP,tween:tP,delay:rP,duration:sP,ease:oP,easeVarying:aP,end:bP,[Symbol.iterator]:Vs[Symbol.iterator]};function L0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var IK={time:null,delay:0,duration:250,ease:L0};function kK(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wP(e){var t,n;e instanceof jn?(t=e._id,e=e._name):(t=R0(),(n=IK).time=fh(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Co(l,e,t,c,o,n||kK(l,t));return new jn(i,this._parents,e,t)}Os.prototype.interrupt=eP;Os.prototype.transition=wP;var N0=e=>()=>e;function SS(e,{sourceEvent:t,target:n,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function SP(e){e.stopImmediatePropagation()}function F0(e){e.preventDefault(),e.stopImmediatePropagation()}var TP={name:"drag"},TS={name:"space"},Lc={name:"handle"},Nc={name:"center"},{abs:DP,max:En,min:An}=Math;function EP(e){return[+e[0],+e[1]]}function AS(e){return[EP(e[0]),EP(e[1])]}var O0={name:"x",handles:["w","e"].map(gh),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},DS={name:"y",handles:["n","s"].map(gh),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},GTe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(gh),input:function(e){return e==null?null:AS(e)},output:function(e){return e}},Bs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},AP={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},IP={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},MK={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},RK={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function gh(e){return{type:e}}function LK(e){return!e.ctrlKey&&!e.button}function NK(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function FK(){return navigator.maxTouchPoints||"ontouchstart"in this}function ES(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function OK(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function IS(){return PK(O0)}function PK(e){var t=NK,n=LK,i=FK,r=!0,s=nh("start","brush","end"),o=6,a;function l(x){var w=x.property("__brush",b).selectAll(".overlay").data([gh("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Bs.overlay).merge(w).each(function(){var T=ES(this).extent;gn(this).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1])}),x.selectAll(".selection").data([gh("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Bs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var A=x.selectAll(".handle").data(e.handles,function(T){return T.type});A.exit().remove(),A.enter().append("rect").attr("class",function(T){return"handle handle--"+T.type}).attr("cursor",function(T){return Bs[T.type]}),x.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(x,w,A){x.tween?x.on("start.brush",function(T){u(this,arguments).beforestart().start(T)}).on("interrupt.brush end.brush",function(T){u(this,arguments).end(T)}).tween("brush",function(){var T=this,k=T.__brush,P=u(T,arguments),M=k.selection,Y=e.input(typeof w=="function"?w.apply(this,arguments):w,k.extent),G=Ps(M,Y);function He(be){k.selection=be===1&&Y===null?null:G(be),c.call(T),P.brush()}return M!==null&&Y!==null?He:He(1)}):x.each(function(){var T=this,k=arguments,P=T.__brush,M=e.input(typeof w=="function"?w.apply(T,k):w,P.extent),Y=u(T,k).beforestart();Mc(T),P.selection=M===null?null:M,c.call(T),Y.start(A).brush(A).end(A)})},l.clear=function(x,w){l.move(x,null,w)};function c(){var x=gn(this),w=ES(this).selection;w?(x.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),x.selectAll(".handle").style("display",null).attr("x",function(A){return A.type[A.type.length-1]==="e"?w[1][0]-o/2:w[0][0]-o/2}).attr("y",function(A){return A.type[0]==="s"?w[1][1]-o/2:w[0][1]-o/2}).attr("width",function(A){return A.type==="n"||A.type==="s"?w[1][0]-w[0][0]+o:o}).attr("height",function(A){return A.type==="e"||A.type==="w"?w[1][1]-w[0][1]+o:o})):x.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(x,w,A){var T=x.__brush.emitter;return T&&(!A||!T.clean)?T:new d(x,w,A)}function d(x,w,A){this.that=x,this.args=w,this.state=x.__brush,this.active=0,this.clean=A}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(x,w){return this.starting?(this.starting=!1,this.emit("start",x,w)):this.emit("brush",x),this},brush:function(x,w){return this.emit("brush",x,w),this},end:function(x,w){return--this.active===0&&(delete this.state.emitter,this.emit("end",x,w)),this},emit:function(x,w,A){var T=gn(this.that).datum();s.call(x,this.that,new SS(x,{sourceEvent:w,target:l,selection:e.output(this.state.selection),mode:A,dispatch:s}),T)}};function h(x){if(a&&!x.touches||!n.apply(this,arguments))return;var w=this,A=x.target.__data__.type,T=(r&&x.metaKey?A="overlay":A)==="selection"?TP:r&&x.altKey?Nc:Lc,k=e===DS?null:MK[A],P=e===O0?null:RK[A],M=ES(w),Y=M.extent,G=M.selection,He=Y[0][0],be,se,pt=Y[0][1],Fe,dt,Cn=Y[1][0],$,W,Q=Y[1][1],Z,Ae,Ze=0,Ve=0,Hn,lt=k&&P&&r&&x.shiftKey,ss,qs,ze=Array.from(x.touches||[x],he=>{let Et=he.identifier;return he=d0(he,w),he.point0=he.slice(),he.identifier=Et,he});Mc(w);var Mn=u(w,arguments,!0).beforestart();if(A==="overlay"){G&&(Hn=!0);let he=[ze[0],ze[1]||ze[0]];M.selection=G=[[be=e===DS?He:An(he[0][0],he[1][0]),Fe=e===O0?pt:An(he[0][1],he[1][1])],[$=e===DS?Cn:En(he[0][0],he[1][0]),Z=e===O0?Q:En(he[0][1],he[1][1])]],ze.length>1&&Dt(x)}else be=G[0][0],Fe=G[0][1],$=G[1][0],Z=G[1][1];se=be,dt=Fe,W=$,Ae=Z;var q=gn(w).attr("pointer-events","none"),pe=q.selectAll(".overlay").attr("cursor",Bs[A]);if(x.touches)Mn.moved=B,Mn.ended=ht;else{var Se=gn(x.view).on("mousemove.brush",B,!0).on("mouseup.brush",ht,!0);r&&Se.on("keydown.brush",Rn,!0).on("keyup.brush",Ln,!0),hS(x.view)}c.call(w),Mn.start(x,T.name);function B(he){for(let Et of he.changedTouches||[he])for(let vu of ze)vu.identifier===Et.identifier&&(vu.cur=d0(Et,w));if(lt&&!ss&&!qs&&ze.length===1){let Et=ze[0];DP(Et.cur[0]-Et[0])>DP(Et.cur[1]-Et[1])?qs=!0:ss=!0}for(let Et of ze)Et.cur&&(Et[0]=Et.cur[0],Et[1]=Et.cur[1]);Hn=!0,F0(he),Dt(he)}function Dt(he){let Et=ze[0],vu=Et.point0;var Ys;switch(Ze=Et[0]-vu[0],Ve=Et[1]-vu[1],T){case TS:case TP:{k&&(Ze=En(He-be,An(Cn-$,Ze)),se=be+Ze,W=$+Ze),P&&(Ve=En(pt-Fe,An(Q-Z,Ve)),dt=Fe+Ve,Ae=Z+Ve);break}case Lc:{ze[1]?(k&&(se=En(He,An(Cn,ze[0][0])),W=En(He,An(Cn,ze[1][0])),k=1),P&&(dt=En(pt,An(Q,ze[0][1])),Ae=En(pt,An(Q,ze[1][1])),P=1)):(k<0?(Ze=En(He-be,An(Cn-be,Ze)),se=be+Ze,W=$):k>0&&(Ze=En(He-$,An(Cn-$,Ze)),se=be,W=$+Ze),P<0?(Ve=En(pt-Fe,An(Q-Fe,Ve)),dt=Fe+Ve,Ae=Z):P>0&&(Ve=En(pt-Z,An(Q-Z,Ve)),dt=Fe,Ae=Z+Ve));break}case Nc:{k&&(se=En(He,An(Cn,be-Ze*k)),W=En(He,An(Cn,$+Ze*k))),P&&(dt=En(pt,An(Q,Fe-Ve*P)),Ae=En(pt,An(Q,Z+Ve*P)));break}}W<se&&(k*=-1,Ys=be,be=$,$=Ys,Ys=se,se=W,W=Ys,A in AP&&pe.attr("cursor",Bs[A=AP[A]])),Ae<dt&&(P*=-1,Ys=Fe,Fe=Z,Z=Ys,Ys=dt,dt=Ae,Ae=Ys,A in IP&&pe.attr("cursor",Bs[A=IP[A]])),M.selection&&(G=M.selection),ss&&(se=G[0][0],W=G[1][0]),qs&&(dt=G[0][1],Ae=G[1][1]),(G[0][0]!==se||G[0][1]!==dt||G[1][0]!==W||G[1][1]!==Ae)&&(M.selection=[[se,dt],[W,Ae]],c.call(w),Mn.brush(he,T.name))}function ht(he){if(SP(he),he.touches){if(he.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else fS(he.view,Hn),Se.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);q.attr("pointer-events","all"),pe.attr("cursor",Bs.overlay),M.selection&&(G=M.selection),OK(G)&&(M.selection=null,c.call(w)),Mn.end(he,T.name)}function Rn(he){switch(he.keyCode){case 16:{lt=k&&P;break}case 18:{T===Lc&&(k&&($=W-Ze*k,be=se+Ze*k),P&&(Z=Ae-Ve*P,Fe=dt+Ve*P),T=Nc,Dt(he));break}case 32:{(T===Lc||T===Nc)&&(k<0?$=W-Ze:k>0&&(be=se-Ze),P<0?Z=Ae-Ve:P>0&&(Fe=dt-Ve),T=TS,pe.attr("cursor",Bs.selection),Dt(he));break}default:return}F0(he)}function Ln(he){switch(he.keyCode){case 16:{lt&&(ss=qs=lt=!1,Dt(he));break}case 18:{T===Nc&&(k<0?$=W:k>0&&(be=se),P<0?Z=Ae:P>0&&(Fe=dt),T=Lc,Dt(he));break}case 32:{T===TS&&(he.altKey?(k&&($=W-Ze*k,be=se+Ze*k),P&&(Z=Ae-Ve*P,Fe=dt+Ve*P),T=Nc):(k<0?$=W:k>0&&(be=se),P<0?Z=Ae:P>0&&(Fe=dt),T=Lc),pe.attr("cursor",Bs[A]),Dt(he));break}default:return}F0(he)}}function f(x){u(this,arguments).moved(x)}function v(x){u(this,arguments).ended(x)}function b(){var x=this.__brush||{selection:null};return x.extent=AS(t.apply(this,arguments)),x.dim=e,x}return l.extent=function(x){return arguments.length?(t=typeof x=="function"?x:N0(AS(x)),l):t},l.filter=function(x){return arguments.length?(n=typeof x=="function"?x:N0(!!x),l):n},l.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:N0(!!x),l):i},l.handleSize=function(x){return arguments.length?(o=+x,l):o},l.keyModifiers=function(x){return arguments.length?(r=!!x,l):r},l.on=function(){var x=s.on.apply(s,arguments);return x===s?l:x},l}function Wr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kS(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Va(e){let t,n,i;e.length!==2?(t=Wr,n=(a,l)=>Wr(e(a),l),i=(a,l)=>e(a)-l):(t=e===Wr||e===kS?e:VK,n=e,i=e);function r(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){let d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d}return{left:r,center:o,right:s}}function VK(){return 0}function vh(e){return e===null?NaN:+e}var kP=Va(Wr),MP=kP.right,BK=kP.left,jK=Va(vh).center,yh=MP;var Fc=class extends Map{constructor(t,n=$K){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[i,r]of t)this.set(i,r)}get(t){return super.get(RP(this,t))}has(t){return super.has(RP(this,t))}set(t,n){return super.set(HK(this,t),n)}delete(t){return super.delete(UK(this,t))}};function RP({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):n}function HK({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function UK({_intern:e,_key:t},n){let i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function $K(e){return e!==null&&typeof e=="object"?e.valueOf():e}var zK=Math.sqrt(50),GK=Math.sqrt(10),WK=Math.sqrt(2);function P0(e,t,n){let i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=zK?10:s>=GK?5:s>=WK?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?P0(e,t,n*2):[a,l,c]}function V0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let i=t<e,[r,s,o]=i?P0(t,e,n):P0(e,t,n);if(!(s>=r))return[];let a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function _h(e,t,n){return t=+t,e=+e,n=+n,P0(e,t,n)[2]}function Oc(e,t,n){t=+t,e=+e,n=+n;let i=t<e,r=i?_h(t,e,n):_h(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function MS(e,t,n=vh){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,s=Math.floor(r),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(r-s)}}function Pc(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(r);++i<r;)s[i]=e+i*n;return s}function qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var RS=Symbol("implicit");function Ba(){var e=new Fc,t=[],n=[],i=RS;function r(s){let o=e.get(s);if(o===void 0){if(i!==RS)return i;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Fc;for(let o of s)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Ba(t,n).unknown(i)},qr.apply(r,arguments),r}function ja(){var e=Ba().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,f=r<i,v=f?r:i,b=f?i:r;s=(b-v)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),v+=(b-v-s*(h-l))*u,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var x=Pc(h).map(function(w){return v+s*w});return n(f?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,d()):[i,r]},e.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(a=!!h,d()):a},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return ja(t(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},qr.apply(d(),arguments)}function LP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LP(t())},e}function B0(){return LP(ja.apply(null,arguments).paddingInner(1))}function LS(e){return function(){return e}}function NS(e){return+e}var NP=[0,1];function Vc(e){return e}function FS(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:LS(isNaN(t)?NaN:.5)}function YK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function XK(e,t,n){var i=e[0],r=e[1],s=t[0],o=t[1];return r<i?(i=FS(r,i),s=n(o,s)):(i=FS(i,r),s=n(s,o)),function(a){return s(i(a))}}function QK(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=FS(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=yh(e,a,1,i)-1;return s[l](r[l](a))}}function j0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ZK(){var e=NP,t=NP,n=Ps,i,r,s,o=Vc,a,l,c;function u(){var h=Math.min(e.length,t.length);return o!==Vc&&(o=YK(e[0],e[h-1])),a=h>2?QK:XK,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(e.map(i),t,n)))(i(o(h)))}return d.invert=function(h){return o(r((c||(c=a(t,e.map(i),vn)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,NS),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=_S,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Vc,u()):o!==Vc},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return i=h,r=f,u()}}function xh(){return ZK()(Vc,Vc)}function FP(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ha(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Yr(e){return e=Ha(Math.abs(e)),e?e[1]:NaN}function OP(e,t){return function(n,i){for(var r=n.length,s=[],o=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function PP(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var KK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wo(e){if(!(t=KK.exec(e)))throw new Error("invalid format: "+e);var t;return new H0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wo.prototype=H0.prototype;function H0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}H0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VP(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var OS;function BP(e,t){var n=Ha(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(OS=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Ha(e,Math.max(0,t+s-1))[0]}function PS(e,t){var n=Ha(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var VS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:FP,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PS(e*100,t),r:PS,s:BP,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BS(e){return e}var jP=Array.prototype.map,HP=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function UP(e){var t=e.grouping===void 0||e.thousands===void 0?BS:OP(jP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?BS:PP(jP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=wo(d);var h=d.fill,f=d.align,v=d.sign,b=d.symbol,x=d.zero,w=d.width,A=d.comma,T=d.precision,k=d.trim,P=d.type;P==="n"?(A=!0,P="g"):VS[P]||(T===void 0&&(T=12),k=!0,P="g"),(x||h==="0"&&f==="=")&&(x=!0,h="0",f="=");var M=b==="$"?n:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",Y=b==="$"?i:/[%p]/.test(P)?o:"",G=VS[P],He=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function be(se){var pt=M,Fe=Y,dt,Cn,$;if(P==="c")Fe=G(se)+Fe,se="";else{se=+se;var W=se<0||1/se<0;if(se=isNaN(se)?l:G(Math.abs(se),T),k&&(se=VP(se)),W&&+se==0&&v!=="+"&&(W=!1),pt=(W?v==="("?v:a:v==="-"||v==="("?"":v)+pt,Fe=(P==="s"?HP[8+OS/3]:"")+Fe+(W&&v==="("?")":""),He){for(dt=-1,Cn=se.length;++dt<Cn;)if($=se.charCodeAt(dt),48>$||$>57){Fe=($===46?r+se.slice(dt+1):se.slice(dt))+Fe,se=se.slice(0,dt);break}}}A&&!x&&(se=t(se,1/0));var Q=pt.length+se.length+Fe.length,Z=Q<w?new Array(w-Q+1).join(h):"";switch(A&&x&&(se=t(Z+se,Z.length?w-Fe.length:1/0),Z=""),f){case"<":se=pt+se+Fe+Z;break;case"=":se=pt+Z+se+Fe;break;case"^":se=Z.slice(0,Q=Z.length>>1)+pt+se+Fe+Z.slice(Q);break;default:se=Z+pt+se+Fe;break}return s(se)}return be.toString=function(){return d+""},be}function u(d,h){var f=c((d=wo(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Yr(h)/3)))*3,b=Math.pow(10,-v),x=HP[8+v/3];return function(w){return f(b*w)+x}}return{format:c,formatPrefix:u}}var U0,$0,z0;jS({thousands:",",grouping:[3],currency:["$",""]});function jS(e){return U0=UP(e),$0=U0.format,z0=U0.formatPrefix,U0}function HS(e){return Math.max(0,-Yr(Math.abs(e)))}function US(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yr(t)/3)))*3-Yr(Math.abs(e)))}function $S(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yr(t)-Yr(e))+1}function zS(e,t,n,i){var r=Oc(e,t,n),s;switch(i=wo(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=US(r,o))&&(i.precision=s),z0(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=$S(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=HS(r))&&(i.precision=s-(i.type==="%")*2);break}}return $0(i)}function JK(e){var t=e.domain;return e.ticks=function(n){var i=t();return V0(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return zS(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=_h(o,a,n),c===l)return i[r]=o,i[s]=a,t(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function _r(){var e=xh();return e.copy=function(){return j0(e,_r())},qr.apply(e,arguments),JK(e)}function GS(e,t){e=e.slice();var n=0,i=e.length-1,r=e[n],s=e[i],o;return s<r&&(o=n,n=i,i=o,o=r,r=s,s=o),e[n]=t.floor(r),e[i]=t.ceil(s),e}function bh(){var e=[],t=[],n=[],i;function r(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=MS(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:t[yh(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wr),r()},s.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return bh().domain(e).range(t).unknown(i)},qr.apply(s,arguments)}var WS=new Date,qS=new Date;function vt(e,t,n,i){function r(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(e(s=new Date(+s)),s),r.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),r.round=s=>{let o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),r.range=(s,o,a)=>{let l=[];if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},r.filter=s=>vt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(r.count=(s,o)=>(WS.setTime(+s),qS.setTime(+o),e(WS),e(qS),Math.floor(n(WS,qS))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?o=>i(o)%s===0:o=>r.count(0,o)%s===0):r)),r}var Ch=vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ch.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ch);var VEe=Ch.range;var Xr=vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),$P=Xr.range;var Bc=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),eJ=Bc.range,G0=vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),tJ=G0.range;var jc=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),nJ=jc.range,W0=vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),iJ=W0.range;var Hc=vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),rJ=Hc.range,zP=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),sJ=zP.range,q0=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),oJ=q0.range;function za(e){return vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var Ga=za(0),WP=za(1),qP=za(2),YP=za(3),XP=za(4),QP=za(5),ZP=za(6),KP=Ga.range,aJ=WP.range,lJ=qP.range,cJ=YP.range,uJ=XP.range,dJ=QP.range,hJ=ZP.range;function Wa(e){return vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var Sh=Wa(0),JP=Wa(1),eV=Wa(2),tV=Wa(3),nV=Wa(4),iV=Wa(5),rV=Wa(6),sV=Sh.range,fJ=JP.range,pJ=eV.range,mJ=tV.range,gJ=nV.range,vJ=iV.range,yJ=rV.range;var Uc=vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),_J=Uc.range,Y0=vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),xJ=Y0.range;var qa=vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});var bJ=qa.range,Th=vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Th.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});var CJ=Th.range;function aV(e,t,n,i,r,s){let o=[[Xr,1,1e3],[Xr,5,5*1e3],[Xr,15,15*1e3],[Xr,30,30*1e3],[s,1,6e4],[s,5,5*6e4],[s,15,15*6e4],[s,30,30*6e4],[r,1,36e5],[r,3,3*36e5],[r,6,6*36e5],[r,12,12*36e5],[i,1,864e5],[i,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function a(c,u,d){let h=u<c;h&&([c,u]=[u,c]);let f=d&&typeof d.range=="function"?d:l(c,u,d),v=f?f.range(c,+u+1):[];return h?v.reverse():v}function l(c,u,d){let h=Math.abs(u-c)/d,f=Va(([,,x])=>x).right(o,h);if(f===o.length)return e.every(Oc(c/31536e6,u/31536e6,d));if(f===0)return Ch.every(Math.max(Oc(c,u,d),1));let[v,b]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return v.every(b)}return[a,l]}var[SJ,TJ]=aV(Th,Y0,Sh,q0,W0,G0),[YS,XS]=aV(qa,Uc,Ga,Hc,jc,Bc);var QS=new Date,ZS=new Date;function In(e,t,n,i){function r(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=function(s){return e(s=new Date(+s)),s},r.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),o==null?1:Math.floor(o)),s},r.range=function(s,o,a){var l=[],c;if(s=r.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},r.filter=function(s){return In(function(o){if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},n&&(r.count=function(s,o){return QS.setTime(+s),ZS.setTime(+o),e(QS),e(ZS),Math.floor(n(QS,ZS))},r.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?function(o){return i(o)%s===0}:function(o){return r.count(0,o)%s===0}):r}),r}var lV=In(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),X0=lV,AJ=lV.range;function Ya(e){return In(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var Dh=Ya(0),$c=Ya(1),cV=Ya(2),uV=Ya(3),So=Ya(4),dV=Ya(5),hV=Ya(6),fV=Dh.range,kJ=$c.range,MJ=cV.range,RJ=uV.range,LJ=So.range,NJ=dV.range,FJ=hV.range;var KS=In(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});KS.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:In(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};var Xa=KS,OJ=KS.range;var pV=In(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),Q0=pV,PJ=pV.range;function Qa(e){return In(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/6048e5})}var Eh=Qa(0),zc=Qa(1),mV=Qa(2),gV=Qa(3),To=Qa(4),vV=Qa(5),yV=Qa(6),_V=Eh.range,VJ=zc.range,BJ=mV.range,jJ=gV.range,HJ=To.range,UJ=vV.range,$J=yV.range;var JS=In(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});JS.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:In(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};var Za=JS,zJ=JS.range;function eT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ah(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nT(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=Ih(r),u=kh(r),d=Ih(s),h=kh(s),f=Ih(o),v=kh(o),b=Ih(a),x=kh(a),w=Ih(l),A=kh(l),T={a:W,A:Q,b:Z,B:Ae,c:null,d:TV,e:TV,f:fee,g:wee,G:Tee,H:uee,I:dee,j:hee,L:kV,m:pee,M:mee,p:Ze,q:Ve,Q:AV,s:IV,S:gee,u:vee,U:yee,V:_ee,w:xee,W:bee,x:null,X:null,y:Cee,Y:See,Z:Dee,"%":EV},k={a:Hn,A:lt,b:ss,B:qs,c:null,d:DV,e:DV,f:kee,g:jee,G:Uee,H:Eee,I:Aee,j:Iee,L:RV,m:Mee,M:Ree,p:ze,q:Mn,Q:AV,s:IV,S:Lee,u:Nee,U:Fee,V:Oee,w:Pee,W:Vee,x:null,X:null,y:Bee,Y:Hee,Z:$ee,"%":EV},P={a:be,A:se,b:pt,B:Fe,c:dt,d:wV,e:wV,f:oee,g:CV,G:bV,H:SV,I:SV,j:nee,L:see,m:tee,M:iee,p:He,q:eee,Q:lee,s:cee,S:ree,u:XJ,U:QJ,V:ZJ,w:YJ,W:KJ,x:Cn,X:$,y:CV,Y:bV,Z:JJ,"%":aee};T.x=M(n,T),T.X=M(i,T),T.c=M(t,T),k.x=M(n,k),k.X=M(i,k),k.c=M(t,k);function M(q,pe){return function(Se){var B=[],Dt=-1,ht=0,Rn=q.length,Ln,he,Et;for(Se instanceof Date||(Se=new Date(+Se));++Dt<Rn;)q.charCodeAt(Dt)===37&&(B.push(q.slice(ht,Dt)),(he=xV[Ln=q.charAt(++Dt)])!=null?Ln=q.charAt(++Dt):he=Ln==="e"?" ":"0",(Et=pe[Ln])&&(Ln=Et(Se,he)),B.push(Ln),ht=Dt+1);return B.push(q.slice(ht,Dt)),B.join("")}}function Y(q,pe){return function(Se){var B=Ah(1900,void 0,1),Dt=G(B,q,Se+="",0),ht,Rn;if(Dt!=Se.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(pe&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ht=tT(Ah(B.y,0,1)),Rn=ht.getUTCDay(),ht=Rn>4||Rn===0?zc.ceil(ht):zc(ht),ht=Q0.offset(ht,(B.V-1)*7),B.y=ht.getUTCFullYear(),B.m=ht.getUTCMonth(),B.d=ht.getUTCDate()+(B.w+6)%7):(ht=eT(Ah(B.y,0,1)),Rn=ht.getDay(),ht=Rn>4||Rn===0?$c.ceil(ht):$c(ht),ht=X0.offset(ht,(B.V-1)*7),B.y=ht.getFullYear(),B.m=ht.getMonth(),B.d=ht.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),Rn="Z"in B?tT(Ah(B.y,0,1)).getUTCDay():eT(Ah(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(Rn+5)%7:B.w+B.U*7-(Rn+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,tT(B)):eT(B)}}function G(q,pe,Se,B){for(var Dt=0,ht=pe.length,Rn=Se.length,Ln,he;Dt<ht;){if(B>=Rn)return-1;if(Ln=pe.charCodeAt(Dt++),Ln===37){if(Ln=pe.charAt(Dt++),he=P[Ln in xV?pe.charAt(Dt++):Ln],!he||(B=he(q,Se,B))<0)return-1}else if(Ln!=Se.charCodeAt(B++))return-1}return B}function He(q,pe,Se){var B=c.exec(pe.slice(Se));return B?(q.p=u.get(B[0].toLowerCase()),Se+B[0].length):-1}function be(q,pe,Se){var B=f.exec(pe.slice(Se));return B?(q.w=v.get(B[0].toLowerCase()),Se+B[0].length):-1}function se(q,pe,Se){var B=d.exec(pe.slice(Se));return B?(q.w=h.get(B[0].toLowerCase()),Se+B[0].length):-1}function pt(q,pe,Se){var B=w.exec(pe.slice(Se));return B?(q.m=A.get(B[0].toLowerCase()),Se+B[0].length):-1}function Fe(q,pe,Se){var B=b.exec(pe.slice(Se));return B?(q.m=x.get(B[0].toLowerCase()),Se+B[0].length):-1}function dt(q,pe,Se){return G(q,t,pe,Se)}function Cn(q,pe,Se){return G(q,n,pe,Se)}function $(q,pe,Se){return G(q,i,pe,Se)}function W(q){return o[q.getDay()]}function Q(q){return s[q.getDay()]}function Z(q){return l[q.getMonth()]}function Ae(q){return a[q.getMonth()]}function Ze(q){return r[+(q.getHours()>=12)]}function Ve(q){return 1+~~(q.getMonth()/3)}function Hn(q){return o[q.getUTCDay()]}function lt(q){return s[q.getUTCDay()]}function ss(q){return l[q.getUTCMonth()]}function qs(q){return a[q.getUTCMonth()]}function ze(q){return r[+(q.getUTCHours()>=12)]}function Mn(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var pe=M(q+="",T);return pe.toString=function(){return q},pe},parse:function(q){var pe=Y(q+="",!1);return pe.toString=function(){return q},pe},utcFormat:function(q){var pe=M(q+="",k);return pe.toString=function(){return q},pe},utcParse:function(q){var pe=Y(q+="",!0);return pe.toString=function(){return q},pe}}}var xV={"-":"",_:" ",0:"0"},on=/^\s*\d+/,GJ=/^%/,WJ=/[\\^$*+?|[\]().{}]/g;function it(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(t)+r:r)}function qJ(e){return e.replace(WJ,"\\$&")}function Ih(e){return new RegExp("^(?:"+e.map(qJ).join("|")+")","i")}function kh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function YJ(e,t,n){var i=on.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function XJ(e,t,n){var i=on.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function QJ(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function ZJ(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function KJ(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function bV(e,t,n){var i=on.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function CV(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function JJ(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function eee(e,t,n){var i=on.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function tee(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function wV(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function nee(e,t,n){var i=on.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function SV(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function iee(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function ree(e,t,n){var i=on.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function see(e,t,n){var i=on.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function oee(e,t,n){var i=on.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function aee(e,t,n){var i=GJ.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function lee(e,t,n){var i=on.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function cee(e,t,n){var i=on.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function TV(e,t){return it(e.getDate(),t,2)}function uee(e,t){return it(e.getHours(),t,2)}function dee(e,t){return it(e.getHours()%12||12,t,2)}function hee(e,t){return it(1+X0.count(Xa(e),e),t,3)}function kV(e,t){return it(e.getMilliseconds(),t,3)}function fee(e,t){return kV(e,t)+"000"}function pee(e,t){return it(e.getMonth()+1,t,2)}function mee(e,t){return it(e.getMinutes(),t,2)}function gee(e,t){return it(e.getSeconds(),t,2)}function vee(e){var t=e.getDay();return t===0?7:t}function yee(e,t){return it(Dh.count(Xa(e)-1,e),t,2)}function MV(e){var t=e.getDay();return t>=4||t===0?So(e):So.ceil(e)}function _ee(e,t){return e=MV(e),it(So.count(Xa(e),e)+(Xa(e).getDay()===4),t,2)}function xee(e){return e.getDay()}function bee(e,t){return it($c.count(Xa(e)-1,e),t,2)}function Cee(e,t){return it(e.getFullYear()%100,t,2)}function wee(e,t){return e=MV(e),it(e.getFullYear()%100,t,2)}function See(e,t){return it(e.getFullYear()%1e4,t,4)}function Tee(e,t){var n=e.getDay();return e=n>=4||n===0?So(e):So.ceil(e),it(e.getFullYear()%1e4,t,4)}function Dee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function DV(e,t){return it(e.getUTCDate(),t,2)}function Eee(e,t){return it(e.getUTCHours(),t,2)}function Aee(e,t){return it(e.getUTCHours()%12||12,t,2)}function Iee(e,t){return it(1+Q0.count(Za(e),e),t,3)}function RV(e,t){return it(e.getUTCMilliseconds(),t,3)}function kee(e,t){return RV(e,t)+"000"}function Mee(e,t){return it(e.getUTCMonth()+1,t,2)}function Ree(e,t){return it(e.getUTCMinutes(),t,2)}function Lee(e,t){return it(e.getUTCSeconds(),t,2)}function Nee(e){var t=e.getUTCDay();return t===0?7:t}function Fee(e,t){return it(Eh.count(Za(e)-1,e),t,2)}function LV(e){var t=e.getUTCDay();return t>=4||t===0?To(e):To.ceil(e)}function Oee(e,t){return e=LV(e),it(To.count(Za(e),e)+(Za(e).getUTCDay()===4),t,2)}function Pee(e){return e.getUTCDay()}function Vee(e,t){return it(zc.count(Za(e)-1,e),t,2)}function Bee(e,t){return it(e.getUTCFullYear()%100,t,2)}function jee(e,t){return e=LV(e),it(e.getUTCFullYear()%100,t,2)}function Hee(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function Uee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?To(e):To.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function $ee(){return"+0000"}function EV(){return"%"}function AV(e){return+e}function IV(e){return Math.floor(+e/1e3)}var Gc,Z0,NV,FV,OV;iT({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iT(e){return Gc=nT(e),Z0=Gc.format,NV=Gc.parse,FV=Gc.utcFormat,OV=Gc.utcParse,Gc}function zee(e){return new Date(e)}function Gee(e){return e instanceof Date?+e:+new Date(+e)}function PV(e,t,n,i,r,s,o,a,l,c){var u=xh(),d=u.invert,h=u.domain,f=c(".%L"),v=c(":%S"),b=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),A=c("%b %d"),T=c("%B"),k=c("%Y");function P(M){return(l(M)<M?f:a(M)<M?v:o(M)<M?b:s(M)<M?x:i(M)<M?r(M)<M?w:A:n(M)<M?T:k)(M)}return u.invert=function(M){return new Date(d(M))},u.domain=function(M){return arguments.length?h(Array.from(M,Gee)):h().map(zee)},u.ticks=function(M){var Y=h();return e(Y[0],Y[Y.length-1],M??10)},u.tickFormat=function(M,Y){return Y==null?P:c(Y)},u.nice=function(M){var Y=h();return(!M||typeof M.range!="function")&&(M=t(Y[0],Y[Y.length-1],M??10)),M?h(GS(Y,M)):u},u.copy=function(){return j0(u,PV(e,t,n,i,r,s,o,a,l,c))},u}function Mh(){return qr.apply(PV(YS,XS,qa,Uc,Ga,Hc,jc,Bc,Xr,Z0).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zt(e){return function(){return e}}var rT=Math.PI,sT=2*rT,Ka=1e-6,Wee=sT-Ka;function VV(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function qee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VV;let n=10**t;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}var Ja=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VV:qee(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,s,o){this._append`C${+t},${+n},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,i,r,s){if(t=+t,n=+n,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-t,c=r-n,u=o-t,d=a-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Ka)if(!(Math.abs(d*l-c*u)>Ka)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let f=i-o,v=r-a,b=l*l+c*c,x=f*f+v*v,w=Math.sqrt(b),A=Math.sqrt(h),T=s*Math.tan((rT-Math.acos((b+h-x)/(2*w*A)))/2),k=T/A,P=T/w;Math.abs(k-1)>Ka&&this._append`L${t+k*u},${n+k*d}`,this._append`A${s},${s},0,0,${+(d*f>u*v)},${this._x1=t+P*l},${this._y1=n+P*c}`}}arc(t,n,i,r,s,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=t+a,u=n+l,d=1^o,h=o?r-s:s-r;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ka||Math.abs(this._y1-u)>Ka)&&this._append`L${c},${u}`,i&&(h<0&&(h=h%sT+sT),h>Wee?this._append`A${i},${i},0,1,${d},${t-a},${n-l}A${i},${i},0,1,${d},${this._x1=c},${this._y1=u}`:h>Ka&&this._append`A${i},${i},0,${+(h>=rT)},${d},${this._x1=t+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function BV(){return new Ja}BV.prototype=Ja.prototype;function K0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new Ja(t)}var uAe=Array.prototype.slice;function J0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jV(e){this._context=e}jV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function el(e){return new jV(e)}function ev(e){return e[0]}function tv(e){return e[1]}function Rh(e,t){var n=zt(!0),i=null,r=el,s=null,o=K0(a);e=typeof e=="function"?e:e===void 0?ev:zt(e),t=typeof t=="function"?t:t===void 0?tv:zt(t);function a(l){var c,u=(l=J0(l)).length,d,h=!1,f;for(i==null&&(s=r(f=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(d,c,l),+t(d,c,l));if(f)return s=null,f+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:zt(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:zt(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:zt(!!l),a):n},a.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),a):i},a}function nv(e,t,n){var i=null,r=zt(!0),s=null,o=el,a=null,l=K0(c);e=typeof e=="function"?e:e===void 0?ev:zt(+e),t=typeof t=="function"?t:t===void 0?zt(0):zt(+t),n=typeof n=="function"?n:n===void 0?tv:zt(+n);function c(d){var h,f,v,b=(d=J0(d)).length,x,w=!1,A,T=new Array(b),k=new Array(b);for(s==null&&(a=o(A=l())),h=0;h<=b;++h){if(!(h<b&&r(x=d[h],h,d))===w)if(w=!w)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=f;--v)a.point(T[v],k[v]);a.lineEnd(),a.areaEnd()}w&&(T[h]=+e(x,h,d),k[h]=+t(x,h,d),a.point(i?+i(x,h,d):T[h],n?+n(x,h,d):k[h]))}if(A)return a=null,A+""||null}function u(){return Rh().defined(r).curve(o).context(s)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),i=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:zt(+d),c):e},c.x1=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:zt(+d),c):i},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:zt(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:zt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(i).y(t)},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:zt(!!d),c):r},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s},c}var JV=If(UV(),1);var ete=["caretElm"],tte=e=>({model:e});function nte(e,t){}function ite(e,t){if(e&1&&(m(0,"span"),E(1,nte,0,0,"ng-template",5),p()),e&2){let n=S();g(),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(2,tte,n.context))}}function rte(e,t){if(e&1&&R(0,"span",6),e&2){let n=S();_("innerHTML",n.title,Hu)}}function ste(e,t){if(e&1&&(m(0,"header",4)(1,"span",5),y(2),p()()),e&2){let n=S();g(2),te(n.title)}}function ote(e,t){if(e&1){let n=K();m(0,"li",6)(1,"ngx-charts-legend-entry",7),N("select",function(r){j(n);let s=S();return H(s.labelClick.emit(r))})("activate",function(r){j(n);let s=S();return H(s.activate(r))})("deactivate",function(r){j(n);let s=S();return H(s.deactivate(r))}),p()()}if(e&2){let n=t.$implicit,i=S();g(),_("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",i.isActive(n))}}var e3=["*"];function ate(e,t){if(e&1&&R(0,"ngx-charts-scale-legend",4),e&2){let n=S();_("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function lte(e,t){if(e&1){let n=K();m(0,"ngx-charts-legend",5),N("labelClick",function(r){j(n);let s=S();return H(s.legendLabelClick.emit(r))})("labelActivate",function(r){j(n);let s=S();return H(s.legendLabelActivate.emit(r))})("labelDeactivate",function(r){j(n);let s=S();return H(s.legendLabelDeactivate.emit(r))}),p()}if(e&2){let n=S();_("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries)}}var cte=["ngx-charts-axis-label",""],t3=["ticksel"],ute=["ngx-charts-x-axis-ticks",""];function dte(e,t){e&1&&(z(),ur(0))}function hte(e,t){if(e&1&&(z(),m(0,"tspan",10),y(1),p()),e&2){let n=t.$implicit,i=t.index;le("y",i*12),g(),J(" ",n," ")}}function fte(e,t){if(e&1&&(z(),lr(0),E(1,hte,2,2,"tspan",9),cr()),e&2){let n=t.ngIf;g(),_("ngForOf",n)}}function pte(e,t){if(e&1&&E(0,fte,2,1,"ng-container",6),e&2){let n=S(2).$implicit,i=S();_("ngIf",i.tickChunks(n))}}function mte(e,t){if(e&1&&y(0),e&2){let n=S().ngIf,i=S(2);J(" ",i.tickTrim(n)," ")}}function gte(e,t){if(e&1&&(z(),lr(0),m(1,"title"),y(2),p(),m(3,"text",7),E(4,dte,1,0,"ng-container",8),p(),E(5,pte,1,1,"ng-template",null,1,rn)(7,mte,1,1,"ng-template",null,2,rn),cr()),e&2){let n=t.ngIf,i=Pt(6),r=Pt(8),s=S(2);g(2),te(n),g(),le("text-anchor",s.textAnchor)("transform",s.textTransform),g(),_("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r)}}function vte(e,t){if(e&1&&(z(),m(0,"g",5),E(1,gte,9,6,"ng-container",6),p()),e&2){let n=t.$implicit,i=S();le("transform",i.tickTransform(n)),g(),_("ngIf",i.tickFormat(n))}}function yte(e,t){if(e&1&&(z(),m(0,"g"),R(1,"line",11),p()),e&2){let n=S(2);le("transform",n.gridLineTransform()),g(),le("y1",-n.gridLineHeight)}}function _te(e,t){if(e&1&&(z(),m(0,"g"),E(1,yte,2,2,"g",6),p()),e&2){let n=t.$implicit,i=S();le("transform",i.tickTransform(n)),g(),_("ngIf",i.showGridLines)}}var xte=["ngx-charts-x-axis",""];function bte(e,t){if(e&1){let n=K();z(),m(0,"g",2),N("dimensionsChanged",function(r){j(n);let s=S();return H(s.emitTicksHeight(r))}),p()}if(e&2){let n=S();_("trimTicks",n.trimTicks)("rotateTicks",n.rotateTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickStroke",n.tickStroke)("scale",n.xScale)("orient",n.xOrient)("showGridLines",n.showGridLines)("gridLineHeight",n.dims.height)("width",n.dims.width)("tickValues",n.ticks)("wrapTicks",n.wrapTicks)}}function Cte(e,t){if(e&1&&(z(),R(0,"g",3)),e&2){let n=S();_("label",n.labelText)("offset",n.labelOffset)("orient",n.orientation.Bottom)("height",n.dims.height)("width",n.dims.width)}}var wte=["ngx-charts-y-axis-ticks",""];function Ste(e,t){e&1&&(z(),ur(0))}function Tte(e,t){if(e&1&&(z(),m(0,"tspan",12),y(1),p()),e&2){let n=t.$implicit,i=t.index,r=S(6);le("y",i*(8+r.tickSpacing)),g(),J(" ",n," ")}}function Dte(e,t){if(e&1&&(z(),lr(0),E(1,Tte,2,2,"tspan",11),cr()),e&2){let n=S().ngIf;g(),_("ngForOf",n)}}function Ete(e,t){if(e&1&&(z(),lr(0),E(1,Dte,2,1,"ng-container",10),cr()),e&2){let n=t.ngIf;S(2);let i=Pt(8);g(),_("ngIf",n.length>1)("ngIfElse",i)}}function Ate(e,t){if(e&1&&E(0,Ete,2,2,"ng-container",7),e&2){let n=S(2).$implicit,i=S();_("ngIf",i.tickChunks(n))}}function Ite(e,t){if(e&1&&y(0),e&2){let n=S().ngIf,i=S(2);J(" ",i.tickTrim(n)," ")}}function kte(e,t){if(e&1&&(z(),lr(0),m(1,"title"),y(2),p(),m(3,"text",8),E(4,Ste,1,0,"ng-container",9),p(),E(5,Ate,1,1,"ng-template",null,1,rn)(7,Ite,1,1,"ng-template",null,2,rn),cr()),e&2){let n=t.ngIf,i=Pt(6),r=Pt(8),s=S(2);g(2),te(n),g(),Yt("font-size","12px"),le("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),g(),_("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r)}}function Mte(e,t){if(e&1&&(z(),m(0,"g",6),E(1,kte,9,10,"ng-container",7),p()),e&2){let n=t.$implicit,i=S();le("transform",i.transform(n)),g(),_("ngIf",i.tickFormat(n))}}function Rte(e,t){if(e&1&&(z(),R(0,"path",13)),e&2){let n=S();le("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function Lte(e,t){if(e&1&&(z(),R(0,"line",15)),e&2){let n=S(3);le("x2",n.gridLineWidth)}}function Nte(e,t){if(e&1&&(z(),R(0,"line",15)),e&2){let n=S(3);le("x2",-n.gridLineWidth)}}function Fte(e,t){if(e&1&&(z(),m(0,"g"),E(1,Lte,1,1,"line",14)(2,Nte,1,1,"line",14),p()),e&2){let n=S(2);le("transform",n.gridLineTransform()),g(),_("ngIf",n.orient===n.Orientation.Left),g(),_("ngIf",n.orient===n.Orientation.Right)}}function Ote(e,t){if(e&1&&(z(),m(0,"g"),E(1,Fte,3,3,"g",7),p()),e&2){let n=t.$implicit,i=S();le("transform",i.transform(n)),g(),_("ngIf",i.showGridLines)}}function Pte(e,t){if(e&1&&(z(),m(0,"g")(1,"title"),y(2),p(),m(3,"text",17),y(4),p()()),e&2){let n=S(2).$implicit,i=S();g(2),te(i.tickTrim(i.tickFormat(n.value))),g(),le("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),g(),J(" ",n.name," ")}}function Vte(e,t){if(e&1&&(z(),m(0,"g"),R(1,"line",16),E(2,Pte,5,6,"g",7),p()),e&2){let n=S().$implicit,i=S();le("transform",i.transform(n.value)),g(),le("x2",i.gridLineWidth)("transform",i.gridLineTransform()),g(),_("ngIf",i.showRefLabels)}}function Bte(e,t){if(e&1&&(z(),m(0,"g"),E(1,Vte,3,4,"g",7),p()),e&2){let n=S();g(),_("ngIf",n.showRefLines)}}var jte=["ngx-charts-y-axis",""];function Hte(e,t){if(e&1){let n=K();z(),m(0,"g",2),N("dimensionsChanged",function(r){j(n);let s=S();return H(s.emitTicksWidth(r))}),p()}if(e&2){let n=S();_("trimTicks",n.trimTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickValues",n.ticks)("tickStroke",n.tickStroke)("scale",n.yScale)("orient",n.yOrient)("showGridLines",n.showGridLines)("gridLineWidth",n.dims.width)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("height",n.dims.height)("wrapTicks",n.wrapTicks)}}function Ute(e,t){if(e&1&&(z(),R(0,"g",3)),e&2){let n=S();_("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width)}}var $te=["ngx-charts-svg-linear-gradient",""];function zte(e,t){if(e&1&&(z(),R(0,"stop")),e&2){let n=t.$implicit;Yt("stop-color",n.color)("stop-opacity",n.opacity),le("offset",n.offset+"%")}}var Gte=["ngx-charts-circle",""],Wte=["ngx-charts-circle-series",""],qte=e=>({name:e});function Yte(e,t){if(e&1&&(z(),R(0,"rect",4)),e&2){let n=S(2);_("@animationState","active"),le("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill)}}function Xte(e,t){if(e&1&&(z(),R(0,"rect",4)),e&2){let n=S(2);le("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill)}}function Qte(e,t){if(e&1){let n=K();z(),m(0,"g")(1,"defs"),R(2,"g",1),p(),E(3,Yte,1,6,"rect",2)(4,Xte,1,5,"rect",2),m(5,"g",3),N("select",function(){j(n);let r=S();return H(r.onClick(r.circle.data))})("activate",function(){j(n);let r=S();return H(r.activateCircle())})("deactivate",function(){j(n);let r=S();return H(r.deactivateCircle())}),p()()}if(e&2){let n=S();g(2),_("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.circle.gradientStops),g(),_("ngIf",!n.isSSR&&n.barVisible&&n.type==="standard"),g(),_("ngIf",n.isSSR&&n.barVisible&&n.type==="standard"),g(),hn("active",n.isActive(ge(20,qte,n.circle.seriesName))),_("cx",n.circle.cx)("cy",n.circle.cy)("r",n.circle.radius)("fill",n.circle.color)("pointerEvents",n.circle.value===0?"none":"all")("data",n.circle.value)("classNames",n.circle.classNames)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Top)("tooltipType",n.styleTypes.tooltip)("tooltipTitle",n.tooltipTemplate?void 0:n.getTooltipText(n.circle))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",n.circle.data)}}var Zte=["ngx-charts-area",""];function Kte(e,t){if(e&1&&(z(),m(0,"defs"),R(1,"g",2),p()),e&2){let n=S();g(),_("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops)}}var Jte=["tooltipAnchor"],ene=["ngx-charts-tooltip-area",""];function tne(e,t){if(e&1&&(m(0,"div",6),R(1,"span",7),y(2),p()),e&2){let n=t.$implicit,i=S(2);g(),Yt("background-color",n.color),g(),J(" ",i.getToolTipText(n)," ")}}function nne(e,t){if(e&1&&(m(0,"div",4),E(1,tne,3,3,"div",5),p()),e&2){let n=t.model;g(),_("ngForOf",n)}}var ine=["ngx-charts-timeline",""];var n3=["tooltipTemplate"],rne=["seriesTooltipTemplate"],uT=(e,t)=>[e,t];var i3=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var sne=["ngx-charts-bar",""];function one(e,t){if(e&1&&(z(),m(0,"defs"),R(1,"g",2),p()),e&2){let n=S();g(),_("orientation",n.orientation)("name",n.gradientId)("stops",n.gradientStops)}}var ane=["ngx-charts-bar-label",""];var lne=["ngx-charts-series-vertical",""];function cne(e,t){if(e&1){let n=K();z(),m(0,"g",2),N("select",function(r){j(n);let s=S(2);return H(s.onClick(r))})("activate",function(r){j(n);let s=S(2);return H(s.activate.emit(r))})("deactivate",function(r){j(n);let s=S(2);return H(s.deactivate.emit(r))}),p()}if(e&2){let n=t.$implicit,i=S(2);_("@animationState","active")("@.disabled",!i.animations)("width",n.width)("height",n.height)("x",n.x)("y",n.y)("fill",n.color)("stops",n.gradientStops)("data",n.data)("orientation",i.barOrientation.Vertical)("roundEdges",n.roundEdges)("gradient",i.gradient)("ariaLabel",n.ariaLabel)("isActive",i.isActive(n.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:n.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",n.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function une(e,t){if(e&1&&(z(),m(0,"g"),E(1,cne,1,22,"g",1),p()),e&2){let n=S();g(),_("ngForOf",n.bars)("ngForTrackBy",n.trackBy)}}function dne(e,t){if(e&1){let n=K();z(),m(0,"g",2),N("select",function(r){j(n);let s=S(2);return H(s.onClick(r))})("activate",function(r){j(n);let s=S(2);return H(s.activate.emit(r))})("deactivate",function(r){j(n);let s=S(2);return H(s.deactivate.emit(r))}),p()}if(e&2){let n=t.$implicit,i=S(2);_("width",n.width)("height",n.height)("x",n.x)("y",n.y)("fill",n.color)("stops",n.gradientStops)("data",n.data)("orientation",i.barOrientation.Vertical)("roundEdges",n.roundEdges)("gradient",i.gradient)("ariaLabel",n.ariaLabel)("isActive",i.isActive(n.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:n.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",n.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function hne(e,t){if(e&1&&(z(),m(0,"g"),E(1,dne,1,20,"g",1),p()),e&2){let n=S();g(),_("ngForOf",n.bars)("ngForTrackBy",n.trackBy)}}function fne(e,t){if(e&1){let n=K();z(),m(0,"g",4),N("dimensionsChanged",function(r){let s=j(n).index,o=S(2);return H(o.dataLabelHeightChanged.emit({size:r,index:s}))}),p()}if(e&2){let n=t.$implicit,i=S(2);_("barX",n.x)("barY",n.y)("barWidth",n.width)("barHeight",n.height)("value",n.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function pne(e,t){if(e&1&&(z(),m(0,"g"),E(1,fne,1,7,"g",3),p()),e&2){let n=S();g(),_("ngForOf",n.barsForDataLabels)("ngForTrackBy",n.trackDataLabelBy)}}function mne(e,t){if(e&1){let n=K();z(),m(0,"g",5),N("dimensionsChanged",function(r){j(n);let s=S();return H(s.updateXAxisHeight(r))}),p()}if(e&2){let n=S();_("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("xAxisOffset",n.dataLabelMaxHeight.negative)("wrapTicks",n.wrapTicks)}}function gne(e,t){if(e&1){let n=K();z(),m(0,"g",6),N("dimensionsChanged",function(r){j(n);let s=S();return H(s.updateYAxisWidth(r))}),p()}if(e&2){let n=S();_("yScale",n.yScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("wrapTicks",n.wrapTicks)}}var vne=["ngx-charts-line",""];function yne(e,t){if(e&1&&(z(),m(0,"g"),R(1,"path",1),p()),e&2){let n=S();g(),_("@animationState","active"),le("d",n.initialPath)("fill",n.fill)("stroke",n.stroke)}}function _ne(e,t){if(e&1&&(z(),m(0,"g"),R(1,"path",1),p()),e&2){let n=S();g(),le("d",n.initialPath)("fill",n.fill)("stroke",n.stroke)}}var xne=["ngx-charts-line-series",""];function bne(e,t){if(e&1&&(z(),R(0,"g",4)),e&2){let n=S();_("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops)}}function Cne(e,t){if(e&1&&(z(),R(0,"g",5)),e&2){let n=S();hn("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),_("data",n.data)("path",n.outerPath)("fill",n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name))("opacity",n.rangeFillOpacity)("animations",n.animations)}}function wne(e,t){if(e&1){let n=K();z(),m(0,"g",7),N("dimensionsChanged",function(r){j(n);let s=S();return H(s.updateXAxisHeight(r))}),p()}if(e&2){let n=S();_("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("wrapTicks",n.wrapTicks)}}function Sne(e,t){if(e&1){let n=K();z(),m(0,"g",8),N("dimensionsChanged",function(r){j(n);let s=S();return H(s.updateYAxisWidth(r))}),p()}if(e&2){let n=S();_("yScale",n.yScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("wrapTicks",n.wrapTicks)}}function Tne(e,t){if(e&1&&(z(),m(0,"g"),R(1,"g",10),p()),e&2){let n=t.$implicit,i=S(2);_("@animationState","active"),g(),_("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function Dne(e,t){if(e&1&&(z(),m(0,"g"),E(1,Tne,2,11,"g",9),p()),e&2){let n=S();g(),_("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function Ene(e,t){if(e&1&&(z(),m(0,"g"),R(1,"g",10),p()),e&2){let n=t.$implicit,i=S(2);g(),_("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function Ane(e,t){if(e&1&&(z(),m(0,"g"),E(1,Ene,2,10,"g",9),p()),e&2){let n=S();g(),_("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function Ine(e,t){if(e&1){let n=K();z(),m(0,"g")(1,"g",14),N("select",function(r){j(n);let s=S(2);return H(s.onClick(r))})("activate",function(r){j(n);let s=S(2);return H(s.onActivate(r))})("deactivate",function(r){j(n);let s=S(2);return H(s.onDeactivate(r))}),p()()}if(e&2){let n=t.$implicit,i=S(2);g(),_("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",n)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function kne(e,t){if(e&1){let n=K();z(),m(0,"g",11),N("mouseleave",function(){j(n);let r=S();return H(r.hideCircles())}),m(1,"g",12),N("hover",function(r){j(n);let s=S();return H(s.updateHoveredVertical(r))}),p(),E(2,Ine,2,9,"g",13),p()}if(e&2){let n=S();g(),_("dims",n.dims)("xSet",n.xSet)("xScale",n.xScale)("yScale",n.yScale)("results",n.results)("colors",n.colors)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.seriesTooltipTemplate),g(),_("ngForOf",n.results)}}function Mne(e,t){if(e&1&&(z(),m(0,"g"),R(1,"g",16),p()),e&2){let n=t.$implicit,i=S(2);g(),_("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",n)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function Rne(e,t){if(e&1){let n=K();z(),m(0,"g",15),N("onDomainChange",function(r){j(n);let s=S();return H(s.updateDomain(r))}),E(1,Mne,2,8,"g",9),p()}if(e&2){let n=S();_("results",n.results)("view",lm(10,uT,n.timelineWidth,n.height))("height",n.timelineHeight)("scheme",n.scheme)("customColors",n.customColors)("scaleType",n.scaleType)("legend",n.legend),le("transform",n.timelineTransform),g(),_("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function Lne(e,t,n){n=n||{};let i,r,s,o=null,a=0;function l(){a=n.leading===!1?0:+new Date,o=null,s=e.apply(i,r)}return function(){let c=+new Date;!a&&n.leading===!1&&(a=c);let u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=e.apply(i,r)):!o&&n.trailing!==!1&&(o=setTimeout(l,u)),s}}function Nne(e,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:Lne(s.value,e,t)}),this[r]}}}}var Le=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(Le||{}),Ao=7;function $V(e,t,n){if(n===Le.Top)return e.top-Ao;if(n===Le.Bottom)return e.top+e.height-t.height+Ao;if(n===Le.Center)return e.top+e.height/2-t.height/2}function zV(e,t,n){if(n===Le.Left)return e.left-Ao;if(n===Le.Right)return e.left+e.width-t.width+Ao;if(n===Le.Center)return e.left+e.width/2-t.width/2}var Nh=class e{static calculateVerticalAlignment(t,n,i){let r=$V(t,n,i);return r+n.height>window.innerHeight&&(r=window.innerHeight-n.height),r}static calculateVerticalCaret(t,n,i,r){let s;r===Le.Top&&(s=t.height/2-i.height/2+Ao),r===Le.Bottom&&(s=n.height-t.height/2-i.height/2-Ao),r===Le.Center&&(s=n.height/2-i.height/2);let o=$V(t,n,r);return o+n.height>window.innerHeight&&(s+=o+n.height-window.innerHeight),s}static calculateHorizontalAlignment(t,n,i){let r=zV(t,n,i);return r+n.width>window.innerWidth&&(r=window.innerWidth-n.width),r}static calculateHorizontalCaret(t,n,i,r){let s;r===Le.Left&&(s=t.width/2-i.width/2+Ao),r===Le.Right&&(s=n.width-t.width/2-i.width/2-Ao),r===Le.Center&&(s=n.width/2-i.width/2);let o=zV(t,n,r);return o+n.width>window.innerWidth&&(s+=o+n.width-window.innerWidth),s}static shouldFlip(t,n,i,r){let s=!1;return i===Le.Right&&t.left+t.width+n.width+r>window.innerWidth&&(s=!0),i===Le.Left&&t.left-n.width-r<0&&(s=!0),i===Le.Top&&t.top-n.height-r<0&&(s=!0),i===Le.Bottom&&t.top+t.height+n.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,n,i,r,s){let o=0,a=0;return t===Le.Right?(a=-7,o=e.calculateVerticalCaret(i,n,r,s)):t===Le.Left?(a=n.width,o=e.calculateVerticalCaret(i,n,r,s)):t===Le.Top?(o=n.height,a=e.calculateHorizontalCaret(i,n,r,s)):t===Le.Bottom&&(o=-7,a=e.calculateHorizontalCaret(i,n,r,s)),{top:o,left:a}}static positionContent(t,n,i,r,s){let o=0,a=0;return t===Le.Right?(a=i.left+i.width+r,o=e.calculateVerticalAlignment(i,n,s)):t===Le.Left?(a=i.left-n.width-r,o=e.calculateVerticalAlignment(i,n,s)):t===Le.Top?(o=i.top-n.height-r,a=e.calculateHorizontalAlignment(i,n,s)):t===Le.Bottom&&(o=i.top+i.height+r,a=e.calculateHorizontalAlignment(i,n,s)),{top:o,left:a}}static determinePlacement(t,n,i,r){if(e.shouldFlip(i,n,t,r)){if(t===Le.Right)return Le.Left;if(t===Le.Left)return Le.Right;if(t===Le.Top)return Le.Bottom;if(t===Le.Bottom)return Le.Top}return t}},Fne=(()=>{class e{constructor(n,i,r){this.element=n,this.renderer=i,this.platformId=r}get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Cs(this.platformId))return;let n=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=n.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(n,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(n,"animate"),1)}positionContent(n,i,r){let{top:s,left:o}=Nh.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${s}px`),this.renderer.setStyle(n,"left",`${o}px`)}positionCaret(n,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Nh.positionCaret(this.placement,i,n,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(n,i){this.placement=Nh.determinePlacement(this.placement,i,n,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(n){return new(n||e)(D(Je),D(Pn),D(qt))},e.\u0275cmp=X({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,i){if(n&1&&fi(ete,5),n&2){let r;Xe(r=Qe())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(n,i){n&1&&N("resize",function(){return i.onWindowResize()},!1,HI),n&2&&ar(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,i){n&1&&(m(0,"div"),R(1,"span",1,0),m(3,"div",2),E(4,ite,2,4,"span",3)(5,rte,1,1,"span",4),p()()),n&2&&(g(),Pk("tooltip-caret position-",i.placement,""),_("hidden",!i.showCaret),g(3),_("ngIf",!i.title),g(),_("ngIf",i.title))},dependencies:[de,Dm],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),c1([Nne(100)],e.prototype,"onWindowResize",null),e})(),aT=class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,n){n=this.assignDefaults(n);let i=this.injectComponent(t,n);return this.register(t,i),i}destroy(t){let n=this.components.get(t.componentType);if(n&&n.length){let i=n.indexOf(t);i>-1&&(n[i].destroy(),n.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){let n=this.components.get(t);if(n&&n.length){let i=n.length-1;for(;i>=0;)this.destroy(n[i--])}}injectComponent(t,n){return this.injectionService.appendComponent(t,n)}assignDefaults(t){let n=L({},this.defaults.inputs),i=L({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),n&&(t.inputs=L(L({},n),t.inputs)),i&&(t.outputs=L(L({},i),t.outputs)),t}register(t,n){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(n)}};function One(e){return e.element}var r3=(()=>{class e{constructor(n,i,r){this.applicationRef=n,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(n){e.globalRootViewContainer=n}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return One(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)n.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)n.instance[s]=i.outputs[s]}}return n}appendComponent(n,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new s0(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new Kd(n),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return e.globalRootViewContainer=null,e.\u0275fac=function(n){return new(n||e)(V(Ni),V(so),V(dn))},e.\u0275prov=U({token:e,factory:e.\u0275fac}),e})(),dT=(()=>{class e extends aT{constructor(n){super(n),this.type=Fne}}return e.\u0275fac=function(n){return new(n||e)(V(r3))},e.\u0275prov=U({token:e,factory:e.\u0275fac}),e})(),Io=function(e){return e.Right="right",e.Below="below",e}(Io||{}),Lh=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Lh||{}),ie=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(ie||{}),Pne=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(n){let i=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${i})`}gradientString(n,i){i.push(1);let r=[];return n.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(i[o]*100)}%`)}),r.join(", ")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[Ue],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,i){n&1&&(m(0,"div",0)(1,"div",1)(2,"span"),y(3),p()(),R(4,"div",2),m(5,"div",1)(6,"span"),y(7),p()()()),n&2&&(Yt("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),hn("horizontal-legend",i.horizontal),g(3),te(i.valueRange[1].toLocaleString()),g(),Yt("background",i.gradient),g(3),te(i.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),e})();function sv(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e}function lT(e){return e.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[t])}var Vne=(()=>{class e{constructor(){this.isActive=!1,this.select=new ee,this.activate=new ee,this.deactivate=new ee,this.toggle=new ee}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,i){n&1&&N("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,i){n&1&&(m(0,"span",0),N("click",function(){return i.select.emit(i.formattedLabel)}),m(1,"span",1),N("click",function(){return i.toggle.emit(i.formattedLabel)}),p(),m(2,"span",2),y(3),p()()),n&2&&(hn("active",i.isActive),_("title",i.formattedLabel),g(),Yt("background-color",i.color),g(2),J(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),Bne=(()=>{class e{constructor(n){this.cd=n,this.horizontal=!1,this.labelClick=new ee,this.labelActivate=new ee,this.labelDeactivate=new ee,this.legendEntries=[]}ngOnChanges(n){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let n=[];for(let i of this.data){let r=sv(i);n.findIndex(o=>o.label===r)===-1&&n.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return n}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.label===r.name)!==void 0:!1}activate(n){this.labelActivate.emit(n)}deactivate(n){this.labelDeactivate.emit(n)}trackBy(n,i){return i.label}}return e.\u0275fac=function(n){return new(n||e)(D(pn))},e.\u0275cmp=X({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[Ue],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(n,i){n&1&&(m(0,"div"),E(1,ste,3,1,"header",0),m(2,"div",1)(3,"ul",2),E(4,ote,2,4,"li",3),p()()()),n&2&&(Yt("width",i.width,"px"),g(),_("ngIf",(i.title==null?null:i.title.length)>0),g(2),Yt("max-height",i.height-45,"px"),hn("horizontal-legend",i.horizontal),g(),_("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[Vne,de,et],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),e})(),s3=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new ee,this.legendLabelActivate=new ee,this.legendLabelDeactivate=new ee,this.LegendPosition=Io,this.LegendType=Lh}ngOnChanges(n){this.update()}update(){let n=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Io.Right)&&(this.legendType===Lh.ScaleLegend?n=1:n=2));let i=12-n;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===Io.Right?Math.floor(this.view[0]*n/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===ie.Linear?Lh.ScaleLegend:Lh.Legend}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[pi([dT]),Ue],ngContentSelectors:e3,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(n,i){n&1&&($u(),m(0,"div",0),z(),m(1,"svg",1),zu(2),p(),E(3,ate,1,5,"ngx-charts-scale-legend",2)(4,lte,1,7,"ngx-charts-legend",3),p()),n&2&&(Yt("width",i.view[0],"px")("height",i.view[1],"px"),g(),le("width",i.chartWidth)("height",i.view[1]),g(2),_("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),g(),_("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Pne,Bne,de],encapsulation:2,changeDetection:0}),e})(),jne=(()=>{class e{constructor(n,i){this.element=n,this.zone=i,this.visible=new ee,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let n=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}}return e.\u0275fac=function(n){return new(n||e)(D(Je),D(Ke))},e.\u0275dir=Ye({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function GV(e){return toString.call(e)==="[object Date]"}var o3=(()=>{class e{constructor(n,i,r,s){this.chartElement=n,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=ie.Ordinal,this.animations=!0,this.select=new ee}ngOnInit(){Rr(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new jne(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(n){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,i,r=this.chartElement.nativeElement;if(Cs(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();n=s.width,i=s.height}return n&&i?{width:n,height:i}:null}formatDates(){for(let n=0;n<this.results.length;n++){let i=this.results[n];if(i.label=i.name,GV(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){let s=i.series[r];s.label=s.name,GV(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Cs(this.platformId))return;let i=wu(window,"resize").pipe(Fy(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(n){let i=[];for(let r of n){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a)}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),i.push(s)}return i}}return e.\u0275fac=function(n){return new(n||e)(D(Je),D(Ke),D(pn),D(qt))},e.\u0275cmp=X({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[Ue],decls:1,vars:0,template:function(n,i){n&1&&R(0,"div")},encapsulation:2}),e})(),_n=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(_n||{}),a3=(()=>{class e{constructor(n){this.textHeight=25,this.margin=5,this.element=n.nativeElement}ngOnChanges(n){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case _n.Top:this.y=this.offset,this.x=this.width/2;break;case _n.Bottom:this.y=this.offset,this.x=this.width/2;break;case _n.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case _n.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}}return e.\u0275fac=function(n){return new(n||e)(D(Je))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[Ue],attrs:cte,decls:2,vars:6,template:function(n,i){n&1&&(z(),m(0,"text"),y(1),p()),n&2&&(le("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),g(),J(" ",i.label," "))},encapsulation:2,changeDetection:0}),e})();function l3(e,t=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=t?e:`${e.slice(0,t)}...`)}function c3(e,t){if(e.length>t){let n=[],i=Math.floor(e.length/t);for(let r=0;r<e.length;r++)r%i===0&&n.push(e[r]);e=n}return e}function u3(e,t,n){let i=(e||"").toString(),r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,o)=>{let a=(s.pop()||"")+" ";return a.length+o.length>t?[...s,a.trim(),o.trim()]:[...s,a+o]},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+t)),s+=t}return r.length>n&&(r=r.splice(0,n),r[r.length-1]+="..."),r}var js=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(js||{}),WV=(()=>{class e{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new ee,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=js.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Cs(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);n!==this.height&&(this.height=n,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let n=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",i&&i!==0?(this.textTransform=`rotate(${i})`,this.textAnchor=js.End,this.verticalSpacing=10):this.textAnchor=js.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(n){let i=0;this.maxTicksLength=0;for(let d=0;d<n.length;d++){let h=this.tickFormat(n[d]).toString(),f=h.length;this.trimTicks&&(f=this.tickTrim(h).length),f>this.maxTicksLength&&(this.maxTicksLength=f)}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,o=r*s,a=o,l=Math.floor(this.width/n.length);for(;a>l&&i>-90;)i-=30,a=Math.cos(i*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let d=this.ticks.reduce((f,v)=>v.length>f.length?v:f,"");c=14*(this.tickChunks(d).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(d)}let u=i!==0?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(u,200),i}getTicks(){let n,i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[r]):(n=this.scale.domain(),n=c3(n,i)),n}getMaxTicks(n){return Math.floor(this.width/n)}tickTransform(n){return"translate("+this.adjustedScale(n)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(n){return this.trimTicks?l3(n,this.maxTickLength):n}getMaxPossibleLengthForTick(n){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),s=n.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(n)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Cs(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),u3(n,s,r<1?1:r)}return[this.tickTrim(n)]}}return e.\u0275fac=function(n){return new(n||e)(D(qt))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,i){if(n&1&&fi(t3,5),n&2){let r;Xe(r=Qe())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ue],attrs:ute,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,i){n&1&&(z(),m(0,"g",null,0),E(2,vte,2,2,"g",3),p(),E(3,_te,2,2,"g",4)),n&2&&(g(2),_("ngForOf",i.ticks),g(),_("ngForOf",i.ticks))},dependencies:[et,de],encapsulation:2,changeDetection:0}),e})(),d3=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=_n.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ee,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=_n}ngOnChanges(n){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:n}){let i=n+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:n})},0))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,i){if(n&1&&fi(WV,5),n&2){let r;Xe(r=Qe())&&(i.ticksComponent=r.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ue],attrs:xte,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,i){n&1&&(z(),m(0,"g"),E(1,bte,1,13,"g",0)(2,Cte,1,5,"g",1),p()),n&2&&(le("class",i.xAxisClassName)("transform",i.transform),g(),_("ngIf",i.xScale),g(),_("ngIf",i.showLabel))},dependencies:[WV,a3,de],encapsulation:2,changeDetection:0}),e})();function Do(e,t,n,i,r,[s,o,a,l]){let c="";return n=Math.floor(n),i=Math.floor(i),n=n===0?1:n,i=i===0?1:i,c=`M${[e+r,t]}`,c+=`h${n-2*r}`,o?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${i-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-n}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-i}`,s?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c}var qV=(()=>{class e{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new ee,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=js.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=_n}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Cs(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);n!==this.width&&(this.width=n,this.dimensionsChanged.emit({width:n}),setTimeout(()=>this.updateDims()))}update(){let n=this.scale,i=this.orient===_n.Top||this.orient===_n.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=n.bandwidth?r=>{let s=n(r)+n.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let o=this.tickChunks(r).length;if(o===1)return s;let a=n.bandwidth(),l=o*8,c=a*.5-l*.5;return n(r)+c}return s}:n,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case _n.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=js.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case _n.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=js.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case _n.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=js.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case _n.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=js.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(n=>n.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(n=>n.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Do(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let n,i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[r]):(n=this.scale.domain(),n=c3(n,i)),n}getMaxTicks(n){return Math.floor(this.height/n)}tickTransform(n){return`translate(${this.adjustedScale(n)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(n){return this.trimTicks?l3(n,this.maxTickLength):n}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(n)]:u3(n,i,Math.min(r,5))}return[this.tickFormat(n)]}}return e.\u0275fac=function(n){return new(n||e)(D(qt))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,i){if(n&1&&fi(t3,5),n&2){let r;Xe(r=Qe())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ue],attrs:wte,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,i){n&1&&(z(),m(0,"g",null,0),E(2,Mte,2,2,"g",3),p(),E(3,Rte,1,2,"path",4)(4,Ote,2,2,"g",5)(5,Bte,2,1,"g",5)),n&2&&(g(2),_("ngForOf",i.ticks),g(),_("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),g(),_("ngForOf",i.ticks),g(),_("ngForOf",i.referenceLines))},dependencies:[et,de],encapsulation:2,changeDetection:0}),e})(),h3=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=_n.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ee,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(n){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===_n.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:n}){n!==this.labelOffset&&this.yOrient===_n.Right?(this.labelOffset=n+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,i){if(n&1&&fi(qV,5),n&2){let r;Xe(r=Qe())&&(i.ticksComponent=r.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ue],attrs:jte,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,i){n&1&&(z(),m(0,"g"),E(1,Hte,1,15,"g",0)(2,Ute,1,5,"g",1),p()),n&2&&(le("class",i.yAxisClassName)("transform",i.transform),g(),_("ngIf",i.yScale),g(),_("ngIf",i.showLabel))},dependencies:[qV,a3,de],encapsulation:2,changeDetection:0}),e})(),YV=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[we]]}),e})(),Fh=function(e){return e.popover="popover",e.tooltip="tooltip",e}(Fh||{}),qc=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(qc||{}),hT=(()=>{class e{constructor(n,i,r){this.tooltipService=n,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Le.Top,this.tooltipAlignment=Le.Center,this.tooltipType=Fh.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=qc.all,this.tooltipImmediateExit=!1,this.show=new ee,this.hide=new ee}get listensForFocus(){return this.tooltipShowEvent===qc.all||this.tooltipShowEvent===qc.focus}get listensForHover(){return this.tooltipShowEvent===qc.all||this.tooltipShowEvent===qc.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(n){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(n))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(n){if(this.component||this.tooltipDisabled)return;let i=n?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(n){this.mouseEnterContentEvent=this.renderer.listen(n,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(n,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{n.contains(i.target)||this.hideTooltip()}))}hideTooltip(n=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),n?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(n){return new(n||e)(D(dT),D(or),D(Pn))},e.\u0275dir=Ye({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,i){n&1&&N("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),XV=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({providers:[r3,dT],imports:[[we]]}),e})(),QV={};function tl(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,QV[e]?tl():(QV[e]=!0,e)}var an=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(an||{}),ov=(()=>{class e{constructor(){this.orientation=an.Vertical}ngOnChanges(n){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===an.Horizontal?this.x2="100%":this.orientation===an.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[Ue],attrs:$te,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,i){n&1&&(z(),m(0,"linearGradient",0),E(1,zte,1,5,"stop",1),p()),n&2&&(_("id",i.name),le("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),g(),_("ngForOf",i.stops))},dependencies:[et],encapsulation:2,changeDetection:0}),e})(),Hne=(()=>{class e{constructor(){this.select=new ee,this.activate=new ee,this.deactivate=new ee}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(n){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(n,i){n&1&&N("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[Ue],attrs:Gte,decls:1,vars:8,template:function(n,i){n&1&&(z(),R(0,"circle")),n&2&&le("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),e})(),iv=function(e){return e.Standard="standard",e.Stacked="stacked",e}(iv||{}),Une=(()=>{class e{constructor(n){this.platformId=n,this.type=iv.Standard,this.tooltipDisabled=!1,this.select=new ee,this.activate=new ee,this.deactivate=new ee,this.barVisible=!1,this.barOrientation=an,this.placementTypes=Le,this.styleTypes=Fh,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+tl().toString(),this.gradientFill=`url(#${this.gradientId})`,Rr(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){let n=this.data.series.findIndex(i=>{let r=i.name;return r&&this.visibleValue&&r.toString()===this.visibleValue.toString()&&i.value!==void 0});if(n!==-1)return this.mapDataPointToCircle(this.data.series[n],n)}mapDataPointToCircle(n,i){let r=this.data.name,s=n.value,o=n.name,a=sv(o),l;this.scaleType===ie.Time?l=this.xScale(o):this.scaleType===ie.Linear?l=this.xScale(Number(o)):l=this.xScale(o);let c=this.yScale(this.type===iv.Standard?s:n.d1),u=5,d=this.yScale.range()[0]-c,h=1,f;this.colors.scaleType===ie.Linear?this.type===iv.Standard?f=this.colors.getColor(s):f=this.colors.getColor(n.d1):f=this.colors.getColor(r);let v=Object.assign({},n,{series:r,value:s,name:o});return{classNames:[`circle-data-${i}`],value:s,label:o,data:v,cx:l,cy:c,radius:u,height:d,tooltipLabel:a,color:f,opacity:h,seriesName:r,gradientStops:this.getGradientStops(f),min:n.min,max:n.max}}getTooltipText({tooltipLabel:n,value:i,seriesName:r,min:s,max:o}){return`
      <span class="tooltip-label">${lT(r)} \u2022 ${lT(n)}</span>
      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(s,o)}</span>
    `}getTooltipMinMaxText(n,i){if(n!==void 0||i!==void 0){let r=" (";return n!==void 0?(i===void 0&&(r+="\u2265"),r+=n.toLocaleString(),i!==void 0&&(r+=" - ")):i!==void 0&&(r+="\u2264"),i!==void 0&&(r+=i.toLocaleString()),r+=")",r}else return""}getGradientStops(n){return[{offset:0,color:n,opacity:.2},{offset:100,color:n,opacity:1}]}onClick(n){this.select.emit(n)}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name)!==void 0:!1}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(n){return new(n||e)(D(qt))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[Ue],attrs:Wte,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"select","activate","deactivate","cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],[1,"tooltip-bar"]],template:function(n,i){n&1&&E(0,Qte,6,22,"g",0),n&2&&_("ngIf",i.circle)},dependencies:[ov,Hne,de,hT],encapsulation:2,data:{animation:[lo("animationState",[Fr(":enter",[Ut({opacity:0}),Nr(250,Ut({opacity:1}))])])]},changeDetection:0}),e})();var $ne=(()=>{class e{constructor(n){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new ee,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=an,this.element=n.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+tl().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){let n=gn(this.element).select(".area");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(n){return new(n||e)(D(Je))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[Ue],attrs:Zte,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,i){n&1&&(E(0,Kte,2,3,"defs",0),z(),R(1,"path",1)),n&2&&(_("ngIf",i.gradient),g(),Yt("opacity",i.opacity),le("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[ov,de],encapsulation:2,changeDetection:0}),e})();var cT;typeof window<"u"?cT=window:typeof global<"u"&&(cT=global);var ZV=cT.MouseEvent;function oT(e,t=!1,n=!0){if(typeof ZV=="function")return new ZV(e,{bubbles:t,cancelable:n});{let i=document.createEvent("MouseEvent");return i.initEvent(e,t,n),i}}var zne=(()=>{class e{constructor(n){this.platformId=n,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=Le,this.styleTypes=Fh,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new ee}getValues(n){let i=[];for(let r of this.results){let s=r.series.find(a=>a.name.toString()===n.toString()),o=r.name;if(o instanceof Date&&(o=o.toLocaleDateString()),s){let a=s.name,l=s.value;this.showPercentage&&(l=(s.d1-s.d0).toFixed(2)+"%");let c;if(this.colors.scaleType===ie.Linear){let d=l;s.d1&&(d=s.d1),c=this.colors.getColor(d)}else c=this.colors.getColor(r.name);let u=Object.assign({},s,{value:l,name:a,series:o,min:s.min,max:s.max,color:c});i.push(u)}}return i}mouseMove(n){if(!Cs(this.platformId))return;let i=n.pageX-n.target.getBoundingClientRect().left,r=this.findClosestPointIndex(i),s=this.xSet[r];if(this.anchorPos=this.xScale(s),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(s),this.anchorPos!==this.lastAnchorPos){let o=oT("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(o),this.anchorOpacity=.7,this.hover.emit({value:s}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(n){let i=0,r=this.xSet.length-1,s=Number.MAX_VALUE,o=0;for(;i<=r;){let a=(i+r)/2|0,l=this.xScale(this.xSet[a]),c=Math.abs(l-n);if(c<s&&(s=c,o=a),l<n)i=a+1;else if(l>n)r=a-1;else{s=0,o=a;break}}return o}showTooltip(){let n=oT("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(n)}hideTooltip(){let n=oT("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(n),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(n){let i="";return n.series!==void 0?i+=n.series:i+="???",i+=": ",n.value!==void 0&&(i+=n.value.toLocaleString()),(n.min!==void 0||n.max!==void 0)&&(i+=" (",n.min!==void 0?(n.max===void 0&&(i+="\u2265"),i+=n.min.toLocaleString(),n.max!==void 0&&(i+=" - ")):n.max!==void 0&&(i+="\u2264"),n.max!==void 0&&(i+=n.max.toLocaleString()),i+=")"),i}}return e.\u0275fac=function(n){return new(n||e)(D(qt))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(n,i){if(n&1&&fi(Jte,5),n&2){let r;Xe(r=Qe())&&(i.tooltipAnchor=r.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:ene,decls:6,vars:18,consts:[["defaultTooltipTemplate",""],["tooltipAnchor",""],["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(n,i){if(n&1){let r=K();z(),m(0,"g")(1,"rect",2),N("mousemove",function(o){return j(r),H(i.mouseMove(o))})("mouseleave",function(){return j(r),H(i.hideTooltip())}),p(),E(2,nne,2,1,"ng-template",null,0,rn),R(4,"rect",3,1),p()}if(n&2){let r=Pt(3);g(),le("x",0)("width",i.dims.width)("height",i.dims.height),g(3),Yt("opacity",i.anchorOpacity)("pointer-events","none"),_("@animationState",i.anchorOpacity!==0?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:r)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),le("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[et,hT],encapsulation:2,data:{animation:[lo("animationState",[Fr("inactive => active",[Ut({opacity:0}),Nr(250,Ut({opacity:.7}))]),Fr("active => inactive",[Ut({opacity:.7}),Nr(250,Ut({opacity:0}))])])]},changeDetection:0}),e})(),Gne=(()=>{class e{constructor(n,i){this.cd=i,this.height=50,this.select=new ee,this.onDomainChange=new ee,this.initialized=!1,this.element=n.nativeElement}ngOnChanges(n){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;let n=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${n})`,this.filterId="filter"+tl().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let n=[];for(let r of this.results)for(let s of r.series)n.includes(s.name)||n.push(s.name);let i=[];if(this.scaleType===ie.Time){let r=Math.min(...n),s=Math.max(...n);i=[r,s]}else if(this.scaleType===ie.Linear){n=n.map(o=>Number(o));let r=Math.min(...n),s=Math.max(...n);i=[r,s]}else i=n;return i}getXScale(){let n;return this.scaleType===ie.Time?n=Mh().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===ie.Linear?n=_r().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===ie.Ordinal&&(n=B0().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),n}addBrush(){if(this.brush)return;let n=this.height,i=this.view[0];this.brush=IS().extent([[0,0],[i,n]]).on("brush end",({selection:r})=>{let o=(r||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(o),this.cd.markForCheck()}),gn(this.element).select(".brush").call(this.brush)}updateBrush(){if(!this.brush)return;let n=this.height,i=this.view[0];this.brush.extent([[0,0],[i,n]]),gn(this.element).select(".brush").call(this.brush),gn(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck()}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(n){return new(n||e)(D(Je),D(pn))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[Ue],attrs:ine,ngContentSelectors:e3,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(n,i){n&1&&($u(),z(),m(0,"g",0)(1,"filter"),R(2,"feColorMatrix",1),p(),m(3,"g",2),zu(4),p(),R(5,"rect",3)(6,"g",4),p()),n&2&&(le("transform",i.transform),g(),le("id",i.filterId),g(4),le("width",i.view[0])("height",i.height))},styles:[`.timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}
`],encapsulation:2,changeDetection:0}),e})();var Di=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[we,YV,XV],we,YV,XV]}),e})();function f3({width:e,height:t,margins:n,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=ie.Ordinal,legendPosition:d=Io.Right,columns:h=12}){let f=n[3],v=e,b=t-n[0]-n[2];return c&&d===Io.Right&&(u===ie.Ordinal?h-=2:h-=1),v=v*h/12,v=v-n[1]-n[3],i&&(b-=5,b-=s,a&&(b-=30)),r&&(v-=5,v-=o,f+=o,f+=10,l&&(v-=30,f+=30)),v=Math.max(0,v),b=Math.max(0,b),{width:Math.floor(v),height:Math.floor(b),xOffset:Math.floor(f)}}var KV=[{name:"vivid",selectable:!0,group:ie.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:ie.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:ie.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:ie.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:ie.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:ie.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:ie.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:ie.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:ie.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:ie.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:ie.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:ie.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:ie.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:ie.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:ie.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],rv=class{constructor(t,n,i,r){typeof t=="string"&&(t=KV.find(s=>s.name===t)),this.colorDomain=t.domain,this.scaleType=n,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(t,n,this.domain)}generateColorScheme(t,n,i){typeof t=="string"&&(t=KV.find(s=>s.name===t));let r;switch(n){case ie.Quantile:r=bh().range(t.domain).domain(i);break;case ie.Ordinal:r=Ba().range(t.domain).domain(i);break;case ie.Linear:{let s=[...t.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=Pc(0,1,1/s.length);r=_r().range(s).domain(o)}break;default:break}return r}getColor(t){if(t==null)throw new Error("Value can not be null");if(this.scaleType===ie.Linear){let n=_r().domain(this.domain).range([0,1]);return this.scale(n(t))}else{if(typeof this.customColors=="function")return this.customColors(t);let n=t.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===n.toLowerCase())),i?i.value:this.scale(t)}}getLinearGradientStops(t,n){n===void 0&&(n=this.domain[0]);let i=_r().domain(this.domain).range([0,1]),r=ja().domain(this.colorDomain).range([0,1]),s=this.getColor(t),o=i(n),a=this.getColor(n),l=i(t),c=1,u=o,d=[];for(d.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){let h=this.colorDomain[c],f=r(h);if(f<=o){c++;continue}if(f.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;d.push({color:h,offset:f,opacity:1}),u=f,c++}if(d[d.length-1].offset<100&&d.push({color:s,offset:l,opacity:1}),l===o)d[0].offset=0,d[1].offset=100;else if(d[d.length-1].offset!==100)for(let h of d)h.offset=(h.offset-o)/(l-o)*100;return d}};function Wne(e){let t=new Set;for(let n of e)for(let i of n.series)t.add(i.name);return Array.from(t)}function qne(e,t=!0){return t&&e.every(r=>r instanceof Date)?ie.Time:e.every(i=>typeof i=="number")?ie.Linear:ie.Ordinal}function Yne(e,t,n="asc"){return e.sort((i,r)=>n==="asc"?i[t]-r[t]:r[t]-i[t])}function Xne(e,t,n="asc",i){return e.sort((r,s)=>{let o=r[t],a=s[t],l=i.indexOf(o),c=i.indexOf(a);return n==="asc"?l-c:c-l})}function Qne(e,t,n="asc"){return e.sort((i,r)=>{let s=i[t].getTime(),o=r[t].getTime();return n==="asc"?s>o?1:o>s?-1:0:s>o?-1:o>s?1:0})}var Zne=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})(),Kne=(()=>{class e{constructor(n){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new ee,this.activate=new ee,this.deactivate=new ee,this.hasGradient=!1,this.hideBar=!1,this.element=n.nativeElement}ngOnChanges(n){n.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+tl().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let n=gn(this.element).select(".bar"),i=this.getPath();this.animations?n.transition().duration(500).attr("d",i):n.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let n=this.getRadius(),i;return this.roundEdges?this.orientation===an.Vertical?(n=Math.min(this.height,n),i=Do(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===an.Horizontal&&(n=Math.min(this.width,n),i=Do(this.x,this.y,1,this.height,0,this.edges)):this.orientation===an.Vertical?i=Do(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===an.Horizontal&&(i=Do(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let n=this.getRadius(),i;return this.roundEdges?this.orientation===an.Vertical?(n=Math.min(this.height,n),i=Do(this.x,this.y,this.width,this.height,n,this.edges)):this.orientation===an.Horizontal&&(n=Math.min(this.width,n),i=Do(this.x,this.y,this.width,this.height,n,this.edges)):i=Do(this.x,this.y,this.width,this.height,n,this.edges),i}getRadius(){let n=0;return this.roundEdges&&this.height>5&&this.width>5&&(n=Math.floor(Math.min(5,this.height/2,this.width/2))),n}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let n=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===an.Vertical?this.data.value>0?n=[!0,!0,!1,!1]:n=[!1,!1,!0,!0]:this.orientation===an.Horizontal&&(this.data.value>0?n=[!1,!0,!1,!0]:n=[!0,!1,!0,!1])),n}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===an.Vertical&&this.height===0||this.orientation===an.Horizontal&&this.width===0)}}return e.\u0275fac=function(n){return new(n||e)(D(Je))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(n,i){n&1&&N("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[Ue],attrs:sne,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,i){n&1&&(E(0,one,2,3,"defs",0),z(),m(1,"path",1),N("click",function(){return i.select.emit(i.data)}),p()),n&2&&(_("ngIf",i.hasGradient),g(),hn("active",i.isActive)("hidden",i.hideBar),le("d",i.path)("aria-label",i.ariaLabel)("fill",i.hasGradient?i.gradientFill:i.fill))},dependencies:[ov,de],encapsulation:2,changeDetection:0}),e})(),Eo=function(e){return e.Standard="standard",e.Normalized="normalized",e.Stacked="stacked",e}(Eo||{}),Yc=function(e){return e.positive="positive",e.negative="negative",e}(Yc||{}),Jne=(()=>{class e{constructor(n){this.dimensionsChanged=new ee,this.horizontalPadding=2,this.verticalPadding=5,this.element=n.nativeElement}ngOnChanges(n){this.update()}getSize(){let n=this.element.getBoundingClientRect().height,i=this.element.getBoundingClientRect().width;return{height:n,width:i,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=sv(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return e.\u0275fac=function(n){return new(n||e)(D(Je))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[Ue],attrs:ane,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(n,i){n&1&&(z(),m(0,"text",0),y(1),p()),n&2&&(le("text-anchor",i.textAnchor)("transform",i.transform)("x",i.x)("y",i.y),g(),J(" ",i.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})();var eie=(()=>{class e{constructor(n){this.platformId=n,this.type=Eo.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new ee,this.activate=new ee,this.deactivate=new ee,this.dataLabelHeightChanged=new ee,this.barsForDataLabels=[],this.barOrientation=an,this.isSSR=!1}ngOnInit(){Rr(this.platformId)&&(this.isSSR=!0)}ngOnChanges(n){this.update()}update(){this.updateTooltipSettings();let n;this.series.length&&(n=this.xScale.bandwidth()),n=Math.round(n);let i=Math.max(this.yScale.domain()[0],0),r={[Yc.positive]:0,[Yc.negative]:0},s=Yc.positive,o;this.type===Eo.Normalized&&(o=this.series.map(a=>a.value).reduce((a,l)=>a+l,0)),this.bars=this.series.map((a,l)=>{let c=a.value,u=this.getLabel(a),d=sv(u),h=this.roundEdges;s=c>0?Yc.positive:Yc.negative;let f={value:c,label:u,roundEdges:h,data:a,width:n,formattedLabel:d,height:0,x:0,y:0};if(this.type===Eo.Standard)f.height=Math.abs(this.yScale(c)-this.yScale(i)),f.x=this.xScale(u),c<0?f.y=this.yScale(0):f.y=this.yScale(c);else if(this.type===Eo.Stacked){let b=r[s],x=b+c;r[s]+=c,f.height=this.yScale(b)-this.yScale(x),f.x=0,f.y=this.yScale(x),f.offset0=b,f.offset1=x}else if(this.type===Eo.Normalized){let b=r[s],x=b+c;r[s]+=c,o>0?(b=b*100/o,x=x*100/o):(b=0,x=0),f.height=this.yScale(b)-this.yScale(x),f.x=0,f.y=this.yScale(x),f.offset0=b,f.offset1=x,c=(x-b).toFixed(2)+"%"}this.colors.scaleType===ie.Ordinal?f.color=this.colors.getColor(u):this.type===Eo.Standard?(f.color=this.colors.getColor(c),f.gradientStops=this.colors.getLinearGradientStops(c)):(f.color=this.colors.getColor(f.offset1),f.gradientStops=this.colors.getLinearGradientStops(f.offset1,f.offset0));let v=d;return f.ariaLabel=d+" "+c.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(v=`${this.seriesName} \u2022 ${d}`,f.data.series=this.seriesName,f.ariaLabel=this.seriesName+" "+f.ariaLabel),f.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${lT(v)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(c):c.toLocaleString()}</span>
      `,f}),this.updateDataLabels()}updateDataLabels(){if(this.type===Eo.Stacked){this.barsForDataLabels=[];let n={};n.series=this.seriesName;let i=this.series.map(s=>s.value).reduce((s,o)=>o>0?s+o:s,0),r=this.series.map(s=>s.value).reduce((s,o)=>o<0?s+o:s,0);n.total=i+r,n.x=0,n.y=0,n.total>0?n.height=this.yScale(i):n.height=this.yScale(r),n.width=this.xScale.bandwidth(),this.barsForDataLabels.push(n)}else this.barsForDataLabels=this.series.map(n=>{let i={};return i.series=this.seriesName??n.label,i.total=n.value,i.x=this.xScale(n.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:Le.Top,this.tooltipType=this.tooltipDisabled?void 0:Fh.tooltip}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name&&n.value===r.value)!==void 0:!1}onClick(n){this.select.emit(n)}getLabel(n){return n.label?n.label:n.name}trackBy(n,i){return i.label}trackDataLabelBy(n,i){return n+"#"+i.series+"#"+i.total}}return e.\u0275fac=function(n){return new(n||e)(D(qt))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[Ue],attrs:lne,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(n,i){n&1&&E(0,une,2,2,"g",0)(1,hne,2,2,"g",0)(2,pne,2,2,"g",0),n&2&&(_("ngIf",!i.isSSR),g(),_("ngIf",i.isSSR),g(),_("ngIf",i.showDataLabel))},dependencies:[Kne,Jne,de,et,hT],encapsulation:2,data:{animation:[lo("animationState",[Fr(":leave",[Ut({opacity:1}),Nr(500,Ut({opacity:0}))])])]},changeDetection:0}),e})(),p3=(()=>{class e extends o3{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Io.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new ee,this.deactivate=new ee,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=f3({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();let n=this.xDomain.length/(this.dims.width/this.barPadding+1);return ja().range([0,this.dims.width]).paddingInner(n).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let n=_r().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?n.nice():n}getXDomain(){return this.results.map(n=>n.label)}getYDomain(){let n=this.results.map(s=>s.value),i=this.yScaleMin?Math.min(this.yScaleMin,...n):Math.min(0,...n);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let r=this.yScaleMax?Math.max(this.yScaleMax,...n):Math.max(0,...n);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(r=Math.max(r,...this.yAxisTicks)),[i,r]}onClick(n){this.select.emit(n)}setColors(){let n;this.schemeType===ie.Ordinal?n=this.xDomain:n=this.yDomain,this.colors=new rv(this.scheme,this.schemeType,n,this.customColors)}getLegendOptions(){let n={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return n.scaleType===ie.Ordinal?(n.domain=this.xDomain,n.colors=this.colors,n.title=this.legendTitle):(n.domain=this.yDomain,n.colors=this.colors.scale),n}updateYAxisWidth({width:n}){this.yAxisWidth=n,this.update()}updateXAxisHeight({height:n}){this.xAxisHeight=n,this.update()}onDataLabelMaxHeightChanged(n){n.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,n.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,n.size.height),n.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(n,i=!1){n=this.results.find(s=>i?s.label===n.name:s.name===n.name),!(this.activeEntries.findIndex(s=>s.name===n.name&&s.value===n.value&&s.series===n.series)>-1)&&(this.activeEntries=[n,...this.activeEntries],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n,i=!1){n=this.results.find(s=>i?s.label===n.name:s.name===n.name);let r=this.activeEntries.findIndex(s=>s.name===n.name&&s.value===n.value&&s.series===n.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}}return e.\u0275fac=(()=>{let t;return function(i){return(t||(t=qn(e)))(i||e)}})(),e.\u0275cmp=X({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(n,i,r){if(n&1&&Lt(r,n3,5),n&2){let s;Xe(s=Qe())&&(i.tooltipTemplate=s.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[nn],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks"]],template:function(n,i){n&1&&(m(0,"ngx-charts-chart",0),N("legendLabelClick",function(s){return i.onClick(s)})("legendLabelActivate",function(s){return i.onActivate(s,!0)})("legendLabelDeactivate",function(s){return i.onDeactivate(s,!0)}),z(),m(1,"g",1),E(2,mne,1,12,"g",2)(3,gne,1,10,"g",3),m(4,"g",4),N("activate",function(s){return i.onActivate(s)})("deactivate",function(s){return i.onDeactivate(s)})("select",function(s){return i.onClick(s)})("dataLabelHeightChanged",function(s){return i.onDataLabelMaxHeightChanged(s)}),p()()()),n&2&&(_("view",lm(22,uT,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),g(),le("transform",i.transform),g(),_("ngIf",i.xAxis),g(),_("ngIf",i.yAxis),g(),_("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("series",i.results)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("activeEntries",i.activeEntries)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero))},dependencies:[s3,d3,h3,eie,de],styles:[i3],encapsulation:2,changeDetection:0}),e})();var m3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})(),wIe=(0,JV.default)();var tie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})();var nie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})();var iie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})(),rie=(()=>{class e{constructor(n,i){this.element=n,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){Rr(this.platformId)&&(this.isSSR=!0)}ngOnChanges(n){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){let n=gn(this.element.nativeElement).select(".line");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path)}}return e.\u0275fac=function(n){return new(n||e)(D(Je),D(qt))},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[Ue],attrs:vne,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(n,i){n&1&&E(0,yne,2,4,"g",0)(1,_ne,2,3,"g",0),n&2&&(_("ngIf",!i.isSSR),g(),_("ngIf",i.isSSR))},dependencies:[de],encapsulation:2,data:{animation:[lo("animationState",[Fr(":enter",[Ut({strokeDasharray:2e3,strokeDashoffset:2e3}),Nr(1e3,Ut({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),sie=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=an}ngOnChanges(n){this.update()}update(){this.updateGradients();let n=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(n)||"";let r=this.getAreaGenerator();if(this.areaPath=r(n)||"",this.hasRange){let s=this.getRangeGenerator();this.outerPath=s(n)||""}if(this.hasGradient){this.stroke=this.gradientUrl;let s=this.data.series.map(l=>l.value),o=Math.max(...s),a=Math.min(...s);o===a&&(this.stroke=this.colors.getColor(o))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return Rh().x(n=>{let i=n.name,r;return this.scaleType===ie.Time?r=this.xScale(i):this.scaleType===ie.Linear?r=this.xScale(Number(i)):r=this.xScale(i),r}).y(n=>this.yScale(n.value)).curve(this.curve)}getRangeGenerator(){return nv().x(n=>{let i=n.name,r;return this.scaleType===ie.Time?r=this.xScale(i):this.scaleType===ie.Linear?r=this.xScale(Number(i)):r=this.xScale(i),r}).y0(n=>this.yScale(typeof n.min=="number"?n.min:n.value)).y1(n=>this.yScale(typeof n.max=="number"?n.max:n.value)).curve(this.curve)}getAreaGenerator(){let n=i=>{let r=i.name;return this.xScale(r)};return nv().x(n).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(n){return this.scaleType===ie.Linear?n=Yne(n,"name"):this.scaleType===ie.Time?n=Qne(n,"name"):n=Xne(n,"name","asc",this.xScale.domain()),n}updateGradients(){if(this.colors.scaleType===ie.Linear){this.hasGradient=!0,this.gradientId="grad"+tl().toString(),this.gradientUrl=`url(#${this.gradientId})`;let n=this.data.series.map(s=>s.value),i=Math.max(...n),r=Math.min(...n);this.gradientStops=this.colors.getLinearGradientStops(i,r),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(n){return this.activeEntries?this.activeEntries.find(r=>n.name===r.name)!==void 0:!1}isInactive(n){return!this.activeEntries||this.activeEntries.length===0?!1:this.activeEntries.find(r=>n.name===r.name)===void 0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[Ue],attrs:xne,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(n,i){n&1&&(z(),m(0,"g")(1,"defs"),E(2,bne,1,3,"g",0),p(),R(3,"g",1)(4,"g",2),E(5,Cne,1,9,"g",3),p()),n&2&&(g(2),_("ngIf",i.hasGradient),g(),hn("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),_("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),g(),hn("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),_("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),g(),_("ngIf",i.hasRange))},dependencies:[ov,$ne,rie,de],encapsulation:2,changeDetection:0}),e})(),g3=(()=>{class e extends o3{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Io.Right,this.showGridLines=!0,this.curve=el,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new ee,this.deactivate=new ee,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){Rr(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=f3({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+tl().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let n=Wne(this.results);this.scaleType=qne(n);let i=[];this.scaleType===ie.Linear&&(n=n.map(o=>Number(o)));let r,s;return(this.scaleType===ie.Time||this.scaleType===ie.Linear)&&(r=this.xScaleMin?this.xScaleMin:Math.min(...n),s=this.xScaleMax?this.xScaleMax:Math.max(...n)),this.scaleType===ie.Time?(i=[new Date(r),new Date(s)],this.xSet=[...n].sort((o,a)=>{let l=o.getTime(),c=a.getTime();return l>c?1:c>l?-1:0})):this.scaleType===ie.Linear?(i=[r,s],this.xSet=[...n].sort((o,a)=>o-a)):(i=n,this.xSet=n),i}getYDomain(){let n=[];for(let o of this.results)for(let a of o.series)n.indexOf(a.value)<0&&n.push(a.value),a.min!==void 0&&(this.hasRange=!0,n.indexOf(a.min)<0&&n.push(a.min)),a.max!==void 0&&(this.hasRange=!0,n.indexOf(a.max)<0&&n.push(a.max));let i=[...n];this.autoScale||i.push(0);let r=this.yScaleMin?this.yScaleMin:Math.min(...i),s=this.yScaleMax?this.yScaleMax:Math.max(...i);return[r,s]}getSeriesDomain(){return this.results.map(n=>n.name)}getXScale(n,i){let r;return this.scaleType===ie.Time?r=Mh().range([0,i]).domain(n):this.scaleType===ie.Linear?(r=_r().range([0,i]).domain(n),this.roundDomains&&(r=r.nice())):this.scaleType===ie.Ordinal&&(r=B0().range([0,i]).padding(.1).domain(n)),r}getYScale(n,i){let r=_r().range([i,0]).domain(n);return this.roundDomains?r.nice():r}updateDomain(n){this.filteredDomain=n,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(n){this.hoveredVertical=n.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(n){this.select.emit(n)}trackBy(n,i){return`${i.name}`}setColors(){let n;this.schemeType===ie.Ordinal?n=this.seriesDomain:n=this.yDomain,this.colors=new rv(this.scheme,this.schemeType,n,this.customColors)}getLegendOptions(){let n={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return n.scaleType===ie.Ordinal?(n.domain=this.seriesDomain,n.colors=this.colors,n.title=this.legendTitle):(n.domain=this.yDomain,n.colors=this.colors.scale),n}updateYAxisWidth({width:n}){this.yAxisWidth=n,this.update()}updateXAxisHeight({height:n}){this.xAxisHeight=n,this.update()}onActivate(n){this.deactivateAll(),!(this.activeEntries.findIndex(r=>r.name===n.name&&r.value===n.value)>-1)&&(this.activeEntries=[n],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n){let i=this.activeEntries.findIndex(r=>r.name===n.name&&r.value===n.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(let n of this.activeEntries)this.deactivate.emit({value:n,entries:[]});this.activeEntries=[]}}return e.\u0275fac=(()=>{let t;return function(i){return(t||(t=qn(e)))(i||e)}})(),e.\u0275cmp=X({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(n,i,r){if(n&1&&(Lt(r,n3,5),Lt(r,rne,5)),n&2){let s;Xe(s=Qe())&&(i.tooltipTemplate=s.first),Xe(s=Qe())&&(i.seriesTooltipTemplate=s.first)}},hostBindings:function(n,i){n&1&&N("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[nn],decls:12,vars:20,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"hover","dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"select","activate","deactivate","xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate"],["ngx-charts-timeline","",3,"onDomainChange","results","view","height","scheme","customColors","scaleType","legend"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(n,i){n&1&&(m(0,"ngx-charts-chart",0),N("legendLabelClick",function(s){return i.onClick(s)})("legendLabelActivate",function(s){return i.onActivate(s)})("legendLabelDeactivate",function(s){return i.onDeactivate(s)}),z(),m(1,"defs")(2,"clipPath"),R(3,"rect"),p()(),m(4,"g",1),E(5,wne,1,11,"g",2)(6,Sne,1,13,"g",3),m(7,"g"),E(8,Dne,2,2,"g",4)(9,Ane,2,2,"g",4)(10,kne,3,9,"g",5),p()(),E(11,Rne,2,13,"g",6),p()),n&2&&(_("view",lm(17,uT,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),g(2),le("id",i.clipPathId),g(),le("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),g(),le("transform",i.transform),g(),_("ngIf",i.xAxis),g(),_("ngIf",i.yAxis),g(),le("clip-path",i.clipPath),g(),_("ngIf",!i.isSSR),g(),_("ngIf",i.isSSR),g(),_("ngIf",!i.tooltipDisabled),g(),_("ngIf",i.timeline&&i.scaleType!="ordinal"))},dependencies:[s3,d3,h3,sie,zne,Une,Gne,de,et],styles:[i3],encapsulation:2,data:{animation:[lo("animationState",[Fr(":leave",[Ut({opacity:1}),Nr(500,Ut({opacity:0}))])])]},changeDetection:0}),e})(),v3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})();var SIe=2*Math.PI;var fT=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})(),oie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di,fT,v3]]}),e})();var aie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})();var lie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})();var cie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di,fT,m3]]}),e})();function uie(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var die=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[Di]]}),e})(),y3=(()=>{class e{constructor(){uie()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[Di,Zne,m3,tie,nie,iie,die,v3,oie,aie,fT,lie,cie]}),e})();var Xc=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.adminApiUrl=`${bt.apiUrl}/admin/dashboard`,this.doctorApiUrl=`${bt.apiUrl}/doctor/dashboard`,this.secretaryApiUrl=`${bt.apiUrl}/secretary/dashboard`}getAdminStats(){return this.http.get(`${this.adminApiUrl}/stats`,{headers:this.authService.getAuthHeaders()})}getAdminRevenueOverview(n){let i=new Vt;return n&&(i=i.set("year",n.toString())),this.http.get(`${this.adminApiUrl}/revenue-overview`,{headers:this.authService.getAuthHeaders(),params:i})}getAdminWeeklyAppointments(n){let i=new Vt;return n&&(i=i.set("startDate",n)),this.http.get(`${this.adminApiUrl}/weekly-appointments`,{headers:this.authService.getAuthHeaders(),params:i})}getDoctorStats(){return this.http.get(`${this.doctorApiUrl}/stats`,{headers:this.authService.getAuthHeaders()})}getDoctorTodayAppointments(){return this.http.get(`${this.doctorApiUrl}/today-appointments`,{headers:this.authService.getAuthHeaders()})}getSecretaryStats(){return this.http.get(`${this.secretaryApiUrl}/stats`,{headers:this.authService.getAuthHeaders()})}getSecretaryTodayAppointments(){return this.http.get(`${this.secretaryApiUrl}/today-appointments`,{headers:this.authService.getAuthHeaders()})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fie(e,t){e&1&&(m(0,"div",6)(1,"p",7),y(2,"Loading dashboard data..."),p()())}function pie(e,t){if(e&1){let n=K();m(0,"button",10),N("click",function(){j(n);let r=S(2);return H(r.loadDashboardData())}),y(1,"Retry"),p()}}function mie(e,t){if(e&1&&(m(0,"div",8),y(1),E(2,pie,2,0,"button",9),p()),e&2){let n=S();g(),J(" ",n.errorMessage," "),g(),_("ngIf",!n.errorMessage.startsWith("Access Denied"))}}function gie(e,t){if(e&1){let n=K();m(0,"div",32)(1,"ngx-charts-bar-vertical",33),N("select",function(r){j(n);let s=S(2);return H(s.onChartSelect(r))}),p()()}if(e&2){let n=S(2);g(),_("view",n.revenueView)("scheme",n.revenueColorScheme)("results",n.revenueChartData)("gradient",n.revenueGradient)("xAxis",n.revenueShowXAxis)("yAxis",n.revenueShowYAxis)("legend",!1)("showXAxisLabel",n.revenueShowXAxisLabel)("showYAxisLabel",n.revenueShowYAxisLabel)("xAxisLabel",n.revenueXAxisLabel)("yAxisLabel",n.revenueYAxisLabel)}}function vie(e,t){e&1&&(m(0,"p",34),y(1,"No revenue data available."),p())}function yie(e,t){if(e&1){let n=K();m(0,"div",32)(1,"ngx-charts-line-chart",35),N("select",function(r){j(n);let s=S(2);return H(s.onChartSelect(r))}),p()()}if(e&2){let n=S(2);g(),_("view",n.appointmentsView)("scheme",n.appointmentsColorScheme)("results",n.appointmentsChartData)("gradient",n.appointmentsGradient)("xAxis",n.appointmentsShowXAxis)("yAxis",n.appointmentsShowYAxis)("legend",!1)("showXAxisLabel",n.appointmentsShowXAxisLabel)("showYAxisLabel",n.appointmentsShowYAxisLabel)("xAxisLabel",n.appointmentsXAxisLabel)("yAxisLabel",n.appointmentsYAxisLabel)("autoScale",n.appointmentsAutoScale)}}function _ie(e,t){e&1&&(m(0,"p",34),y(1,"No appointment data available."),p())}function xie(e,t){if(e&1&&(m(0,"div")(1,"div",11)(2,"div",12)(3,"div",13),z(),m(4,"svg",14),R(5,"path",15),p()(),sr(),m(6,"div")(7,"p",16),y(8,"Total Patients"),p(),m(9,"p",17),y(10),p()()(),m(11,"div",12)(12,"div",18),z(),m(13,"svg",14),R(14,"path",19),p()(),sr(),m(15,"div")(16,"p",16),y(17,"Appointments Today"),p(),m(18,"p",17),y(19),p()()(),m(20,"div",12)(21,"div",20),z(),m(22,"svg",14),R(23,"path",21),p()(),sr(),m(24,"div")(25,"p",16),y(26,"Monthly Revenue"),p(),m(27,"p",17),y(28),ct(29,"currency"),p()()(),m(30,"div",12)(31,"div",13),z(),m(32,"svg",14),R(33,"path",22),p()(),sr(),m(34,"div")(35,"p",16),y(36,"Active Staff"),p(),m(37,"p",17),y(38),p()()()(),m(39,"div",23)(40,"div",24)(41,"h3",25),y(42,"Revenue Overview (Current Year)"),p(),E(43,gie,2,11,"div",26)(44,vie,2,0,"p",27),p(),m(45,"div",24)(46,"h3",25),y(47,"Weekly Appointments (Current Week)"),p(),E(48,yie,2,12,"div",26)(49,_ie,2,0,"p",27),p()(),m(50,"div",28)(51,"h3",29),y(52,"Account Management"),p(),m(53,"a",30),y(54," Manage Users (Doctors/Secretaries) "),p()(),m(55,"div",31)(56,"div",24)(57,"h3",25),y(58,"Recent Staff Activity (Placeholder)"),p(),m(59,"p",7),y(60,"List of recent actions will go here..."),p()(),m(61,"div",24)(62,"h3",25),y(63,"Upcoming Tasks (Placeholder)"),p(),m(64,"p",7),y(65,"List of tasks will go here..."),p()()()()),e&2){let n,i,r,s,o=S();g(10),te((n=o.stats==null?null:o.stats.totalPatients)!==null&&n!==void 0?n:"N/A"),g(9),te((i=o.stats==null?null:o.stats.appointmentsToday)!==null&&i!==void 0?i:"N/A"),g(9),te(cm(29,8,(r=o.stats==null?null:o.stats.monthlyRevenue)!==null&&r!==void 0?r:0,"USD","symbol")),g(10),te((s=o.stats==null?null:o.stats.activeStaff)!==null&&s!==void 0?s:"N/A"),g(5),_("ngIf",o.revenueChartData.length>0),g(),_("ngIf",o.revenueChartData.length===0),g(4),_("ngIf",o.appointmentsChartData.length>0),g(),_("ngIf",o.appointmentsChartData.length===0)}}var _3=(()=>{class e{constructor(n){this.dashboardService=n,this.isLoading=!0,this.errorMessage=null,this.stats=null,this.revenueChartData=[],this.appointmentsChartData=[],this.revenueView=[700,300],this.revenueColorScheme={name:"revenueScheme",selectable:!0,group:ie.Ordinal,domain:["#5AA454","#A10A28","#C7B42C","#AAAAAA"]},this.revenueGradient=!1,this.revenueShowXAxis=!0,this.revenueShowYAxis=!0,this.revenueShowXAxisLabel=!0,this.revenueXAxisLabel="Month",this.revenueShowYAxisLabel=!0,this.revenueYAxisLabel="Revenue ($)",this.appointmentsView=[700,300],this.appointmentsColorScheme={name:"appointmentScheme",selectable:!0,group:ie.Ordinal,domain:["#3B82F6","#10B981","#F59E0B","#EF4444"]},this.appointmentsGradient=!1,this.appointmentsShowXAxis=!0,this.appointmentsShowYAxis=!0,this.appointmentsShowXAxisLabel=!0,this.appointmentsXAxisLabel="Day of Week",this.appointmentsShowYAxisLabel=!0,this.appointmentsYAxisLabel="Appointments",this.appointmentsAutoScale=!0}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.isLoading=!0,this.errorMessage=null,Cu({stats:this.dashboardService.getAdminStats(),revenue:this.dashboardService.getAdminRevenueOverview(),appointments:this.dashboardService.getAdminWeeklyAppointments()}).pipe(fe(({stats:n,revenue:i,appointments:r})=>{let s=this.transformObjectToChartData(i),o=this.transformObjectToChartData(r);return{stats:n,revenueChartData:s,appointmentsChartData:o}})).subscribe({next:n=>{this.stats=n.stats,this.revenueChartData=n.revenueChartData,this.appointmentsChartData=n.appointmentsChartData,this.isLoading=!1},error:n=>{console.error("Error loading admin dashboard data:",n),this.errorMessage="Failed to load dashboard data. Please try again.",n.status===403&&(this.errorMessage="Access Denied: You do not have permission to view dashboard data."),this.isLoading=!1}})}transformObjectToChartData(n){return Object.entries(n).map(([i,r])=>({name:i,value:r}))}onChartSelect(n){console.log("Chart event:",n)}static{this.\u0275fac=function(i){return new(i||e)(D(Xc))}}static{this.\u0275cmp=X({type:e,selectors:[["app-admin-dashboard"]],standalone:!0,features:[Te],decls:8,vars:3,consts:[[1,"p-6"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],[1,"text-gray-600","mb-6"],["class","text-center py-10",4,"ngIf"],["class","p-4 mb-6 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-10"],[1,"text-gray-500"],[1,"p-4","mb-6","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],["class","ml-2 px-2 py-1 text-xs font-medium text-red-800 bg-red-200 rounded hover:bg-red-300",3,"click",4,"ngIf"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-md","flex","items-center","space-x-4"],[1,"p-3","rounded-full","bg-primary-100","text-primary-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-semibold","text-gray-800"],[1,"p-3","rounded-full","bg-green-100","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"p-3","rounded-full","bg-yellow-100","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],["class","chart-container",4,"ngIf"],["class","text-center text-gray-500 py-4",4,"ngIf"],[1,"bg-white","p-6","rounded-lg","shadow-md","mb-8"],[1,"text-lg","font-medium","text-gray-700"],["routerLink","/admin/users",1,"inline-block","mt-2","px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","rounded-md","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"chart-container"],[3,"select","view","scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel"],[1,"text-center","text-gray-500","py-4"],[3,"select","view","scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h2",1),y(2,"Admin Dashboard"),p(),m(3,"p",2),y(4,"Overview of clinic performance and statistics"),p(),E(5,fie,3,0,"div",3)(6,mie,3,2,"div",4)(7,xie,66,12,"div",5),p()),i&2&&(g(5),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage))},dependencies:[we,de,Em,Vi,y3,p3,g3]})}}return e})();var Qc=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.apiUrl=`${bt.apiUrl}/appointments`}getAppointments(){return this.http.get(this.apiUrl,{headers:this.authService.getAuthHeaders()})}getAppointmentsInRange(n,i){let r=new Vt().set("start",n.toISOString()).set("end",i.toISOString());return this.http.get(this.apiUrl,{headers:this.authService.getAuthHeaders(),params:r})}getAppointmentsByDoctor(n){return this.http.get(`${this.apiUrl}/doctor/${n}`,{headers:this.authService.getAuthHeaders()})}getAppointmentsByPatient(n){return this.http.get(`${this.apiUrl}/patient/${n}`,{headers:this.authService.getAuthHeaders()})}getAppointmentById(n){return this.http.get(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}createAppointment(n){let d=n,{id:i,patientFirstName:r,patientLastName:s,doctorFirstName:o,doctorLastName:a,createdAt:l,updatedAt:c}=d,u=ln(d,["id","patientFirstName","patientLastName","doctorFirstName","doctorLastName","createdAt","updatedAt"]);return this.http.post(this.apiUrl,u,{headers:this.authService.getAuthHeaders()})}updateAppointment(n,i){let d=i,{patientFirstName:r,patientLastName:s,doctorFirstName:o,doctorLastName:a,createdAt:l,updatedAt:c}=d,u=ln(d,["patientFirstName","patientLastName","doctorFirstName","doctorLastName","createdAt","updatedAt"]);return this.http.put(`${this.apiUrl}/${n}`,u,{headers:this.authService.getAuthHeaders()})}cancelAppointment(n){return this.http.post(`${this.apiUrl}/${n}/cancel`,{},{headers:this.authService.getAuthHeaders()})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var bie=(e,t,n)=>({"bg-green-100 text-green-800":e,"bg-primary-100 text-primary-800":t,"bg-red-100 text-red-800":n});function Cie(e,t){e&1&&(m(0,"div",7)(1,"p",8),y(2,"Loading dashboard data..."),p()())}function wie(e,t){if(e&1){let n=K();m(0,"div",9),y(1),m(2,"button",10),N("click",function(){j(n);let r=S();return H(r.loadDashboardData())}),y(3,"Retry"),p()()}if(e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function Sie(e,t){if(e&1){let n=K();m(0,"button",30),N("click",function(){j(n);let r=S().$implicit,s=S(4);return H(s.checkIn(r.id))}),y(1,"Check In"),p()}}function Tie(e,t){if(e&1){let n=K();m(0,"li",21)(1,"div",22)(2,"div",23),y(3),p(),m(4,"div")(5,"p",24),y(6),p(),m(7,"p",25),y(8),ct(9,"date"),ct(10,"date"),p(),m(11,"p",25),y(12),p()()(),m(13,"div",26)(14,"span",27),y(15),p(),E(16,Sie,2,0,"button",28),m(17,"button",29),N("click",function(){let r=j(n).$implicit,s=S(4);return H(s.viewPatient(r.patientId))}),y(18,"View"),p()()()}if(e&2){let n=t.$implicit;g(3),jt(" ",n.patientFirstName==null?null:n.patientFirstName.charAt(0),"",n.patientLastName==null?null:n.patientLastName.charAt(0)," "),g(3),jt("",n.patientFirstName," ",n.patientLastName,""),g(2),jt("",fn(9,10,n.startTime,"shortTime")," - ",fn(10,13,n.endTime,"shortTime"),""),g(4),te(n.notes||"No description"),g(2),_("ngClass",Li(16,bie,n.status==="COMPLETED",n.status==="SCHEDULED",n.status==="CANCELLED"||n.status==="NO_SHOW")),g(),J(" ",n.status," "),g(),_("ngIf",n.status==="SCHEDULED")}}function Die(e,t){if(e&1&&(m(0,"ul",19),E(1,Tie,19,20,"li",20),p()),e&2){let n=S().ngIf;g(),_("ngForOf",n)}}function Eie(e,t){if(e&1&&(m(0,"div"),E(1,Die,2,1,"ul",18),p()),e&2){let n=t.ngIf;S();let i=Pt(30);g(),_("ngIf",n.length>0)("ngIfElse",i)}}function Aie(e,t){e&1&&(m(0,"p",31),y(1,"No appointments scheduled for today."),p())}function Iie(e,t){if(e&1&&(m(0,"div")(1,"div",11)(2,"div",12)(3,"p",13),y(4,"Today's Appointments"),p(),m(5,"p",14),y(6),p()(),m(7,"div",12)(8,"p",13),y(9,"Total Patients"),p(),m(10,"p",14),y(11),p()(),m(12,"div",12)(13,"p",13),y(14,"Pending Prescriptions"),p(),m(15,"p",14),y(16),p(),m(17,"p",15),y(18,"Needs your review"),p()(),m(19,"div",12)(20,"p",13),y(21,"Next Appointment"),p(),m(22,"p",14),y(23),p()()(),m(24,"div",12)(25,"h3",16),y(26,"Appointments for Today"),p(),E(27,Eie,2,2,"div",17),ct(28,"async"),E(29,Aie,2,0,"ng-template",null,0,rn),p()()),e&2){let n,i,r,s,o=Pt(30),a=S();g(6),te((n=a.stats==null?null:a.stats.appointmentsToday)!==null&&n!==void 0?n:"N/A"),g(5),te((i=a.stats==null?null:a.stats.totalPatients)!==null&&i!==void 0?i:"N/A"),g(5),te((r=a.stats==null?null:a.stats.pendingPrescriptions)!==null&&r!==void 0?r:"N/A"),g(7),te((s=a.stats==null?null:a.stats.nextAppointmentTime)!==null&&s!==void 0?s:"N/A"),g(4),_("ngIf",Vn(28,6,a.todayAppointments$))("ngIfElse",o)}}var x3=(()=>{class e{constructor(n,i,r){this.dashboardService=n,this.appointmentService=i,this.authService=r,this.isLoading=!0,this.errorMessage=null,this.currentUserName="",this.stats=null}ngOnInit(){this.currentUserName=this.authService.getCurrentUserValue()?.firstName??"Doctor",this.loadDashboardData()}loadDashboardData(){this.isLoading=!0,this.errorMessage=null,this.todayAppointments$=this.dashboardService.getDoctorTodayAppointments(),this.dashboardService.getDoctorStats().subscribe({next:n=>{this.stats=n,this.isLoading=!1},error:n=>{console.error("Error loading doctor dashboard stats:",n),this.errorMessage="Failed to load dashboard statistics.",n.status===403&&(this.errorMessage="Access Denied: You do not have permission to view this dashboard."),this.isLoading=!1}}),this.todayAppointments$?this.todayAppointments$.subscribe({error:n=>{console.error("Error loading today's appointments:",n),this.errorMessage=(this.errorMessage?this.errorMessage+" ":"")+"Failed to load today's appointments.",this.stats||(this.isLoading=!1)}}):(this.errorMessage="Failed to initialize appointments loading.",this.isLoading=!1)}checkIn(n){n&&(console.log("Checking in appointment:",n),alert("Check-in functionality not yet implemented."))}viewPatient(n){n&&(console.log("Viewing patient:",n),alert("Navigate to patient detail view not yet implemented."))}static{this.\u0275fac=function(i){return new(i||e)(D(Xc),D(Qc),D($e))}}static{this.\u0275cmp=X({type:e,selectors:[["app-doctor-dashboard"]],standalone:!0,features:[Te],decls:8,vars:4,consts:[["noAppointments",""],[1,"p-6"],[1,"text-2xl","font-semibold","text-gray-800","mb-2"],[1,"text-gray-600","mb-6"],["class","text-center py-10",4,"ngIf"],["class","p-4 mb-6 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-10"],[1,"text-gray-500"],[1,"p-4","mb-6","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-3xl","font-semibold","text-gray-800","mt-1"],[1,"text-xs","text-red-500","mt-1"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],[4,"ngIf","ngIfElse"],["class","space-y-4",4,"ngIf","ngIfElse"],[1,"space-y-4"],["class","flex items-center justify-between p-4 border border-gray-200 rounded-md hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-4","border","border-gray-200","rounded-md","hover:bg-gray-50"],[1,"flex","items-center","space-x-4"],[1,"w-10","h-10","rounded-full","bg-gray-200","flex","items-center","justify-center","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","space-x-2"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],["class","px-2 py-1 text-xs font-medium text-white bg-green-600 rounded hover:bg-green-700",3,"click",4,"ngIf"],[1,"px-2","py-1","text-xs","font-medium","text-primary-700","bg-primary-100","rounded","hover:bg-primary-200",3,"click"],[1,"px-2","py-1","text-xs","font-medium","text-white","bg-green-600","rounded","hover:bg-green-700",3,"click"],[1,"text-center","text-gray-500","py-4"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"h2",2),y(2,"Doctor Dashboard"),p(),m(3,"p",3),y(4),p(),E(5,Cie,3,0,"div",4)(6,wie,4,1,"div",5)(7,Iie,31,8,"div",6),p()),i&2&&(g(4),J("Welcome back, ",r.currentUserName,"!"),g(),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage))},dependencies:[we,Ct,et,de,Qn,Zn]})}}return e})();var kie=(e,t,n)=>({"bg-green-100 text-green-800":e,"bg-primary-100 text-primary-800":t,"bg-red-100 text-red-800":n});function Mie(e,t){e&1&&(m(0,"div",7)(1,"p",8),y(2,"Loading dashboard data..."),p()())}function Rie(e,t){if(e&1){let n=K();m(0,"div",9),y(1),m(2,"button",10),N("click",function(){j(n);let r=S();return H(r.loadDashboardData())}),y(3,"Retry"),p()()}if(e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function Lie(e,t){if(e&1){let n=K();m(0,"button",32),N("click",function(){j(n);let r=S().$implicit,s=S(4);return H(s.checkIn(r.id))}),y(1,"Check In"),p()}}function Nie(e,t){if(e&1){let n=K();m(0,"li",23)(1,"div",24)(2,"div",25),y(3),p(),m(4,"div")(5,"p",26),y(6),p(),m(7,"p",27),y(8),ct(9,"date"),ct(10,"date"),p(),m(11,"p",27),y(12),p()()(),m(13,"div",28)(14,"span",29),y(15),p(),E(16,Lie,2,0,"button",30),m(17,"button",31),N("click",function(){let r=j(n).$implicit,s=S(4);return H(s.editAppointment(r.id))}),y(18,"Edit"),p()()()}if(e&2){let n=t.$implicit;g(3),jt(" ",n.patientFirstName==null?null:n.patientFirstName.charAt(0),"",n.patientLastName==null?null:n.patientLastName.charAt(0)," "),g(3),jt("",n.patientFirstName," ",n.patientLastName,""),g(2),jt("",fn(9,10,n.startTime,"shortTime")," - ",fn(10,13,n.endTime,"shortTime"),""),g(4),J("Dr. ",n.doctorLastName,""),g(2),_("ngClass",Li(16,kie,n.status==="COMPLETED",n.status==="SCHEDULED",n.status==="CANCELLED"||n.status==="NO_SHOW")),g(),J(" ",n.status," "),g(),_("ngIf",n.status==="SCHEDULED")}}function Fie(e,t){if(e&1&&(m(0,"ul",21),E(1,Nie,19,20,"li",22),p()),e&2){let n=S().ngIf;g(),_("ngForOf",n)}}function Oie(e,t){if(e&1&&(m(0,"div"),E(1,Fie,2,1,"ul",20),p()),e&2){let n=t.ngIf;S();let i=Pt(33);g(),_("ngIf",n.length>0)("ngIfElse",i)}}function Pie(e,t){e&1&&(m(0,"p",33),y(1,"No appointments scheduled for today."),p())}function Vie(e,t){if(e&1){let n=K();m(0,"div")(1,"div",11)(2,"div",12)(3,"p",13),y(4,"Today's Appointments"),p(),m(5,"p",14),y(6),p()(),m(7,"div",12)(8,"p",13),y(9,"Pending Invoices"),p(),m(10,"p",14),y(11),p()(),m(12,"div",12)(13,"p",13),y(14,"Registered Patients"),p(),m(15,"p",14),y(16),p()(),m(17,"div",12)(18,"p",13),y(19,"Urgent Matters"),p(),m(20,"p",14),y(21),p(),m(22,"p",15),y(23,"Requires attention"),p()()(),m(24,"div",12)(25,"div",16)(26,"h3",17),y(27,"Appointments for Today"),p(),m(28,"button",18),N("click",function(){j(n);let r=S();return H(r.addAppointment())}),y(29," Add Appointment "),p()(),E(30,Oie,2,2,"div",19),ct(31,"async"),E(32,Pie,2,0,"ng-template",null,0,rn),p()()}if(e&2){let n,i,r,s,o=Pt(33),a=S();g(6),te((n=a.stats==null?null:a.stats.appointmentsToday)!==null&&n!==void 0?n:"N/A"),g(5),te((i=a.stats==null?null:a.stats.pendingInvoices)!==null&&i!==void 0?i:"N/A"),g(5),te((r=a.stats==null?null:a.stats.registeredPatients)!==null&&r!==void 0?r:"N/A"),g(5),te((s=a.stats==null?null:a.stats.urgentMatters)!==null&&s!==void 0?s:"N/A"),g(9),_("ngIf",Vn(31,6,a.todayAppointments$))("ngIfElse",o)}}var b3=(()=>{class e{constructor(n,i,r){this.dashboardService=n,this.authService=i,this.router=r,this.isLoading=!0,this.errorMessage=null,this.currentUserName="",this.stats=null}ngOnInit(){this.currentUserName=this.authService.getCurrentUserValue()?.firstName??"Secretary",this.loadDashboardData()}loadDashboardData(){this.isLoading=!0,this.errorMessage=null,this.todayAppointments$=this.dashboardService.getSecretaryTodayAppointments(),this.dashboardService.getSecretaryStats().subscribe({next:n=>{this.stats=n,this.isLoading=!1},error:n=>{console.error("Error loading secretary dashboard stats:",n),this.errorMessage="Failed to load dashboard statistics.",n.status===403&&(this.errorMessage="Access Denied: You do not have permission to view this dashboard."),this.isLoading=!1}}),this.todayAppointments$?this.todayAppointments$.subscribe({error:n=>{console.error("Error loading today's appointments:",n),this.errorMessage=(this.errorMessage?this.errorMessage+" ":"")+"Failed to load today's appointments.",this.stats||(this.isLoading=!1)}}):(this.errorMessage="Failed to initialize appointments loading.",this.isLoading=!1)}addAppointment(){console.log("Navigating to add appointment"),this.router.navigate(["/appointments/new"])}editAppointment(n){n&&(console.log("Navigating to edit appointment:",n),this.router.navigate(["/appointments/edit",n]))}checkIn(n){n&&(console.log("Checking in appointment:",n),alert("Check-in functionality not yet implemented."))}static{this.\u0275fac=function(i){return new(i||e)(D(Xc),D($e),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-secretary-dashboard"]],standalone:!0,features:[Te],decls:8,vars:4,consts:[["noAppointments",""],[1,"p-6"],[1,"text-2xl","font-semibold","text-gray-800","mb-2"],[1,"text-gray-600","mb-6"],["class","text-center py-10",4,"ngIf"],["class","p-4 mb-6 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-10"],[1,"text-gray-500"],[1,"p-4","mb-6","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-3xl","font-semibold","text-gray-800","mt-1"],[1,"text-xs","text-red-500","mt-1"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-semibold","text-gray-700"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","rounded-md","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500",3,"click"],[4,"ngIf","ngIfElse"],["class","space-y-4",4,"ngIf","ngIfElse"],[1,"space-y-4"],["class","flex items-center justify-between p-4 border border-gray-200 rounded-md hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-4","border","border-gray-200","rounded-md","hover:bg-gray-50"],[1,"flex","items-center","space-x-4"],[1,"w-10","h-10","rounded-full","bg-gray-200","flex","items-center","justify-center","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","space-x-2"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],["class","px-2 py-1 text-xs font-medium text-white bg-green-600 rounded hover:bg-green-700",3,"click",4,"ngIf"],[1,"px-2","py-1","text-xs","font-medium","text-primary-700","bg-primary-100","rounded","hover:bg-primary-200",3,"click"],[1,"px-2","py-1","text-xs","font-medium","text-white","bg-green-600","rounded","hover:bg-green-700",3,"click"],[1,"text-center","text-gray-500","py-4"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"h2",2),y(2,"Secretary Dashboard"),p(),m(3,"p",3),y(4),p(),E(5,Mie,3,0,"div",4)(6,Rie,4,1,"div",5)(7,Vie,34,8,"div",6),p()),i&2&&(g(4),J("Welcome back, ",r.currentUserName,"!"),g(),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage))},dependencies:[we,Ct,et,de,Qn,Zn]})}}return e})();var Gt=(e,t)=>{let n=F($e),i=F(Ne),r=e.data.roles;return!r||r.length===0?(console.warn("RoleGuard: No roles defined for this route. Allowing access."),!0):n.currentUser$.pipe(ai(1),fe(s=>s?r.some(a=>s.role===a)?!0:(console.warn(`RoleGuard: User role '${s.role}' not authorized for route requiring roles: ${r.join(", ")}`),i.navigate(["/dashboard"]),!1):(console.error("RoleGuard: User not logged in."),i.navigate(["/login"]),!1)))};var dv,ae,D3,vT,Zc,nl,C3,E3,A3,lv={},I3=[],Bie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ko(e,t){for(var n in t)e[n]=t[n];return e}function k3(e){var t=e.parentNode;t&&t.removeChild(e)}function C(e,t,n){var i,r,s,o={};for(s in t)s=="key"?i=t[s]:s=="ref"?r=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?dv.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)o[s]===void 0&&(o[s]=e.defaultProps[s]);return av(e,o,i,r,null)}function av(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++D3};return r==null&&ae.vnode!=null&&ae.vnode(s),s}function Wt(){return{current:null}}function je(e){return e.children}function jie(e,t,n,i,r){var s;for(s in n)s==="children"||s==="key"||s in t||cv(e,s,null,n[s],i);for(s in t)r&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===t[s]||cv(e,s,t[s],n[s],i)}function w3(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Bie.test(t)?n:n+"px"}function cv(e,t,n,i,r){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||w3(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||w3(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i||e.addEventListener(t,s?T3:S3,s):e.removeEventListener(t,s?T3:S3,s);else if(t!=="dangerouslySetInnerHTML"){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,n))}}function S3(e){Zc=!0;try{return this.l[e.type+!1](ae.event?ae.event(e):e)}finally{Zc=!1}}function T3(e){Zc=!0;try{return this.l[e.type+!0](ae.event?ae.event(e):e)}finally{Zc=!1}}function xn(e,t){this.props=e,this.context=t}function Oh(e,t){if(t==null)return e.__?Oh(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Oh(e):null}function M3(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return M3(e)}}function Hie(e){Zc?setTimeout(e):E3(e)}function gT(e){(!e.__d&&(e.__d=!0)&&nl.push(e)&&!uv.__r++||C3!==ae.debounceRendering)&&((C3=ae.debounceRendering)||Hie)(uv)}function uv(){var e,t,n,i,r,s,o,a;for(nl.sort(function(l,c){return l.__v.__b-c.__v.__b});e=nl.shift();)e.__d&&(t=nl.length,i=void 0,r=void 0,o=(s=(n=e).__v).__e,(a=n.__P)&&(i=[],(r=ko({},s)).__v=s.__v+1,yT(a,s,r,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,i,o??Oh(s),s.__h),O3(i,s),s.__e!=o&&M3(s)),nl.length>t&&nl.sort(function(l,c){return l.__v.__b-c.__v.__b}));uv.__r=0}function R3(e,t,n,i,r,s,o,a,l,c){var u,d,h,f,v,b,x,w=i&&i.__k||I3,A=w.length;for(n.__k=[],u=0;u<t.length;u++)if((f=n.__k[u]=(f=t[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?av(null,f,null,null,f):Array.isArray(f)?av(je,{children:f},null,null,null):f.__b>0?av(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(h=w[u])===null||h&&f.key==h.key&&f.type===h.type)w[u]=void 0;else for(d=0;d<A;d++){if((h=w[d])&&f.key==h.key&&f.type===h.type){w[d]=void 0;break}h=null}yT(e,f,h=h||lv,r,s,o,a,l,c),v=f.__e,(d=f.ref)&&h.ref!=d&&(x||(x=[]),h.ref&&x.push(h.ref,null,f),x.push(d,f.__c||v,f)),v!=null?(b==null&&(b=v),typeof f.type=="function"&&f.__k===h.__k?f.__d=l=L3(f,l,e):l=N3(e,f,h,w,v,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=Oh(h))}for(n.__e=b,u=A;u--;)w[u]!=null&&(typeof n.type=="function"&&w[u].__e!=null&&w[u].__e==n.__d&&(n.__d=F3(i).nextSibling),V3(w[u],w[u]));if(x)for(u=0;u<x.length;u++)P3(x[u],x[++u],x[++u])}function L3(e,t,n){for(var i,r=e.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=e,t=typeof i.type=="function"?L3(i,t,n):N3(n,i,i,r,i.__e,t));return t}function Ph(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(n){Ph(n,t)}):t.push(e)),t}function N3(e,t,n,i,r,s){var o,a,l;if(t.__d!==void 0)o=t.__d,t.__d=void 0;else if(n==null||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==e)e.appendChild(r),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<i.length;l+=1)if(a==r)break e;e.insertBefore(r,s),o=s}return o!==void 0?o:r.nextSibling}function F3(e){var t,n,i;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(i=F3(n)))return i}return null}function yT(e,t,n,i,r,s,o,a,l){var c,u,d,h,f,v,b,x,w,A,T,k,P,M,Y,G=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=t.__e=n.__e,t.__h=null,s=[a]),(c=ae.__b)&&c(t);try{e:if(typeof G=="function"){if(x=t.props,w=(c=G.contextType)&&i[c.__c],A=c?w?w.props.value:c.__:i,n.__c?b=(u=t.__c=n.__c).__=u.__E:("prototype"in G&&G.prototype.render?t.__c=u=new G(x,A):(t.__c=u=new xn(x,A),u.constructor=G,u.render=$ie),w&&w.sub(u),u.props=x,u.state||(u.state={}),u.context=A,u.__n=i,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),G.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ko({},u.__s)),ko(u.__s,G.getDerivedStateFromProps(x,u.__s))),h=u.props,f=u.state,u.__v=t,d)G.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(G.getDerivedStateFromProps==null&&x!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(x,A),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(x,u.__s,A)===!1||t.__v===n.__v){for(t.__v!==n.__v&&(u.props=x,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(He){He&&(He.__=t)}),T=0;T<u._sb.length;T++)u.__h.push(u._sb[T]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(x,u.__s,A),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,f,v)})}if(u.context=A,u.props=x,u.__P=e,k=ae.__r,P=0,"prototype"in G&&G.prototype.render){for(u.state=u.__s,u.__d=!1,k&&k(t),c=u.render(u.props,u.state,u.context),M=0;M<u._sb.length;M++)u.__h.push(u._sb[M]);u._sb=[]}else do u.__d=!1,k&&k(t),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++P<25);u.state=u.__s,u.getChildContext!=null&&(i=ko(ko({},i),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(v=u.getSnapshotBeforeUpdate(h,f)),Y=c!=null&&c.type===je&&c.key==null?c.props.children:c,R3(e,Array.isArray(Y)?Y:[Y],t,n,i,r,s,o,a,l),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),b&&(u.__E=u.__=null),u.__e=!1}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Uie(n.__e,t,n,i,r,s,o,l);(c=ae.diffed)&&c(t)}catch(He){t.__v=null,(l||s!=null)&&(t.__e=a,t.__h=!!l,s[s.indexOf(a)]=null),ae.__e(He,t,n)}}function O3(e,t){ae.__c&&ae.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(i){i.call(n)})}catch(i){ae.__e(i,n.__v)}})}function Uie(e,t,n,i,r,s,o,a){var l,c,u,d=n.props,h=t.props,f=t.type,v=0;if(f==="svg"&&(r=!0),s!=null){for(;v<s.length;v++)if((l=s[v])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){e=l,s[v]=null;break}}if(e==null){if(f===null)return document.createTextNode(h);e=r?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),s=null,a=!1}if(f===null)d===h||a&&e.data===h||(e.data=h);else{if(s=s&&dv.call(e.childNodes),c=(d=n.props||lv).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(s!=null)for(d={},v=0;v<e.attributes.length;v++)d[e.attributes[v].name]=e.attributes[v].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(jie(e,h,d,r,a),u)t.__k=[];else if(v=t.props.children,R3(e,Array.isArray(v)?v:[v],t,n,i,r&&f!=="foreignObject",s,o,s?s[0]:n.__k&&Oh(n,0),a),s!=null)for(v=s.length;v--;)s[v]!=null&&k3(s[v]);a||("value"in h&&(v=h.value)!==void 0&&(v!==e.value||f==="progress"&&!v||f==="option"&&v!==d.value)&&cv(e,"value",v,d.value,!1),"checked"in h&&(v=h.checked)!==void 0&&v!==e.checked&&cv(e,"checked",v,d.checked,!1))}return e}function P3(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(i){ae.__e(i,n)}}function V3(e,t,n){var i,r;if(ae.unmount&&ae.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||P3(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){ae.__e(s,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&V3(i[r],t,n||typeof e.type!="function");n||e.__e==null||k3(e.__e),e.__=e.__e=e.__d=void 0}function $ie(e,t,n){return this.constructor(e,n)}function Mo(e,t,n){var i,r,s;ae.__&&ae.__(e,t),r=(i=typeof n=="function")?null:n&&n.__k||t.__k,s=[],yT(t,e=(!i&&n||t).__k=C(je,null,[e]),r||lv,lv,t.ownerSVGElement!==void 0,!i&&n?[n]:r?null:t.firstChild?dv.call(t.childNodes):null,s,!i&&n?n:r?r.__e:t.firstChild,i),O3(s,e)}function hv(e,t){var n={__c:t="__cC"+A3++,__:e,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,s;return this.getChildContext||(r=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&r.some(function(a){a.__e=!0,gT(a)})},this.sub=function(o){r.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){r.splice(r.indexOf(o),1),a&&a.call(o)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}dv=I3.slice,ae={__e:function(e,t,n,i){for(var r,s,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(a){e=a}throw e}},D3=0,vT=function(e){return e!=null&&e.constructor===void 0},Zc=!1,xn.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ko({},this.state),typeof e=="function"&&(e=e(ko({},n),this.props)),e&&ko(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),gT(this))},xn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),gT(this))},xn.prototype.render=je,nl=[],E3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,uv.__r=0,A3=0;var Gie,Zr,_T,B3;var W3=[],xT=[],j3=ae.__b,H3=ae.__r,U3=ae.diffed,$3=ae.__c,z3=ae.unmount;function Wie(){for(var e;e=W3.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(fv),e.__H.__h.forEach(bT),e.__H.__h=[]}catch(t){e.__H.__h=[],ae.__e(t,e.__v)}}ae.__b=function(e){Zr=null,j3&&j3(e)},ae.__r=function(e){H3&&H3(e),Gie=0;var t=(Zr=e.__c).__H;t&&(_T===Zr?(t.__h=[],Zr.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=xT,n.__N=n.i=void 0})):(t.__h.forEach(fv),t.__h.forEach(bT),t.__h=[])),_T=Zr},ae.diffed=function(e){U3&&U3(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(W3.push(t)!==1&&B3===ae.requestAnimationFrame||((B3=ae.requestAnimationFrame)||qie)(Wie)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==xT&&(n.__=n.__V),n.i=void 0,n.__V=xT})),_T=Zr=null},ae.__c=function(e,t){t.some(function(n){try{n.__h.forEach(fv),n.__h=n.__h.filter(function(i){return!i.__||bT(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],ae.__e(i,n.__v)}}),$3&&$3(e,t)},ae.unmount=function(e){z3&&z3(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{fv(i)}catch(r){t=r}}),n.__H=void 0,t&&ae.__e(t,n.__v))};var G3=typeof requestAnimationFrame=="function";function qie(e){var t,n=function(){clearTimeout(i),G3&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);G3&&(t=requestAnimationFrame(n))}function fv(e){var t=Zr,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Zr=t}function bT(e){var t=Zr;e.__c=e.__(),Zr=t}function Yie(e,t){for(var n in t)e[n]=t[n];return e}function q3(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function Y3(e){this.props=e}(Y3.prototype=new xn).isPureReactComponent=!0,Y3.prototype.shouldComponentUpdate=function(e,t){return q3(this.props,e)||q3(this.state,t)};var X3=ae.__b;ae.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),X3&&X3(e)};var uke=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var Xie=ae.__e;ae.__e=function(e,t,n,i){if(e.then){for(var r,s=t;s=s.__;)if((r=s.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}Xie(e,t,n,i)};var Q3=ae.unmount;function nB(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=Yie({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return nB(i,t,n)})),e}function iB(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return iB(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function CT(){this.__u=0,this.t=null,this.__b=null}function rB(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function pv(){this.u=null,this.o=null}ae.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),Q3&&Q3(e)},(CT.prototype=new xn).__c=function(e,t){var n=t.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=rB(i.__v),s=!1,o=function(){s||(s=!0,n.__R=null,r?r(a):a())};n.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=iB(c,c.__c.__P,c.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.t.pop();)u.forceUpdate()}},l=t.__h===!0;i.__u++||l||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},CT.prototype.componentWillUnmount=function(){this.t=[]},CT.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=nB(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&C(je,null,e.fallback);return r&&(r.__h=null),[C(je,null,t.__a?null:e.children),r]};var Z3=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function Qie(e){return this.getChildContext=function(){return e.context},e.children}function Zie(e){var t=this,n=e.i;t.componentWillUnmount=function(){Mo(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),t.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),t.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.i.removeChild(i)}}),Mo(C(Qie,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function sB(e,t){var n=C(Zie,{__v:e,i:t});return n.containerInfo=t,n}(pv.prototype=new xn).__a=function(e){var t=this,n=rB(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),Z3(t,e,i)):r()};n?n(s):s()}},pv.prototype.render=function(e){this.u=null,this.o=new Map;var t=Ph(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},pv.prototype.componentDidUpdate=pv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){Z3(e,n,t)})};var Kie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ere=typeof document<"u",tre=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};xn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(xn.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var K3=ae.event;function nre(){}function ire(){return this.cancelBubble}function rre(){return this.defaultPrevented}ae.event=function(e){return K3&&(e=K3(e)),e.persist=nre,e.isPropagationStopped=ire,e.isDefaultPrevented=rre,e.nativeEvent=e};var sre,J3={configurable:!0,get:function(){return this.class}},eB=ae.vnode;ae.vnode=function(e){var t=e.type,n=e.props,i=n;if(typeof t=="string"){var r=t.indexOf("-")===-1;for(var s in i={},n){var o=n[s];ere&&s==="children"&&t==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&!tre(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():r&&Jie.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s]&&(s="oninputCapture")),i[s]=o)}t=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Ph(n.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),t=="select"&&i.defaultValue!=null&&(i.value=Ph(n.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),e.props=i,n.class!=n.className&&(J3.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",J3))}e.$$typeof=Kie,eB&&eB(e)};var tB=ae.__r;ae.__r=function(e){tB&&tB(e),sre=e.__c};var _B=[],LT=new Map;function Vo(e){_B.push(e),LT.forEach(t=>{CB(t,e)})}function xB(e){e.isConnected&&e.getRootNode&&bB(e.getRootNode())}function bB(e){let t=LT.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");let n=are();n&&(t.nonce=n);let i=e===document?document.head:e,r=e===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(t,r)}LT.set(e,t),ore(t)}}function ore(e){for(let t of _B)CB(e,t)}function CB(e,t){let{sheet:n}=e,i=n.cssRules.length;t.split("}").forEach((r,s)=>{r=r.trim(),r&&n.insertRule(r+"}",i+s)})}var wT;function are(){return wT===void 0&&(wT=lre()),wT}function lre(){let e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");let t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&bB(document);var cre=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Vo(cre);var sl=class{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:n}=this;n[t]=(n[t]||0)+1,this.clearTimeout()}resume(t="",n){let{pauseDepths:i}=this;t in i&&(n?delete i[t]:(i[t]-=1,i[t]<=0&&delete i[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function tf(e){e.parentNode&&e.parentNode.removeChild(e)}function Jt(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(GT(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function GT(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function wB(e,t){let n=e instanceof HTMLElement?[e]:e,i=[];for(let r=0;r<n.length;r+=1){let s=n[r].querySelectorAll(t);for(let o=0;o<s.length;o+=1)i.push(s[o])}return i}var ure=/(top|left|right|bottom|width|height)$/i;function vl(e,t){for(let n in t)WT(e,n,t[n])}function WT(e,t,n){n==null?e.style[t]="":typeof n=="number"&&ure.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function Rv(e){var t,n;return(n=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&n!==void 0?n:e.target}var oB=0;function qi(){return oB+=1,"fc-dom-"+oB}function nf(e){e.preventDefault()}function dre(e,t){return n=>{let i=Jt(n.target,e);i&&t.call(i,n,i)}}function qT(e,t,n,i){let r=dre(n,i);return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}function SB(e,t,n,i){let r;return qT(e,"mouseover",t,(s,o)=>{if(o!==r){r=o,n(s,o);let a=l=>{r=null,i(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}var aB=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function YT(e,t){let n=i=>{t(i),aB.forEach(r=>{e.removeEventListener(r,n)})};aB.forEach(i=>{e.addEventListener(i,n)})}function TB(e){return Object.assign({onClick:e},DB(e))}function DB(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}var lB=0;function Gs(){return lB+=1,String(lB)}function rf(){document.body.classList.add("fc-not-allowed")}function sf(){document.body.classList.remove("fc-not-allowed")}function XT(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",nf)}function QT(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",nf)}function ZT(e){e.addEventListener("contextmenu",nf)}function KT(e){e.removeEventListener("contextmenu",nf)}function EB(e){let t=[],n=[],i,r;for(typeof e=="string"?n=e.split(/\s*,\s*/):typeof e=="function"?n=[e]:Array.isArray(e)&&(n=e),i=0;i<n.length;i+=1)r=n[i],typeof r=="string"?t.push(r.charAt(0)==="-"?{field:r.substring(1),order:-1}:{field:r,order:1}):typeof r=="function"&&t.push({func:r});return t}function AB(e,t,n){let i,r;for(i=0;i<n.length;i+=1)if(r=hre(e,t,n[i]),r)return r;return 0}function hre(e,t,n){return n.func?n.func(e,t):IB(e[n.field],t[n.field])*(n.order||1)}function IB(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function rl(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function nu(e,t,n){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((i,r,s)=>i.replace("$"+s,r||""),e):n}function JT(e,t){return e-t}function Vh(e){return e%1===0}function fre(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var cB=["years","months","days","milliseconds"],pre=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ee(e,t){return typeof e=="string"?mre(e):typeof e=="object"&&e?uB(e):typeof e=="number"?uB({[t||"milliseconds"]:e}):null}function mre(e){let t=pre.exec(e);if(t){let n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function uB(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=n*7,t.specifiedWeeks=!0),t}function gre(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function of(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function kB(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function eD(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function vre(e){return Kc(e)/365}function yre(e){return Kc(e)/30}function Kc(e){return Ei(e)/864e5}function Ei(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function af(e,t){let n=null;for(let i=0;i<cB.length;i+=1){let r=cB[i];if(t[r]){let s=e[r]/t[r];if(!Vh(s)||n!==null&&n!==s)return null;n=s}else if(e[r])return null}return n}function Bh(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function es(e,t,n){if(e===t)return!0;let i=e.length,r;if(i!==t.length)return!1;for(r=0;r<i;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}var _re=["sun","mon","tue","wed","thu","fri","sat"];function Lv(e,t){let n=Lo(e);return n[2]+=t*7,ni(n)}function Ot(e,t){let n=Lo(e);return n[2]+=t,ni(n)}function Kr(e,t){let n=Lo(e);return n[6]+=t,ni(n)}function tD(e,t){return ts(e,t)/7}function ts(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function xre(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function bre(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function Cre(e,t){return(t.valueOf()-e.valueOf())/1e3}function MB(e,t){let n=rt(e),i=rt(t);return{years:0,months:0,days:Math.round(ts(n,i)),milliseconds:t.valueOf()-i.valueOf()-(e.valueOf()-n.valueOf())}}function RB(e,t){let n=Jc(e,t);return n!==null&&n%7===0?n/7:null}function Jc(e,t){return No(e)===No(t)?Math.round(ts(e,t)):null}function rt(e){return ni([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function wre(e){return ni([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function Sre(e){return ni([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function Tre(e){return ni([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function Dre(e,t,n){let i=e.getUTCFullYear(),r=ST(e,i,t,n);if(r<1)return ST(e,i-1,t,n);let s=ST(e,i+1,t,n);return s>=1?Math.min(r,s):r}function ST(e,t,n,i){let r=ni([t,0,1+Ere(t,n,i)]),s=rt(e),o=Math.round(ts(r,s));return Math.floor(o/7)+1}function Ere(e,t,n){let i=7+t-n;return-((7+ni([e,0,i]).getUTCDay()-t)%7)+i-1}function dB(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function hB(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Lo(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function ni(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function nD(e){return!isNaN(e.valueOf())}function No(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function Nv(e,t,n=!1){let i=e.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(t==null?i=i.replace("Z",""):t!==0&&(i=i.replace("Z",sD(t,!0)))),i}function Bo(e){return e.toISOString().replace(/T.*$/,"")}function iD(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function rD(e){return rl(e.getUTCHours(),2)+":"+rl(e.getUTCMinutes(),2)+":"+rl(e.getUTCSeconds(),2)}function sD(e,t=!1){let n=e<0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),s=Math.round(i%60);return t?`${n+rl(r,2)}:${rl(s,2)}`:`GMT${n}${r}${s?`:${rl(s,2)}`:""}`}function oe(e,t,n){let i,r;return function(...s){if(!i)r=e.apply(this,s);else if(!es(i,s)){n&&n(r);let o=e.apply(this,s);(!t||!t(o,r))&&(r=o)}return i=s,r}}function iu(e,t,n){let i,r;return s=>{if(!i)r=e.call(this,s);else if(!Ai(i,s)){n&&n(r);let o=e.call(this,s);(!t||!t(o,r))&&(r=o)}return i=s,r}}var TT={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Cv={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},mv=/\s*([ap])\.?m\.?/i,Are=/,/g,Ire=/\s+/g,kre=/\u200e/g,Mre=/UTC|GMT/,NT=class{constructor(t){let n={},i={},r=9;for(let s in t)s in TT?(i[s]=t[s],TT[s]<9&&(r=Math.min(TT[s],r))):(n[s]=t[s],s in Cv&&(r=Math.min(Cv[s],r)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=r,this.buildFormattingFunc=oe(fB)}format(t,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(t)}formatRange(t,n,i,r){let{standardDateProps:s,extendedSettings:o}=this,a=Pre(t.marker,n.marker,i.calendarSystem);if(!a)return this.format(t,i);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(t,i),u=this.format(n,i);if(c===u)return c;let d=Vre(s,l),h=fB(d,o,i),f=h(t),v=h(n),b=Bre(c,f,u,v),x=o.separator||r||i.defaultSeparator||"";return b?b.before+f+x+v+b.after:c+x+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function fB(e,t,n){let i=Object.keys(e).length;return i===1&&e.timeZoneName==="short"?r=>sD(r.timeZoneOffset):i===0&&t.week?r=>Ore(n.computeWeekNumber(r.marker),n.weekText,n.weekTextLong,n.locale,t.week):Rre(e,t,n)}function Rre(e,t,n){e=Object.assign({},e),t=Object.assign({},t),Lre(e,t),e.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,e),r;if(t.omitZeroMinute){let s=Object.assign({},e);delete s.minute,r=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;r&&!o.getUTCMinutes()?a=r:a=i;let l=a.format(o);return Nre(l,s,e,t,n)}}function Lre(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function Nre(e,t,n,i,r){return e=e.replace(kre,""),n.timeZoneName==="short"&&(e=Fre(e,r.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":sD(t.timeZoneOffset))),i.omitCommas&&(e=e.replace(Are,"").trim()),i.omitZeroMinute&&(e=e.replace(":00","")),i.meridiem===!1?e=e.replace(mv,"").trim():i.meridiem==="narrow"?e=e.replace(mv,(s,o)=>o.toLocaleLowerCase()):i.meridiem==="short"?e=e.replace(mv,(s,o)=>`${o.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(e=e.replace(mv,s=>s.toLocaleLowerCase())),e=e.replace(Ire," "),e=e.trim(),e}function Fre(e,t){let n=!1;return e=e.replace(Mre,()=>(n=!0,t)),n||(e+=` ${t}`),e}function Ore(e,t,n,i,r){let s=[];return r==="long"?s.push(n):(r==="short"||r==="narrow")&&s.push(t),(r==="long"||r==="short")&&s.push(" "),s.push(i.simpleNumberFormat.format(e)),i.options.direction==="rtl"&&s.reverse(),s.join("")}function Pre(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:No(e)!==No(t)?1:0}function Vre(e,t){let n={};for(let i in e)(!(i in Cv)||Cv[i]<=t)&&(n[i]=e[i]);return n}function Bre(e,t,n,i){let r=0;for(;r<e.length;){let s=e.indexOf(t,r);if(s===-1)break;let o=e.substr(0,s);r=s+t.length;let a=e.substr(r),l=0;for(;l<n.length;){let c=n.indexOf(i,l);if(c===-1)break;let u=n.substr(0,c);l=c+i.length;let d=n.substr(l);if(o===u&&a===d)return{before:o,after:a}}}return null}function pB(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function wv(e,t,n,i){let r=pB(e,n.calendarSystem),s=t?pB(t,n.calendarSystem):null;return{date:r,start:r,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}var FT=class{constructor(t){this.cmdStr=t}format(t,n,i){return n.cmdFormatter(this.cmdStr,wv(t,null,n,i))}formatRange(t,n,i,r){return i.cmdFormatter(this.cmdStr,wv(t,n,i,r))}},OT=class{constructor(t){this.func=t}format(t,n,i){return this.func(wv(t,null,n,i))}formatRange(t,n,i,r){return this.func(wv(t,n,i,r))}};function at(e){return typeof e=="object"&&e?new NT(e):typeof e=="string"?new FT(e):typeof e=="function"?new OT(e):null}var oD={navLinkDayClick:I,navLinkWeekClick:I,duration:Ee,bootstrapFontAwesome:I,buttonIcons:I,customButtons:I,defaultAllDayEventDuration:Ee,defaultTimedEventDuration:Ee,nextDayThreshold:Ee,scrollTime:Ee,scrollTimeReset:Boolean,slotMinTime:Ee,slotMaxTime:Ee,dayPopoverFormat:at,slotDuration:Ee,snapDuration:Ee,headerToolbar:I,footerToolbar:I,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:at,dayHeaderClassNames:I,dayHeaderContent:I,dayHeaderDidMount:I,dayHeaderWillUnmount:I,dayCellClassNames:I,dayCellContent:I,dayCellDidMount:I,dayCellWillUnmount:I,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:I,weekNumbers:Boolean,weekNumberClassNames:I,weekNumberContent:I,weekNumberDidMount:I,weekNumberWillUnmount:I,editable:Boolean,viewClassNames:I,viewDidMount:I,viewWillUnmount:I,nowIndicator:Boolean,nowIndicatorClassNames:I,nowIndicatorContent:I,nowIndicatorDidMount:I,nowIndicatorWillUnmount:I,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:I,locale:I,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:I,eventOrder:EB,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:I,contentHeight:I,direction:String,weekNumberFormat:at,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:I,initialDate:I,now:I,eventDataTransform:I,stickyHeaderDates:I,stickyFooterScrollbar:I,viewHeight:I,defaultAllDay:Boolean,eventSourceFailure:I,eventSourceSuccess:I,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:I,eventConstraint:I,eventAllow:I,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:I,eventContent:I,eventDidMount:I,eventWillUnmount:I,selectConstraint:I,selectOverlap:I,selectAllow:I,droppable:Boolean,unselectCancel:String,slotLabelFormat:I,slotLaneClassNames:I,slotLaneContent:I,slotLaneDidMount:I,slotLaneWillUnmount:I,slotLabelClassNames:I,slotLabelContent:I,slotLabelDidMount:I,slotLabelWillUnmount:I,dayMaxEvents:I,dayMaxEventRows:I,dayMinWidth:Number,slotLabelInterval:Ee,allDayText:String,allDayClassNames:I,allDayContent:I,allDayDidMount:I,allDayWillUnmount:I,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:at,rerenderDelay:Number,moreLinkText:I,moreLinkHint:I,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:I,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ee,hiddenDays:I,fixedWeekCount:Boolean,validRange:I,visibleRange:I,titleFormat:I,eventInteractive:Boolean,noEventsText:String,viewHint:I,navLinkHint:I,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:I,moreLinkClassNames:I,moreLinkContent:I,moreLinkDidMount:I,moreLinkWillUnmount:I,monthStartFormat:at,handleCustomRendering:I,customRenderingMetaMap:I,customRenderingReplaces:Boolean},jo={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},aD={datesSet:I,eventsSet:I,eventAdd:I,eventChange:I,eventRemove:I,windowResize:I,eventClick:I,eventMouseEnter:I,eventMouseLeave:I,select:I,unselect:I,loading:I,_unmount:I,_beforeprint:I,_afterprint:I,_noEventDrop:I,_noEventResize:I,_resize:I,_scrollRequest:I},lD={buttonText:I,buttonHints:I,views:I,plugins:I,initialEvents:I,events:I,eventSources:I},Ho={headerToolbar:il,footerToolbar:il,buttonText:il,buttonHints:il,buttonIcons:il,dateIncrement:il,plugins:gv,events:gv,eventSources:gv,resources:gv};function il(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?Ai(e,t):e===t}function gv(e,t){return Array.isArray(e)&&Array.isArray(t)?es(e,t):e===t}var LB={type:String,component:I,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:I,usesMinMaxTime:Boolean,classNames:I,content:I,didMount:I,willUnmount:I};function Fv(e){return Pv(e,Ho)}function Ov(e,t){let n={},i={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let r in e)r in t||(i[r]=e[r]);return{refined:n,extra:i}}function I(e){return e}var{hasOwnProperty:Sv}=Object.prototype;function Pv(e,t){let n={};if(t){for(let i in t)if(t[i]===il){let r=[];for(let s=e.length-1;s>=0;s-=1){let o=e[s][i];if(typeof o=="object"&&o)r.unshift(o);else if(o!==void 0){n[i]=o;break}}r.length&&(n[i]=Pv(r))}}for(let i=e.length-1;i>=0;i-=1){let r=e[i];for(let s in r)s in n||(n[s]=r[s])}return n}function Hs(e,t){let n={};for(let i in e)t(e[i],i)&&(n[i]=e[i]);return n}function Wi(e,t){let n={};for(let i in e)n[i]=t(e[i],i);return n}function cD(e){let t={};for(let n of e)t[n]=!0;return t}function Vv(e){let t=[];for(let n in e)t.push(e[n]);return t}function Ai(e,t){if(e===t)return!0;for(let n in e)if(Sv.call(e,n)&&!(n in t))return!1;for(let n in t)if(Sv.call(t,n)&&e[n]!==t[n])return!1;return!0}var jre=/^on[A-Z]/;function Hre(e,t){let n=PT(e,t);for(let i of n)if(!jre.test(i))return!1;return!0}function PT(e,t){let n=[];for(let i in e)Sv.call(e,i)&&(i in t||n.push(i));for(let i in t)Sv.call(t,i)&&e[i]!==t[i]&&n.push(i);return n}function xv(e,t,n={}){if(e===t)return!0;for(let i in t)if(!(i in e&&Ure(e[i],t[i],n[i])))return!1;for(let i in e)if(!(i in t))return!1;return!0}function Ure(e,t,n){return e===t||n===!0?!0:n?n(e,t):!1}function NB(e,t=0,n,i=1){let r=[];n==null&&(n=Object.keys(e).length);for(let s=t;s<n;s+=i){let o=e[s];o!==void 0&&r.push(o)}return r}var FB={};function $re(e,t){FB[e]=t}function zre(e){return new FB[e]}var VT=class{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return ni(t)}markerToArray(t){return Lo(t)}};$re("gregory",VT);var Gre=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function OB(e){let t=Gre.exec(e);if(t){let n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(nD(n)){let i=null;return t[13]&&(i=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:i}}}return null}var jh=class{constructor(t){let n=this.timeZone=t.timeZone,i=n!=="local"&&n!=="UTC";t.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!i||this.namedTimeZoneImpl),this.calendarSystem=zre(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let n=this.createMarkerMeta(t);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ni(dB(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let n=null;return typeof t=="number"?n=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(n=this.timestampToMarker(t))):Array.isArray(t)&&(n=ni(t)),n===null||!nD(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let n=OB(t);if(n===null)return null;let{marker:i}=n,r=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):r=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:r}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,n){let i=this.calendarSystem.markerToArray(t);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(t,n){let i=this.calendarSystem.markerToArray(t);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(t,n){let i=this.calendarSystem.markerToArray(t);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(t,n){let i=this.calendarSystem.markerToArray(t);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(t,n){let{calendarSystem:i}=this;return No(t)===No(n)&&i.getMarkerDay(t)===i.getMarkerDay(n)&&i.getMarkerMonth(t)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(t):null}diffWholeMonths(t,n){let{calendarSystem:i}=this;return No(t)===No(n)&&i.getMarkerDay(t)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(t)+(i.getMarkerYear(n)-i.getMarkerYear(t))*12:null}greatestWholeUnit(t,n){let i=this.diffWholeYears(t,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(t,n),i!==null?{unit:"month",value:i}:(i=RB(t,n),i!==null?{unit:"week",value:i}:(i=Jc(t,n),i!==null?{unit:"day",value:i}:(i=xre(t,n),Vh(i)?{unit:"hour",value:i}:(i=bre(t,n),Vh(i)?{unit:"minute",value:i}:(i=Cre(t,n),Vh(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,n,i){let r;return i.years&&(r=this.diffWholeYears(t,n),r!==null)?r/vre(i):i.months&&(r=this.diffWholeMonths(t,n),r!==null)?r/yre(i):i.days&&(r=Jc(t,n),r!==null)?r/Kc(i):(n.valueOf()-t.valueOf())/Ei(i)}startOf(t,n){return n==="year"?this.startOfYear(t):n==="month"?this.startOfMonth(t):n==="week"?this.startOfWeek(t):n==="day"?rt(t):n==="hour"?wre(t):n==="minute"?Sre(t):n==="second"?Tre(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):Dre(t,this.weekDow,this.weekDoy)}format(t,n,i={}){return n.format({marker:t,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,n,i,r={}){return r.isEndExclusive&&(n=Kr(n,-1)),i.formatRange({marker:t,timeZoneOffset:r.forcedStartTzo!=null?r.forcedStartTzo:this.offsetForMarker(t)},{marker:n,timeZoneOffset:r.forcedEndTzo!=null?r.forcedEndTzo:this.offsetForMarker(n)},this,r.defaultSeparator)}formatIso(t,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(t)),Nv(t,i,n.omitTime)}timestampToMarker(t){return this.timeZone==="local"?ni(dB(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):ni(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-hB(Lo(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Lo(t)):null}toDate(t,n){return this.timeZone==="local"?hB(Lo(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(Lo(t))*1e3*60):new Date(t.valueOf()-(n||0))}},Us=class{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let n,i;if(typeof t=="object"&&t){n=Object.assign({},this.iconClasses);for(i in t)n[i]=this.applyIconOverridePrefix(t[i]);this.iconClasses=n}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let n=this.iconOverridePrefix;return n&&t.indexOf(n)!==0&&(t=n+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[t]||this.iconClasses[t]:i=this.iconClasses[t],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(t){let n;return this.iconOverrideCustomButtonOption&&(n=t[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}};Us.prototype.classes={};Us.prototype.iconClasses={};Us.prototype.baseIconClass="";Us.prototype.iconOverridePrefix="";function Hh(e){e();let t=ae.debounceRendering,n=[];function i(r){n.push(r)}for(ae.debounceRendering=i,Mo(C(BT,{}),document.createElement("div"));n.length;)n.shift()();ae.debounceRendering=t}var BT=class extends xn{render(){return C("div",{})}componentDidMount(){this.setState({})}};function PB(e){let t=hv(e),n=t.Provider;return t.Provider=function(){let i=!this.getChildContext,r=n.apply(this,arguments);if(i){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return r},t}var Tv=class{constructor(t,n,i,r){this.execFunc=t,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=r,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Yi=PB({});function VB(e,t,n,i,r,s,o,a,l,c,u,d,h,f){return{dateEnv:r,nowManager:s,options:n,pluginHooks:a,emitter:u,dispatch:l,getCurrentData:c,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:i,theme:o,isRtl:n.direction==="rtl",addResizeHandler(v){u.on("_resize",v)},removeResizeHandler(v){u.off("_resize",v)},createScrollResponder(v){return new Tv(v,u,Ee(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:f}}var lf=(()=>{class e extends xn{shouldComponentUpdate(n,i){return this.debug&&console.log(PT(n,this.props),PT(i,this.state)),!xv(this.props,n,this.propEquality)||!xv(this.state,i,this.stateEquality)}safeSetState(n){xv(this.state,Object.assign(Object.assign({},this.state),n),this.stateEquality)||this.setState(n)}}return e.addPropsEquality=Wre,e.addStateEquality=qre,e.contextType=Yi,e})();lf.prototype.propEquality={};lf.prototype.stateEquality={};var Pe=(()=>{class e extends lf{}return e.contextType=Yi,e})();function Wre(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function qre(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function Xi(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var Uh=class extends Pe{constructor(){super(...arguments),this.id=Gs(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{let{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!jT(i,n))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&Xi(this.props.elRef,t)}}render(){let{props:t,context:n}=this,{options:i}=n,{customGenerator:r,defaultGenerator:s,renderProps:o}=t,a=uD(t,[],this.handleEl),l=!1,c,u=[],d;if(r!=null){let h=typeof r=="function"?r(o,C):r;if(h===!0)l=!0;else{let f=h&&typeof h=="object";f&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(f?vT(h):typeof h!="function")?c=h:d=h}}else l=!jT(t.generatorName,i);return l&&s&&(c=s(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,C(t.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var n;let{props:i,context:r}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=r.options;if(s){let a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[i.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},i),{elClasses:(i.elClasses||[]).filter(Yre)}))}}applyQueueudDomNodes(){let{queuedDomNodes:t,currentDomNodes:n}=this,i=this.base;if(!es(t,n)){n.forEach(tf);for(let r of t)i.appendChild(r);this.currentDomNodes=t}}};Uh.addPropsEquality({elClasses:es,elStyle:Ai,elAttrs:Hre,renderProps:Ai});function jT(e,t){var n;return!!(t.handleCustomRendering&&e&&(!((n=t.customRenderingMetaMap)===null||n===void 0)&&n[e]))}function uD(e,t,n){let i=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(i.className=(e.elClasses||[]).concat(t||[]).concat(i.className||[]).filter(Boolean).join(" ")),e.elStyle&&(i.style=e.elStyle),i}function Yre(e){return!!e}var dD=PB(0),en=(()=>{class e extends xn{constructor(){super(...arguments),this.InnerContent=Xre.bind(void 0,this),this.handleEl=n=>{this.el=n,this.props.elRef&&(Xi(this.props.elRef,n),n&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:n}=this,i=Qre(n.classNameGenerator,n.renderProps);if(n.children){let r=uD(n,i,this.handleEl),s=n.children(this.InnerContent,n.renderProps,r);return n.elTag?C(n.elTag,r,s):s}else return C(Uh,Object.assign(Object.assign({},n),{elRef:this.handleEl,elTag:n.elTag||"div",elClasses:(n.elClasses||[]).concat(i),renderId:this.context}))}componentDidMount(){var n,i;this.el?(i=(n=this.props).didMount)===null||i===void 0||i.call(n,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var n,i;(i=(n=this.props).willUnmount)===null||i===void 0||i.call(n,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return e.contextType=dD,e})();function Xre(e,t){let n=e.props;return C(Uh,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function Qre(e,t){let n=typeof e=="function"?e(t):e||[];return typeof n=="string"?[n]:n}var xr=class extends Pe{render(){let{props:t,context:n}=this,{options:i}=n,r={view:n.viewApi};return C(en,Object.assign({},t,{elTag:t.elTag||"div",elClasses:[...hD(t.viewSpec),...t.elClasses||[]],renderProps:r,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),()=>t.children)}};function hD(e){return[`fc-${e.type}-view`,"fc-view"]}function Zre(e,t){let n=null,i=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(i=t.createMarker(e.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function mB(e,t){let n=[],{start:i}=t,r,s;for(e.sort(Kre),r=0;r<e.length;r+=1)s=e[r],s.start>i&&n.push({start:i,end:s.start}),s.end>i&&(i=s.end);return i<t.end&&n.push({start:i,end:t.end}),n}function Kre(e,t){return e.start.valueOf()-t.start.valueOf()}function Ii(e,t){let{start:n,end:i}=e,r=null;return t.start!==null&&(n===null?n=t.start:n=new Date(Math.max(n.valueOf(),t.start.valueOf()))),t.end!=null&&(i===null?i=t.end:i=new Date(Math.min(i.valueOf(),t.end.valueOf()))),(n===null||i===null||n<i)&&(r={start:n,end:i}),r}function BB(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function Bv(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function ru(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function Gi(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function Jre(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function jB(e){let t=Math.floor(ts(e.start,e.end))||1,n=rt(e.start),i=Ot(n,t);return{start:n,end:i}}function jv(e,t=Ee(0)){let n=null,i=null;if(e.end){i=rt(e.end);let r=e.end.valueOf()-i.valueOf();r&&r>=Ei(t)&&(i=Ot(i,1))}return e.start&&(n=rt(e.start),i&&i<=n&&(i=Ot(n,1))),{start:n,end:i}}function fD(e){let t=jv(e);return ts(t.start,t.end)>1}function Fo(e,t,n,i){return i==="year"?Ee(n.diffWholeYears(e,t),"year"):i==="month"?Ee(n.diffWholeMonths(e,t),"month"):MB(e,t)}var ol=class{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,n,i){let{dateEnv:r}=this.props,s=r.subtract(r.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(s,-1,i)}buildNext(t,n,i){let{dateEnv:r}=this.props,s=r.add(r.startOf(n,t.currentRangeUnit),t.dateIncrement);return this.build(s,1,i)}build(t,n,i=!0){let{props:r}=this,s,o,a,l,c,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),i&&(t=Jre(t,s)),o=this.buildCurrentRangeInfo(t,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,r.showNonCurrentDates||(c=Ii(c,o.range)),c=this.adjustActiveRange(c),c=Ii(c,s),u=Bv(o.range,s),Gi(l,t)||(t=l.start),{currentDate:t,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let t=this.props.validRangeInput,n=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(t,n){let{props:i}=this,r=null,s=null,o=null,a;return i.duration?(r=i.duration,s=i.durationUnit,o=this.buildRangeFromDuration(t,n,r,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(t,n,a)):(o=this.buildCustomVisibleRange(t))?s=i.dateEnv.greatestWholeUnit(o.start,o.end).unit:(r=this.getFallbackDuration(),s=Bh(r).unit,o=this.buildRangeFromDuration(t,n,r,s)),{duration:r,unit:s,range:o}}getFallbackDuration(){return Ee({day:1})}adjustActiveRange(t){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:r,slotMaxTime:s}=this.props,{start:o,end:a}=t;return i&&(Kc(r)<0&&(o=rt(o),o=n.add(o,r)),Kc(s)>1&&(a=rt(a),a=Ot(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(t,n,i,r){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:d}=this.props;d&&Ei(d)<Ei(i)?o=Bh(d).unit:o=r}Kc(i)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=rt(a));function u(){a=s.startOf(t,o),l=s.add(a,i),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(t=this.skipHiddenDays(t,n),u()),c}buildRangeFromDayCount(t,n,i){let{dateEnv:r,dateAlignment:s}=this.props,o=0,a=t,l;s&&(a=r.startOf(a,s)),a=rt(a),a=this.skipHiddenDays(a,n),l=a;do l=Ot(l,1),this.isHiddenDay(l)||(o+=1);while(o<i);return{start:a,end:l}}buildCustomVisibleRange(t){let{props:n}=this,i=n.visibleRangeInput,r=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(t)):i,s=this.refineRange(r);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(t,n,i){return t}buildDateIncrement(t){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?Ee(1,i):t||Ee({days:1}))}refineRange(t){if(t){let n=Zre(t,this.props.dateEnv);return n&&(n=jv(n)),n}return null}initHiddenDays(){let t=this.props.hiddenDays||[],n=[],i=0,r;for(this.props.weekends===!1&&t.push(0,6),r=0;r<7;r+=1)(n[r]=t.indexOf(r)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(t){let{start:n,end:i}=t;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,n=1,i=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(i?n:0)+7)%7];)t=Ot(t,n);return t}};function cf(e,t,n,i){return{instanceId:Gs(),defId:e,range:t,forcedStartTzo:n??null,forcedEndTzo:i??null}}function ese(e,t,n,i){for(let r=0;r<i.length;r+=1){let s=i[r].parse(e,n);if(s){let{allDay:o}=e;return o==null&&(o=t,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:r}}}return null}function al(e,t,n){let{dateEnv:i,pluginHooks:r,options:s}=n,{defs:o,instances:a}=e;a=Hs(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let d=tse(c,u,t,i,r.recurringTypes);for(let h of d){let f=cf(l,{start:h,end:i.add(h,u)});a[f.instanceId]=f}}}return{defs:o,instances:a}}function tse(e,t,n,i,r){let o=r[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:i.subtract(n.start,t),end:n.end},i);return e.allDay&&(o=o.map(rt)),o}var bv={id:String,groupId:String,title:String,url:String,interactive:Boolean},HB={start:I,end:I,date:I,allDay:Boolean},nse=Object.assign(Object.assign(Object.assign({},bv),HB),{extendedProps:I});function UB(e,t,n,i,r=pD(n),s,o){let{refined:a,extra:l}=Hv(e,n,r),c=rse(t,n),u=ese(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=$h(a,l,t?t.sourceId:"",u.allDay,!!u.duration,n,s);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=ise(a,c,n,i);if(d){let h=$h(a,l,t?t.sourceId:"",d.allDay,d.hasEnd,n,s),f=cf(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(f.instanceId=o[h.publicId]),{def:h,instance:f}}return null}function Hv(e,t,n=pD(t)){return Ov(e,n)}function pD(e){return Object.assign(Object.assign(Object.assign({},Dv),nse),e.pluginHooks.eventRefiners)}function $h(e,t,n,i,r,s,o){let a={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(o&&e.id?o[e.id]:"")||Gs(),sourceId:n,allDay:i,hasEnd:r,interactive:e.interactive,ui:su(e,s),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(e));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function ise(e,t,n,i){let{allDay:r}=e,s,o=null,a=!1,l,c=null,u=e.start!=null?e.start:e.date;if(s=n.dateEnv.createMarkerMeta(u),s)o=s.marker;else if(!i)return null;return e.end!=null&&(l=n.dateEnv.createMarkerMeta(e.end)),r==null&&(t!=null?r=t:r=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),r&&o&&(o=rt(o)),l&&(c=l.marker,r&&(c=rt(c)),o&&c<=o&&(c=null)),c?a=!0:i||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,r?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:r,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function rse(e,t){let n=null;return e&&(n=e.defaultAllDay),n==null&&(n=t.options.defaultAllDay),n}function zh(e,t,n,i,r,s){let o=kn(),a=pD(n);for(let l of e){let c=UB(l,t,n,i,a,r,s);c&&Gh(c,o)}return o}function Gh(e,t=kn()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function uf(e,t){let n=e.instances[t];if(n){let i=e.defs[n.defId],r=$v(e,s=>sse(i,s));return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return kn()}function sse(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function kn(){return{defs:{},instances:{}}}function Uv(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function $v(e,t){let n=Hs(e.defs,t),i=Hs(e.instances,r=>n[r.defId]);return{defs:n,instances:i}}function ose(e,t){let{defs:n,instances:i}=e,r={},s={};for(let o in n)t.defs[o]||(r[o]=n[o]);for(let o in i)!t.instances[o]&&r[i[o].defId]&&(s[o]=i[o]);return{defs:r,instances:s}}function ase(e,t){return Array.isArray(e)?zh(e,null,t,!0):typeof e=="object"&&e?zh([e],null,t,!0):e!=null?String(e):null}function HT(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}var Dv={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:I,overlap:I,allow:I,className:HT,classNames:HT,color:String,backgroundColor:String,borderColor:String,textColor:String},lse={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function su(e,t){let n=ase(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:n!=null?[n]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function mD(e){return e.reduce(cse,lse)}function cse(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var use={id:String,defaultAllDay:Boolean,url:String,format:String,events:I,eventDataTransform:I,success:I,failure:I};function gD(e,t,n=vD(t)){let i;if(typeof e=="string"?i={url:e}:typeof e=="function"||Array.isArray(e)?i={events:e}:typeof e=="object"&&e&&(i=e),i){let{refined:r,extra:s}=Ov(i,n),o=dse(r,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:Gs(),sourceDefId:o.sourceDefId,meta:o.meta,ui:su(r,t),extendedProps:s}}return null}function vD(e){return Object.assign(Object.assign(Object.assign({},Dv),use),e.pluginHooks.eventSourceRefiners)}function dse(e,t){let n=t.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let s=n[i].parseMeta(e);if(s)return{sourceDefId:i,meta:s}}return null}function $B(e,t,n,i,r){switch(t.type){case"RECEIVE_EVENTS":return hse(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"RESET_RAW_EVENTS":return fse(e,n[t.sourceId],t.rawEvents,i.activeRange,r);case"ADD_EVENTS":return pse(e,t.eventStore,i?i.activeRange:null,r);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Uv(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?al(e,i.activeRange,r):e;case"REMOVE_EVENTS":return ose(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return GB(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return $v(e,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return kn();default:return e}}function hse(e,t,n,i,r,s){if(t&&n===t.latestFetchId){let o=zh(zB(r,t,s),t,s);return i&&(o=al(o,i,s)),Uv(GB(e,t.sourceId),o)}return e}function fse(e,t,n,i,r){let{defIdMap:s,instanceIdMap:o}=gse(e),a=zh(zB(n,t,r),t,r,!1,s,o);return al(a,i,r)}function zB(e,t,n){let i=n.options.eventDataTransform,r=t?t.eventDataTransform:null;return r&&(e=gB(e,r)),i&&(e=gB(e,i)),e}function gB(e,t){let n;if(!t)n=e;else{n=[];for(let i of e){let r=t(i);r?n.push(r):r==null&&n.push(i)}}return n}function pse(e,t,n,i){return n&&(t=al(t,n,i)),Uv(e,t)}function yD(e,t,n){let{defs:i}=e,r=Wi(e.instances,s=>i[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(t.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(t.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:i,instances:r}}function GB(e,t){return $v(e,n=>n.sourceId!==t)}function mse(e,t){return{defs:e.defs,instances:Hs(e.instances,n=>!t[n.instanceId])}}function gse(e){let{defs:t,instances:n}=e,i={},r={};for(let s in t){let o=t[s],{publicId:a}=o;a&&(i[a]=s)}for(let s in n){let o=n[s],a=t[o.defId],{publicId:l}=a;l&&(r[l]=s)}return{defIdMap:i,instanceIdMap:r}}var $s=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,n){vse(this.handlers,t,n)}off(t,n){yse(this.handlers,t,n)}trigger(t,...n){let i=this.handlers[t]||[],r=this.options&&this.options[t],s=[].concat(r||[],i);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}};function vse(e,t,n){(e[t]||(e[t]=[])).push(n)}function yse(e,t,n){n?e[t]&&(e[t]=e[t].filter(i=>i!==n)):delete e[t]}var _se={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function _D(e,t){return zh(xse(e),null,t)}function xse(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(n=>n.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(n=>Object.assign(Object.assign({},_se),n)),t}function zv(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},xD(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function bse(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function xD(e,t){let n={};for(let i of t.pluginHooks.dateSpanTransforms)Object.assign(n,i(e,t));return Object.assign(n,Lse(e,t.dateEnv)),n}function Ev(e,t,n){let{dateEnv:i,options:r}=n,s=t;return e?(s=rt(s),s=i.add(s,r.defaultAllDayEventDuration)):s=i.add(s,r.defaultTimedEventDuration),s}function df(e,t,n,i){let r=Av(e.defs,t),s=kn();for(let o in e.defs){let a=e.defs[o];s.defs[o]=Cse(a,r[o],n,i)}for(let o in e.instances){let a=e.instances[o],l=s.defs[a.defId];s.instances[o]=wse(a,l,r[a.defId],n,i)}return s}function Cse(e,t,n,i){let r=n.standardProps||{};r.hasEnd==null&&t.durationEditable&&(n.startDelta||n.endDelta)&&(r.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},e),r),{ui:Object.assign(Object.assign({},e.ui),r.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of i.pluginHooks.eventDefMutationAppliers)o(s,n,i);return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function wse(e,t,n,i,r){let{dateEnv:s}=r,o=i.standardProps&&i.standardProps.allDay===!0,a=i.standardProps&&i.standardProps.hasEnd===!1,l=Object.assign({},e);return o&&(l.range=jB(l.range)),i.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,i.datesDelta),end:s.add(l.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,i.startDelta),end:l.range.end}),i.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,i.endDelta)}),a&&(l.range={start:l.range.start,end:Ev(t.allDay,l.range.start,r)}),t.allDay&&(l.range={start:rt(l.range.start),end:rt(l.range.end)}),l.range.end<l.range.start&&(l.range.end=Ev(t.allDay,l.range.start,r)),l}var Ro=class{constructor(t,n){this.context=t,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},yt=class e{constructor(t,n,i){this._context=t,this._def=n,this._instance=i||null}setProp(t,n){if(t in HB)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")n=bv[t](n),this.mutate({standardProps:{publicId:n}});else if(t in bv)n=bv[t](n),this.mutate({standardProps:{[t]:n}});else if(t in Dv){let i=Dv[t](n);t==="color"?i={backgroundColor:n,borderColor:n}:t==="editable"?i={startEditable:n,durationEditable:n}:i={[t]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,n){this.mutate({extendedProps:{[t]:n}})}setStart(t,n={}){let{dateEnv:i}=this._context,r=i.createMarker(t);if(r&&this._instance){let s=this._instance.range,o=Fo(s.start,r,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(t,n={}){let{dateEnv:i}=this._context,r;if(!(t!=null&&(r=i.createMarker(t),!r))&&this._instance)if(r){let s=Fo(this._instance.range.end,r,i,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,n,i={}){let{dateEnv:r}=this._context,s={allDay:i.allDay},o=r.createMarker(t),a;if(o&&!(n!=null&&(a=r.createMarker(n),!a))&&this._instance){let l=this._instance.range;i.allDay===!0&&(l=jB(l));let c=Fo(l.start,o,r,i.granularity);if(a){let u=Fo(l.end,a,r,i.granularity);gre(c,u)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(t){let n=Ee(t);n&&this.mutate({startDelta:n})}moveEnd(t){let n=Ee(t);n&&this.mutate({endDelta:n})}moveDates(t){let n=Ee(t);n&&this.mutate({datesDelta:n})}setAllDay(t,n={}){let i={allDay:t},{maintainDuration:r}=n;r==null&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(i.hasEnd=r),this.mutate({standardProps:i})}formatRange(t){let{dateEnv:n}=this._context,i=this._instance,r=at(t);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,r,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,r,{forcedTzo:i.forcedStartTzo})}mutate(t){let n=this._instance;if(n){let i=this._def,r=this._context,{eventStore:s}=r.getCurrentData(),o=uf(s,n.instanceId);o=df(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,r);let l=new e(r,i,n);this._def=o.defs[i.defId],this._instance=o.instances[n.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:o}),r.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:ns(o,r,n),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let t=this._context,n=WB(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:n}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:t}=this._def;return t?new Ro(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let n=this._def,{ui:i}=n,{startStr:r,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),r&&(o.start=r),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),i.display&&i.display!=="auto"&&(o.display=i.display),t.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?o.color=i.backgroundColor:(i.backgroundColor&&(o.backgroundColor=i.backgroundColor),i.borderColor&&(o.borderColor=i.borderColor)),i.textColor&&(o.textColor=i.textColor),i.classNames.length&&(o.classNames=i.classNames),Object.keys(n.extendedProps).length&&(t.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}};function WB(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function ns(e,t,n){let{defs:i,instances:r}=e,s=[],o=n?n.instanceId:"";for(let a in r){let l=r[a],c=i[l.defId];l.instanceId!==o&&s.push(new yt(t,c,l))}return s}function eu(e,t,n,i){let r={},s={},o={},a=[],l=[],c=Av(e.defs,t);for(let u in e.defs){let d=e.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(r[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):s[u]=[])}for(let u in e.instances){let d=e.instances[u],h=e.defs[d.defId],f=c[h.defId],v=d.range,b=!h.allDay&&i?jv(v,i):v,x=Ii(b,n);x&&(f.display==="inverse-background"?h.groupId?r[h.groupId].push(x):s[d.defId].push(x):f.display!=="none"&&(f.display==="background"?a:l).push({def:h,ui:f,instance:d,range:x,isStart:b.start&&b.start.valueOf()===x.start.valueOf(),isEnd:b.end&&b.end.valueOf()===x.end.valueOf()}))}for(let u in r){let d=r[u],h=mB(d,n);for(let f of h){let v=o[u],b=c[v.defId];a.push({def:v,ui:b,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let u in s){let d=s[u],h=mB(d,n);for(let f of h)a.push({def:e.defs[u],ui:c[u],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function bD(e){return e.ui.display==="background"||e.ui.display==="inverse-background"}function vB(e,t){e.fcSeg=t}function Ws(e){return e.fcSeg||e.parentNode.fcSeg||null}function Av(e,t){return Wi(e,n=>qB(n,t))}function qB(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),mD(n)}function yl(e,t){let n=e.map(Sse);return n.sort((i,r)=>AB(i,r,t)),n.map(i=>i._seg)}function Sse(e){let{eventRange:t}=e,n=t.def,i=t.instance?t.instance.range:t.range,r=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:s,duration:s-r,allDay:Number(n.allDay),_seg:e})}function Tse(e,t){let{pluginHooks:n}=t,i=n.isDraggableTransformers,{def:r,ui:s}=e.eventRange,o=s.startEditable;for(let a of i)o=a(o,r,s,t);return o}function Dse(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function Ese(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function Uo(e,t,n,i,r,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=e.eventRange.def,h=e.eventRange.instance;c==null&&(c=i!==!1),u==null&&(u=r!==!1);let f=h.range.start,v=h.range.end,b=s||e.start||e.eventRange.range.start,x=o||e.end||e.eventRange.range.end,w=rt(f).valueOf()===rt(b).valueOf(),A=rt(Kr(v,-1)).valueOf()===rt(Kr(x,-1)).valueOf();return c&&!d.allDay&&(w||A)?(b=w?f:b,x=A?v:x,u&&d.hasEnd?a.formatRange(b,x,t,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):a.format(b,t,{forcedTzo:s?null:h.forcedStartTzo})):""}function ki(e,t,n){let i=e.eventRange.range;return{isPast:i.end<=(n||t.start),isFuture:i.start>=(n||t.end),isToday:t&&Gi(t,i.start)}}function Ase(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function hf(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function ou(e,t){let{def:n,instance:i}=e.eventRange,{url:r}=n;if(r)return{href:r};let{emitter:s,options:o}=t,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?DB(l=>{s.trigger("eventClick",{el:l.target,event:new yt(t,n,i),jsEvent:l,view:t.viewApi})}):{}}var Ise={start:I,end:I,allDay:Boolean};function kse(e,t,n){let i=Mse(e,t),{range:r}=i;if(!r.start)return null;if(!r.end){if(n==null)return null;r.end=t.add(r.start,n)}return i}function Mse(e,t){let{refined:n,extra:i}=Ov(e,Ise),r=n.start?t.createMarkerMeta(n.start):null,s=n.end?t.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=r&&r.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:s?s.marker:null},allDay:o},i)}function CD(e,t){return BB(e.range,t.range)&&e.allDay===t.allDay&&Rse(e,t)}function Rse(e,t){for(let n in t)if(n!=="range"&&n!=="allDay"&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function Lse(e,t){return Object.assign(Object.assign({},YB(e.range,t,e.allDay)),{allDay:e.allDay})}function wD(e,t,n){return Object.assign(Object.assign({},YB(e,t,n)),{timeZone:t.timeZone})}function YB(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function Nse(e,t,n){let i=Hv({editable:!1},n),r=$h(i.refined,i.extra,"",e.allDay,!0,n);return{def:r,ui:qB(r,t),instance:cf(r.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function SD(e,t,n){let i=!1,r=function(a){i||(i=!0,t(a))},s=function(a){i||(i=!0,n(a))},o=e(r,s);o&&typeof o.then=="function"&&o.then(r,s)}var Iv=class extends Error{constructor(t,n){super(t),this.response=n}};function TD(e,t,n){e=e.toUpperCase();let i={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,i).then(r=>{if(r.ok)return r.json().then(s=>[s,r],()=>{throw new Iv("Failure parsing JSON",r)});throw new Iv("Request failed",r)})}var DT;function DD(){return DT==null&&(DT=Fse()),DT}function Fse(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let n=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),n}var Wh=class extends Pe{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Hh(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Hh(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:n}=t,{forPrint:i}=this.state,r=i||n.height==="auto"||n.contentHeight==="auto",s=!r&&n.height!=null?n.height:"",o=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,t.theme.getClass("root")];return DD()||o.push("fc-liquid-hack"),t.children(o,s,r,i)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}},br=class{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}};function XB(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function ff(e){return{[e.component.uid]:e}}var au={},wr=(()=>{class e extends xn{constructor(n,i){super(n,i),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:n,state:i}=this;return n.children(i.nowDate,i.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:n,context:i}=this,r=i.nowManager.getDateMarker(),s=i.dateEnv.startOf(r,n.unit),a=i.dateEnv.add(s,Ee(1,n.unit)).valueOf()-r.valueOf();return a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:Ose(s)},waitMs:a}}setTimeout(n=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let i=this.computeTiming();this.setState(i.state,()=>{this.setTimeout(i.waitMs)})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return e.contextType=Yi,e})();function Ose(e){let t=rt(e),n=Ot(t,1);return{start:t,end:n}}var qh=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,n){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:n})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[t]?i.emitter.on(t,n):console.warn(`Unknown listener name '${t}'`)}off(t,n){this.currentDataManager.emitter.off(t,n)}trigger(t,...n){this.currentDataManager.emitter.trigger(t,...n)}changeView(t,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,n){let i=this.getCurrentData(),r;n=n||"day",r=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),r?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:r.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),r=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),s,o;for(let a in n)r.push(a);for(s=0;s<r.length;s+=1)if(o=n[r[s]],o&&o.singleUnit===t)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(t)})}incrementDate(t){let n=this.getCurrentData(),i=Ee(t);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(t),at(n))}formatRange(t,n,i){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(t),r.createMarker(n),at(i),i)}formatIso(t,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(t),{omitTime:n})}select(t,n){let i;n==null?t.start!=null?i=t:i={start:t,end:null}:i={start:t,end:n};let r=this.getCurrentData(),s=kse(i,r.dateEnv,Ee({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),zv(s,null,r))}unselect(t){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),bse(t,n))}addEvent(t,n){if(t instanceof yt){let o=t._def,a=t._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Gh({def:o,instance:a})}),this.triggerEventAdd(t)),t}let i=this.getCurrentData(),r;if(n instanceof Ro)r=n.internalEventSource;else if(typeof n=="boolean")n&&([r]=Vv(i.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;r=o.internalEventSource}let s=UB(t,r,i,!1);if(s){let o=new yt(i,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Gh(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(t){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:WB(t)})}})}getEventById(t){let n=this.getCurrentData(),{defs:i,instances:r}=n.eventStore;t=String(t);for(let s in i){let o=i[s];if(o.publicId===t){if(o.recurringDef)return new yt(n,o,null);for(let a in r){let l=r[a];if(l.defId===o.defId)return new yt(n,o,l)}}}return null}getEvents(){let t=this.getCurrentData();return ns(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),n=t.eventSources,i=[];for(let r in n)i.push(new Ro(t,n[r]));return i}getEventSourceById(t){let n=this.getCurrentData(),i=n.eventSources;t=String(t);for(let r in i)if(i[r].publicId===t)return new Ro(n,i[r]);return null}addEventSource(t){let n=this.getCurrentData();if(t instanceof Ro)return n.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let i=gD(t,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ro(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let n=Ee(t);n&&this.trigger("_scrollRequest",{time:n})}};function ED(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Gv(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function AD(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function ID(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function kD(e,t){return{left:e.left-t.left,top:e.top-t.top}}var ET=kn(),Yh=class{constructor(){this.getKeysForEventDefs=oe(this._getKeysForEventDefs),this.splitDateSelection=oe(this._splitDateSpan),this.splitEventStore=oe(this._splitEventStore),this.splitIndividualUi=oe(this._splitIndividualUi),this.splitEventDrag=oe(this._splitInteraction),this.splitEventResize=oe(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let n=this.getKeyInfo(t),i=this.getKeysForEventDefs(t.eventStore),r=this.splitDateSelection(t.dateSelection),s=this.splitIndividualUi(t.eventUiBases,i),o=this.splitEventStore(t.eventStore,i),a=this.splitEventDrag(t.eventDrag),l=this.splitEventResize(t.eventResize),c={};this.eventUiBuilders=Wi(n,(u,d)=>this.eventUiBuilders[d]||oe(Pse));for(let u in n){let d=n[u],h=o[u]||ET,f=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||t.businessHours,dateSelection:r[u]||null,eventStore:h,eventUiBases:f(t.eventUiBases[""],d.ui,s[u]),eventSelection:h.instances[t.eventSelection]?t.eventSelection:"",eventDrag:a[u]||null,eventResize:l[u]||null}}return c}_splitDateSpan(t){let n={};if(t){let i=this.getKeysForDateSpan(t);for(let r of i)n[r]=t}return n}_getKeysForEventDefs(t){return Wi(t.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(t,n){let{defs:i,instances:r}=t,s={};for(let o in i)for(let a of n[o])s[a]||(s[a]=kn()),s[a].defs[o]=i[o];for(let o in r){let a=r[o];for(let l of n[a.defId])s[l]&&(s[l].instances[o]=a)}return s}_splitIndividualUi(t,n){let i={};for(let r in t)if(r)for(let s of n[r])i[s]||(i[s]={}),i[s][r]=t[r];return i}_splitInteraction(t){let n={};if(t){let i=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),r=this._getKeysForEventDefs(t.mutatedEvents),s=this._splitEventStore(t.mutatedEvents,r),o=a=>{n[a]||(n[a]={affectedEvents:i[a]||ET,mutatedEvents:s[a]||ET,isEvent:t.isEvent})};for(let a in i)o(a);for(let a in s)o(a)}return n}};function Pse(e,t,n){let i=[];e&&i.push(e),t&&i.push(t);let r={"":mD(i)};return n&&Object.assign(r,n),r}function pf(e,t,n,i){return{dow:e.getUTCDay(),isDisabled:!!(i&&(!i.activeRange||!Gi(i.activeRange,e))),isOther:!!(i&&!Gi(i.currentRange,e)),isToday:!!(t&&Gi(t,e)),isPast:!!(n?e<n:t&&e<t.start),isFuture:!!(n?e>n:t&&e>=t.end)}}function lu(e,t){let n=["fc-day",`fc-day-${_re[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}var Vse=at({year:"numeric",month:"long",day:"numeric"}),Bse=at({week:"long"});function is(e,t,n="day",i=!0){let{dateEnv:r,options:s,calendarApi:o}=e,a=r.format(t,n==="week"?Bse:Vse);if(s.navLinks){let l=r.toDate(t),c=u=>{let d=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof d=="function"?d.call(o,r.toDate(t),u):(typeof d=="string"&&(n=d),o.zoomTo(t,n))};return Object.assign({title:nu(s.navLinkHint,[a,l],a),"data-navlink":""},i?TB(c):{onClick:c})}return{"aria-label":a}}var AT=null;function QB(){return AT===null&&(AT=jse()),AT}function jse(){let e=document.createElement("div");vl(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let n=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return tf(e),n}var IT;function ZB(){return IT||(IT=Hse()),IT}function Hse(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=KB(e);return document.body.removeChild(e),t}function KB(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function JB(e,t=!1){let n=window.getComputedStyle(e),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=KB(e),l=a.y-i-r,c=a.x-s-o,u={borderLeft:i,borderRight:r,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return QB()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,t&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function MD(e,t=!1,n){let i=n?e.getBoundingClientRect():mf(e),r=JB(e,t),s={left:i.left+r.borderLeft+r.scrollbarLeft,right:i.right-r.borderRight-r.scrollbarRight,top:i.top+r.borderTop,bottom:i.bottom-r.borderBottom-r.scrollbarBottom};return t&&(s.left+=r.paddingLeft,s.right-=r.paddingRight,s.top+=r.paddingTop,s.bottom-=r.paddingBottom),s}function mf(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function Use(e){let t=Wv(e),n=e.getBoundingClientRect();for(let i of t){let r=Gv(n,i.getBoundingClientRect());if(r)n=r;else return null}return n}function Wv(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}var Cr=class{constructor(t,n,i,r){this.els=n;let s=this.originClientRect=t.getBoundingClientRect();i&&this.buildElHorizontals(s.left),r&&this.buildElVerticals(s.top)}buildElHorizontals(t){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.left-t),i.push(s.right-t)}this.lefts=n,this.rights=i}buildElVerticals(t){let n=[],i=[];for(let r of this.els){let s=r.getBoundingClientRect();n.push(s.top-t),i.push(s.bottom-t)}this.tops=n,this.bottoms=i}leftToIndex(t){let{lefts:n,rights:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(t>=n[s]&&t<i[s])return s}topToIndex(t){let{tops:n,bottoms:i}=this,r=n.length,s;for(s=0;s<r;s+=1)if(t>=n[s]&&t<i[s])return s}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return vv(this.tops||[],t.tops||[])&&vv(this.bottoms||[],t.bottoms||[])&&vv(this.lefts||[],t.lefts||[])&&vv(this.rights||[],t.rights||[])}};function vv(e,t){let n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(Math.round(e[i])!==Math.round(t[i]))return!1;return!0}var ll=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Xh=class extends ll{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Qh=class extends ll{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},bn=class extends Pe{constructor(){super(...arguments),this.uid=Gs()}prepareHits(){}queryHit(t,n,i,r){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Jt(t,".fc-event-mirror")}isValidDateDownEl(t){return!Jt(t,".fc-event:not(.fc-bg-event)")&&!Jt(t,".fc-more-link")&&!Jt(t,"a[data-navlink]")&&!Jt(t,".fc-popover")}};var cl=class{constructor(t=n=>n.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let n=[];for(let i of t)this.insertEntry(i,n);return n}insertEntry(t,n){let i=this.findInsertion(t);this.isInsertionValid(i,t)?this.insertEntryAt(t,i):this.handleInvalidInsertion(i,t,n)}isInsertionValid(t,n){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,n,i){if(this.allowReslicing&&t.touchingEntry){let r=Object.assign(Object.assign({},n),{span:gf(n.span,t.touchingEntry.span)});i.push(r),this.splitEntry(n,t.touchingEntry,i)}else i.push(n)}splitEntry(t,n,i){let r=t.span,s=n.span;r.start<s.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:r.start,end:s.start}},i),r.end>s.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:s.end,end:r.end}},i)}insertEntryAt(t,n){let{entriesByLevel:i,levelCoords:r}=this;n.lateral===-1?(kT(r,n.level,n.levelCoord),kT(i,n.level,[t])):kT(i[n.level],n.lateral,t),this.stackCnts[Jr(t)]=n.stackCnt}findInsertion(t){let{levelCoords:n,entriesByLevel:i,strictOrder:r,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,u=null,d=0;for(let v=0;v<o;v+=1){let b=n[v];if(!r&&b>=a+this.getEntryThickness(t))break;let x=i[v],w,A=Kh(x,t.span.start,Zh),T=A[0]+A[1];for(;(w=x[T])&&w.span.start<t.span.end;){let k=b+this.getEntryThickness(w);k>a&&(a=k,u=w,l=v,c=T),k===a&&(d=Math.max(d,s[Jr(w)]+1)),T+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let f=-1;return h<o&&n[h]===a&&(f=Kh(i[h],t.span.end,Zh)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:a,level:h,lateral:f}}toRects(){let{entriesByLevel:t,levelCoords:n}=this,i=t.length,r=[];for(let s=0;s<i;s+=1){let o=t[s],a=n[s];for(let l of o)r.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return r}};function Zh(e){return e.span.end}function Jr(e){return e.index+":"+e.span.start}function RD(e){let t=[];for(let n of e){let i=[],r={span:n.span,entries:[n]};for(let s of t)gf(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:$se(s.span,r.span)}:i.push(s);i.push(r),t=i}return t}function $se(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function gf(e,t){let n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return n<i?{start:n,end:i}:null}function kT(e,t,n){e.splice(t,0,n)}function Kh(e,t,n){let i=0,r=e.length;if(!r||t<n(e[i]))return[0,0];if(t>n(e[r-1]))return[r,0];for(;i<r;){let s=Math.floor(i+(r-i)/2),o=n(e[s]);if(t<o)r=s;else if(t>o)i=s+1;else return[s,1]}return[i,0]}var Jh=class{constructor(t,n){this.emitter=new $s}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}},vf={};function ej(e,t){return!e||t>10?at({weekday:"short"}):t>1?at({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):at({weekday:"long"})}var tj="fc-col-header-cell";function nj(e){return e.text}var kv=class extends Pe{render(){let{dateEnv:t,options:n,theme:i,viewApi:r}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=pf(o,s.todayRange,null,a),c=[tj].concat(lu(l,i)),u=t.format(o,s.dayHeaderFormat),d=!l.isDisabled&&s.colCnt>1?is(this.context,o):{},h=t.toDate(o);t.namedTimeZoneImpl&&(h=Kr(h,36e5));let f=Object.assign(Object.assign(Object.assign({date:h,view:r},s.extraRenderProps),{text:u}),l);return C(en,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:Bo(o)},s.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:nj,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},v=>C("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&C(v,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}},zse=at({weekday:"long"}),Mv=class extends Pe{render(){let{props:t}=this,{dateEnv:n,theme:i,viewApi:r,options:s}=this.context,o=Ot(new Date(2592e5),t.dow),a={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,t.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:r}),t.extraRenderProps),{text:l});return C(en,{elTag:"th",elClasses:[tj,...lu(a,i),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:nj,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>C("div",{className:"fc-scrollgrid-sync-inner"},C(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,zse)}})))}},ul=class extends Pe{constructor(){super(...arguments),this.createDayHeaderFormatter=oe(Gse)}render(){let{context:t}=this,{dates:n,dateProfile:i,datesRepDistinctDays:r,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(t.options.dayHeaderFormat,r,n.length);return C(wr,{unit:"day"},(a,l)=>C("tr",{role:"row"},s&&s("day"),n.map(c=>r?C(kv,{key:c.toISOString(),date:c,dateProfile:i,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):C(Mv,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}};function Gse(e,t,n){return e||ej(t,n)}var dl=class{constructor(t,n){let i=t.start,{end:r}=t,s=[],o=[],a=-1;for(;i<r;)n.isHiddenDay(i)?s.push(a+.5):(a+=1,s.push(a),o.push(i)),i=Ot(i,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(t){let n=this.getDateDayIndex(t.start),i=this.getDateDayIndex(Ot(t.end,-1)),r=Math.max(0,n),s=Math.min(this.cnt-1,i);return r=Math.ceil(r),s=Math.floor(s),r<=s?{firstIndex:r,lastIndex:s,isStart:n===r,isEnd:i===s}:null}getDateDayIndex(t){let{indices:n}=this,i=Math.floor(ts(this.dates[0],t));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}},hl=class{constructor(t,n){let{dates:i}=t,r,s,o;if(n){for(s=i[0].getUTCDay(),r=1;r<i.length&&i[r].getUTCDay()!==s;r+=1);o=Math.ceil(i.length/r)}else o=1,r=i.length;this.rowCnt=o,this.colCnt=r,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let r=0;r<this.colCnt;r+=1)i.push(this.buildCell(n,r));t.push(i)}return t}buildCell(t,n){let i=this.daySeries.dates[t*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let t=[];for(let n=0;n<this.colCnt;n+=1)t.push(this.cells[0][n].date);return t}sliceRange(t){let{colCnt:n}=this,i=this.daySeries.sliceRange(t),r=[];if(i){let{firstIndex:s,lastIndex:o}=i,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);r.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:i.isStart&&a===s,isEnd:i.isEnd&&c-1===o}),a=c}}return r}},fl=class{constructor(){this.sliceBusinessHours=oe(this._sliceBusinessHours),this.sliceDateSelection=oe(this._sliceDateSpan),this.sliceEventStore=oe(this._sliceEventStore),this.sliceEventDrag=oe(this._sliceInteraction),this.sliceEventResize=oe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,n,i,r,...s){let{eventUiBases:o}=t,a=this.sliceEventStore(t.eventStore,o,n,i,...s);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,n,i,o,r,...s),businessHourSegs:this.sliceBusinessHours(t.businessHours,n,i,r,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(t.eventDrag,o,n,i,...s),eventResize:this.sliceEventResize(t.eventResize,o,n,i,...s),eventSelection:t.eventSelection}}sliceNowDate(t,n,i,r,...s){return this._sliceDateSpan({range:{start:t,end:Kr(t,1)},allDay:!1},n,i,{},r,...s)}_sliceBusinessHours(t,n,i,r,...s){return t?this._sliceEventStore(al(t,yv(n,!!i),r),{},n,i,...s).bg:[]}_sliceEventStore(t,n,i,r,...s){if(t){let o=eu(t,n,yv(i,!!r),r);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(t,n,i,r,...s){if(!t)return null;let o=eu(t.mutatedEvents,n,yv(i,!!r),r);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,n,i,r,s,...o){if(!t)return[];let a=yv(n,!!i),l=Ii(t.range,a);if(l){t=Object.assign(Object.assign({},t),{range:l});let c=Nse(t,r,s),u=this.sliceRange(t.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(t,n){let i=[];for(let r of t)i.push(...this.sliceEventRange(r,n));return i}sliceEventRange(t,n){let i=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(i={start:i.start,end:Ot(i.start,1)});let r=this.sliceRange(i,...n);for(let s of r)s.eventRange=t,s.isStart=t.isStart&&s.isStart,s.isEnd=t.isEnd&&s.isEnd;return r}};function yv(e,t){let n=e.activeRange;return t?n:{start:Kr(n.start,e.slotMinTime.milliseconds),end:Kr(n.end,e.slotMaxTime.milliseconds-864e5)}}function qv(e,t,n){let{instances:i}=e.mutatedEvents;for(let r in i)if(!ru(t.validRange,i[r].range))return!1;return ij({eventDrag:e},n)}function LD(e,t,n){return ru(t.validRange,e.range)?ij({dateSelection:e},n):!1}function ij(e,t){let n=t.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||rj)(i,t)}function rj(e,t,n={},i){return!(e.eventDrag&&!Wse(e,t,n,i)||e.dateSelection&&!qse(e,t,n,i))}function Wse(e,t,n,i){let r=t.getCurrentData(),s=e.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=Av(a,s.isEvent?e.eventUiBases:{"":r.selectionConfig});i&&(c=Wi(c,i));let u=mse(e.eventStore,s.affectedEvents.instances),d=u.defs,h=u.instances,f=Av(d,e.eventUiBases);for(let v in l){let b=l[v],x=b.range,w=c[b.defId],A=a[b.defId];if(!sj(w.constraints,x,u,e.businessHours,t))return!1;let{eventOverlap:T}=t.options,k=typeof T=="function"?T:null;for(let M in h){let Y=h[M];if(Bv(x,Y.range)&&(f[Y.defId].overlap===!1&&s.isEvent||w.overlap===!1||k&&!k(new yt(t,d[Y.defId],Y),new yt(t,A,b))))return!1}let P=r.eventStore;for(let M of w.allows){let Y=Object.assign(Object.assign({},n),{range:b.range,allDay:A.allDay}),G=P.defs[A.defId],He=P.instances[v],be;if(G?be=new yt(t,G,He):be=new yt(t,A),!M(xD(Y,t),be))return!1}}return!0}function qse(e,t,n,i){let r=e.eventStore,s=r.defs,o=r.instances,a=e.dateSelection,l=a.range,{selectionConfig:c}=t.getCurrentData();if(i&&(c=i(c)),!sj(c.constraints,l,r,e.businessHours,t))return!1;let{selectOverlap:u}=t.options,d=typeof u=="function"?u:null;for(let h in o){let f=o[h];if(Bv(l,f.range)&&(c.overlap===!1||d&&!d(new yt(t,s[f.defId],f),null)))return!1}for(let h of c.allows){let f=Object.assign(Object.assign({},n),a);if(!h(xD(f,t),null))return!1}return!0}function sj(e,t,n,i,r){for(let s of e)if(!Xse(Yse(s,t,n,i,r),t))return!1;return!0}function Yse(e,t,n,i,r){return e==="businessHours"?MT(al(i,t,r)):typeof e=="string"?MT($v(n,s=>s.groupId===e)):typeof e=="object"&&e?MT(al(e,t,r)):[]}function MT(e){let{instances:t}=e,n=[];for(let i in t)n.push(t[i].range);return n}function Xse(e,t){for(let n of e)if(ru(n,t))return!0;return!1}var _v=/^(visible|hidden)$/,tu=class extends Pe{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,Xi(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:n,liquidIsAbsolute:i}=t,r=n&&i,s=["fc-scroller"];return n&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),C("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:r&&-(t.overcomeLeft||0)||"",right:r&&-(t.overcomeRight||0)||"",bottom:r&&-(t.overcomeBottom||0)||"",marginLeft:!r&&-(t.overcomeLeft||0)||"",marginRight:!r&&-(t.overcomeRight||0)||"",marginBottom:!r&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(_v.test(this.props.overflowX))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=t;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(_v.test(this.props.overflowY))return!1;let{el:t}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=t;for(let r=0;r<i.length;r+=1)if(i[r].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return _v.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return _v.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},ii=class{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:r,currentMap:s}=this,o=!1,a=!1;n!==null?(o=i in s,s[i]=n,r[i]=(r[i]||0)+1,a=!0):(r[i]-=1,r[i]||(delete s[i],delete this.callbackMap[i],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(i)),a&&this.masterCallback(n,String(i)))}}createRef(t){let n=this.callbackMap[t];return n||(n=this.callbackMap[t]=i=>{this.handleValue(i,String(t))}),n}collect(t,n,i){return NB(this.currentMap,t,n,i)}getAll(){return Vv(this.currentMap)}};function oj(e){let t=wB(e,".fc-scrollgrid-shrink"),n=0;for(let i of t)n=Math.max(n,fre(i));return Math.ceil(n)}function ND(e,t){return e.liquid&&t.liquid}function aj(e,t){return t.maxHeight!=null||ND(e,t)}function lj(e,t,n,i){let{expandRows:r}=n;return typeof t.content=="function"?t.content(n):C("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:r?n.clientHeight:""}},n.tableColGroupNode,C(i?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(n):t.rowContent))}function cj(e,t){return es(e,t,Ai)}function uj(e,t){let n=[];for(let i of e){let r=i.span||1;for(let s=0;s<r;s+=1)n.push(C("col",{style:{width:i.width==="shrink"?dj(t):i.width||"",minWidth:i.minWidth||""}}))}return C("colgroup",{},...n)}function dj(e){return e??4}function hj(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function fj(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function pj(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function cu(e){return C("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function _l(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function yf(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}var Oo=class extends Pe{constructor(){super(...arguments),this.processCols=oe(t=>t,cj),this.renderMicroColGroup=oe(uj),this.scrollerRefs=new ii,this.scrollerElRefs=new ii(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:n,context:i}=this,r=t.sections||[],s=this.processCols(t.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=fj(t.liquid,i);t.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=r.length,c=0,u,d=[],h=[],f=[];for(;c<l&&(u=r[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=r[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=r[c]).type==="footer";)f.push(this.renderSection(u,o,!0)),c+=1;let v=!DD(),b={role:"rowgroup"};return C("table",{role:"grid",className:a.join(" "),style:{height:t.height}},!!(!v&&d.length)&&C("thead",b,...d),!!(!v&&h.length)&&C("tbody",b,...h),!!(!v&&f.length)&&C("tfoot",b,...f),v&&C("tbody",b,...d,...h,...f))}renderSection(t,n,i){return"outerContent"in t?C(je,{key:t.key},t.outerContent):C("tr",{key:t.key,role:"presentation",className:pj(t,this.props.liquid).join(" ")},this.renderChunkTd(t,n,t.chunk,i))}renderChunkTd(t,n,i,r){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=aj(s,t),u=ND(s,t),d=s.liquid?o?"scroll":c?"auto":"hidden":"visible",h=t.key,f=lj(t,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return C(r?"th":"td",{ref:i.elRef,role:"presentation"},C("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},C(tu,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))}_handleScrollerEl(t,n){let i=Qse(this.props.sections,n);i&&Xi(i.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return hj(this.props.cols)?oj(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=ZB(),{scrollerRefs:n,scrollerElRefs:i}=this,r=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){r=!0;break}}for(let a of this.props.sections){let l=a.key,c=i.currentMap[l];if(c){let u=c.parentNode;s[l]=Math.floor(u.getBoundingClientRect().width-(r?t.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:s,scrollerClientHeights:o}}};Oo.addStateEquality({scrollerClientWidths:Ai,scrollerClientHeights:Ai});function Qse(e,t){for(let n of e)if(n.key===t)return n;return null}var zs=class extends Pe{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,t&&vB(t,this.props.seg)}}render(){let{props:t,context:n}=this,{options:i}=n,{seg:r}=t,{eventRange:s}=r,{ui:o}=s,a={event:new yt(n,s.def,s.instance),view:n.viewApi,timeText:t.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!t.disableDragging&&Tse(r,n),isStartResizable:!t.disableResizing&&Dse(r,n),isEndResizable:!t.disableResizing&&Ese(r),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!r.isStart,isEnd:!!r.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return C(en,Object.assign({},t,{elRef:this.handleEl,elClasses:[...Ase(a),...r.eventRange.ui.classNames,...t.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&vB(this.el,this.props.seg)}},pl=class extends Pe{render(){let{props:t,context:n}=this,{options:i}=n,{seg:r}=t,{ui:s}=r.eventRange,o=i.eventTimeFormat||t.defaultTimeFormat,a=Uo(r,o,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return C(zs,Object.assign({},t,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:ou(r,n),defaultGenerator:Zse,timeText:a}),(l,c)=>C(je,null,C(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&C("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&C("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function Zse(e){return C("div",{className:"fc-event-main-frame"},e.timeText&&C("div",{className:"fc-event-time"},e.timeText),C("div",{className:"fc-event-title-container"},C("div",{className:"fc-event-title fc-sticky"},e.event.title||C(je,null,"\xA0"))))}var _f=e=>C(Yi.Consumer,null,t=>{let{options:n}=t,i={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return C(en,Object.assign({},e,{elTag:e.elTag||"div",renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),Kse=at({day:"numeric"}),Po=class extends Pe{constructor(){super(...arguments),this.refineRenderProps=iu(Jse)}render(){let{props:t,context:n}=this,{options:i}=n,r=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return C(en,Object.assign({},t,{elClasses:[...lu(r,n.theme),...t.elClasses||[]],elAttrs:Object.assign(Object.assign({},t.elAttrs),r.isDisabled?{}:{"data-date":Bo(t.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:r.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}};function uu(e){return!!(e.dayCellContent||jT("dayCellContent",e))}function Jse(e){let{date:t,dateEnv:n,dateProfile:i,isMonthStart:r}=e,s=pf(t,e.todayRange,null,i),o=e.showDayNumber?n.format(t,r?e.monthStartFormat:Kse):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},s),{isMonthStart:r,dayNumberText:o}),e.extraRenderProps)}var ml=class extends Pe{render(){let{props:t}=this,{seg:n}=t;return C(zs,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:eoe,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}};function eoe(e){let{title:t}=e.event;return t&&C("div",{className:"fc-event-title"},e.event.title)}function xf(e){return C("div",{className:`fc-${e}`})}var bf=e=>C(Yi.Consumer,null,t=>{let{dateEnv:n,options:i}=t,{date:r}=e,s=i.weekNumberFormat||e.defaultFormat,o=n.computeWeekNumber(r),a=n.format(r,s);return C(en,Object.assign({},e,{renderProps:{num:o,text:a,date:r},generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:toe,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount}))});function toe(e){return e.text}var RT=10,UT=class extends Pe{constructor(){super(...arguments),this.state={titleId:qi()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&Xi(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{let n=Rv(t);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:n}=this.context,{props:i,state:r}=this,s=["fc-popover",t.getClass("popover")].concat(i.extraClassNames||[]);return sB(C("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),C("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},C("span",{className:"fc-popover-title",id:r.titleId},i.title),C("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),C("div",{className:"fc-popover-body "+t.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:r}=this,s=Use(n);if(s){let o=r.getBoundingClientRect(),a=i?Jt(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=t?s.right-o.width:s.left;a=Math.max(a,RT),l=Math.min(l,document.documentElement.clientWidth-RT-o.width),l=Math.max(l,RT);let c=r.offsetParent.getBoundingClientRect();vl(r,{top:a-c.top,left:l-c.left})}}},$T=class extends bn{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:n}=this.context,{props:i}=this,{startDate:r,todayRange:s,dateProfile:o}=i,a=n.format(r,t.dayPopoverFormat);return C(Po,{elRef:this.handleRootEl,date:r,dateProfile:o,todayRange:s},(l,c,u)=>C(UT,{elRef:u.ref,id:i.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},uu(t)&&C(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(t,n,i,r){let{rootEl:s,props:o}=this;return t>=0&&t<i&&n>=0&&n<r?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:r},layer:1}:null}},gl=class extends Pe{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:qi()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&Xi(this.props.elRef,t)},this.handleClick=t=>{let{props:n,context:i}=this,{moreLinkClick:r}=i.options,s=yB(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new yt(i,l,c),start:i.dateEnv.toDate(u.start),end:i.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof r=="function"&&(r=r({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:t,view:i.viewApi})),!r||r==="popover"?this.setState({isPopoverOpen:!0}):typeof r=="string"&&i.calendarApi.zoomTo(s,r)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:n}=this;return C(Yi.Consumer,null,i=>{let{viewApi:r,options:s,calendarApi:o}=i,{moreLinkText:a}=s,{moreCnt:l}=t,c=yB(t),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,d=nu(s.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:r};return C(je,null,!!t.moreCnt&&C(en,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),TB(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:t.defaultGenerator||noe,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},t.children),n.isPopoverOpen&&C($T,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Jt(this.linkEl,".fc-view-harness"))}};function noe(e){return e.text}function yB(e){if(e.allDayDate)return{start:e.allDayDate,end:Ot(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:Yv(t),end:roe(t)}}function Yv(e){return e.reduce(ioe).eventRange.range.start}function ioe(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function roe(e){return e.reduce(soe).eventRange.range.end}function soe(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}var zT=class{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let n of this.handlers)n(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}},ef=class extends zT{constructor(){super(...arguments),this.map=new Map}handle(t){let{map:n}=this,i=!1;t.isActive?(n.set(t.id,t),i=!0):n.has(t.id)&&(n.delete(t.id),i=!0),i&&this.set(n)}};var ooe=[],bj={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Cj=Object.assign(Object.assign({},bj),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function aoe(e){let t=e.length>0?e[0].code:"en",n=ooe.concat(e),i={en:Cj};for(let r of n)i[r.code]=r;return{map:i,defaultCode:t}}function wj(e,t){return typeof e=="object"&&!Array.isArray(e)?Sj(e.code,[e.code],e):loe(e,t)}function loe(e,t){let n=[].concat(e||[]),i=coe(n,t)||Cj;return Sj(e,n,i)}function coe(e,t){for(let n=0;n<e.length;n+=1){let i=e[n].toLocaleLowerCase().split("-");for(let r=i.length;r>0;r-=1){let s=i.slice(0,r).join("-");if(t[s])return t[s]}}return null}function Sj(e,t,n){let i=Pv([bj,n],["buttonText"]);delete i.code;let{week:r}=i;return delete i.week,{codeArg:e,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(e),options:i}}function ri(e){return{id:Gs(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function uoe(e,t){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function r(s){for(let o of s){let a=o.name,l=n[a];l===void 0?(n[a]=o.id,r(o.deps),i=hoe(i,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return e&&r(e),r(t),i}function doe(){let e=[],t=[],n;return(i,r)=>((!n||!es(i,e)||!es(r,t))&&(n=uoe(i,r)),e=i,t=r,n)}function hoe(e,t){return{premiumReleaseDate:foe(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function foe(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}var rs=class extends Us{};rs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};rs.prototype.baseIconClass="fc-icon";rs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};rs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};rs.prototype.iconOverrideOption="buttonIcons";rs.prototype.iconOverrideCustomButtonOption="icon";rs.prototype.iconOverridePrefix="fc-icon-";function poe(e,t){let n={},i;for(i in e)OD(i,n,e,t);for(i in t)OD(i,n,e,t);return n}function OD(e,t,n,i){if(t[e])return t[e];let r=moe(e,t,n,i);return r&&(t[e]=r),r}function moe(e,t,n,i){let r=n[e],s=i[e],o=u=>r&&r[u]!==null?r[u]:s&&s[u]!==null?s[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=OD(l,t,n,i)}return!a&&c&&(a=c.component),a?{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),r?r.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function mj(e){return Wi(e,goe)}function goe(e){let t=typeof e=="function"?{component:e}:e,{component:n}=t;return t.content?n=gj(t):n&&!(n.prototype instanceof Pe)&&(n=gj(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function gj(e){return t=>C(Yi.Consumer,null,n=>C(en,{elTag:"div",elClasses:hD(n.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function voe(e,t,n,i){let r=mj(e),s=mj(t.views),o=poe(r,s);return Wi(o,a=>yoe(a,s,t,n,i))}function yoe(e,t,n,i,r){let s=e.overrides.duration||e.defaults.duration||i.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=_oe(s),o)){let h=Bh(o);a=h.unit,h.value===1&&(l=a,c=t[a]?t[a].rawOptions:{})}let u=h=>{let f=h.buttonText||{},v=e.defaults.buttonTextKey;return v!=null&&f[v]!=null?f[v]:f[e.type]!=null?f[e.type]:f[l]!=null?f[l]:null},d=h=>{let f=h.buttonHints||{},v=e.defaults.buttonTextKey;return v!=null&&f[v]!=null?f[v]:f[e.type]!=null?f[e.type]:f[l]!=null?f[l]:null};return{type:e.type,component:e.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},c),e.overrides),buttonTextOverride:u(i)||u(n)||e.overrides.buttonText,buttonTextDefault:u(r)||e.defaults.buttonText||u(jo)||e.type,buttonTitleOverride:d(i)||d(n)||e.overrides.buttonHint,buttonTitleDefault:d(r)||e.defaults.buttonHint||d(jo)}}var vj={};function _oe(e){let t=JSON.stringify(e),n=vj[t];return n===void 0&&(n=Ee(e),vj[t]=n),n}function xoe(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function boe(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}function Coe(e,t,n){let i=e.initialDate;return i!=null?t.createMarker(i):n.getDateMarker()}function woe(e,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function Soe(e,t,n,i){let r;switch(t.type){case"CHANGE_VIEW_TYPE":return i.build(t.dateMarker||n);case"CHANGE_DATE":return i.build(t.dateMarker);case"PREV":if(r=i.buildPrev(e,n),r.isValid)return r;break;case"NEXT":if(r=i.buildNext(e,n),r.isValid)return r;break}return e}function Toe(e,t,n){let i=t?t.activeRange:null;return Dj({},Roe(e,n),i,n)}function Doe(e,t,n,i){let r=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Dj(e,t.sources,r,i);case"REMOVE_EVENT_SOURCE":return Aoe(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Ej(e,r,i):e;case"FETCH_EVENT_SOURCES":return GD(e,t.sourceIds?cD(t.sourceIds):Aj(e,i),r,t.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Moe(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function Eoe(e,t,n){let i=t?t.activeRange:null;return GD(e,Aj(e,n),i,!0,n)}function Tj(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function Dj(e,t,n,i){let r={};for(let s of t)r[s.sourceId]=s;return n&&(r=Ej(r,n,i)),Object.assign(Object.assign({},e),r)}function Aoe(e,t){return Hs(e,n=>n.sourceId!==t)}function Ej(e,t,n){return GD(e,Hs(e,i=>Ioe(i,t,n)),t,!1,n)}function Ioe(e,t,n){return Ij(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function GD(e,t,n,i,r){let s={};for(let o in e){let a=e[o];t[o]?s[o]=koe(a,n,i,r):s[o]=a}return s}function koe(e,t,n,i){let{options:r,calendarApi:s}=i,o=i.pluginHooks.eventSourceDefs[e.sourceDefId],a=Gs();return o.fetch({eventSource:e,range:t,isRefetch:n,context:i},l=>{let{rawEvents:c}=l;r.eventSourceSuccess&&(c=r.eventSourceSuccess.call(s,c,l.response)||c),e.success&&(c=e.success.call(s,c,l.response)||c),i.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:a,fetchRange:t,rawEvents:c})},l=>{let c=!1;r.eventSourceFailure&&(r.eventSourceFailure.call(s,l),c=!0),e.failure&&(e.failure(l),c=!0),c||console.warn(l.message,l),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:a,fetchRange:t,error:l})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:a})}function Moe(e,t,n,i){let r=e[t];return r&&n===r.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},r),{isFetching:!1,fetchRange:i})}):e}function Aj(e,t){return Hs(e,n=>Ij(n,t))}function Roe(e,t){let n=vD(t),i=[].concat(e.eventSources||[]),r=[];e.initialEvents&&i.unshift(e.initialEvents),e.events&&i.unshift(e.events);for(let s of i){let o=gD(s,t,n);o&&r.push(o)}return r}function Ij(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function Loe(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function Noe(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function Foe(e,t){let n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Ooe(e,t){let n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Poe(e,t,n,i,r){let s=e.headerToolbar?yj(e.headerToolbar,e,t,n,i,r):null,o=e.footerToolbar?yj(e.footerToolbar,e,t,n,i,r):null;return{header:s,footer:o}}function yj(e,t,n,i,r,s){let o={},a=[],l=!1;for(let c in e){let u=e[c],d=Voe(u,t,n,i,r,s);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function Voe(e,t,n,i,r,s){let o=t.direction==="rtl",a=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},u=n.buttonHints||{},d=t.buttonHints||{},h=e?e.split(" "):[],f=[],v=!1;return{widgets:h.map(x=>x.split(",").map(w=>{if(w==="title")return v=!0,{buttonName:w};let A,T,k,P,M,Y;if(A=a[w])k=G=>{A.click&&A.click.call(G.target,G,G.target)},(P=i.getCustomButtonIconClass(A))||(P=i.getIconClass(w,o))||(M=A.text),Y=A.hint||A.text;else if(T=r[w]){f.push(w),k=()=>{s.changeView(w)},(M=T.buttonTextOverride)||(P=i.getIconClass(w,o))||(M=T.buttonTextDefault);let G=T.buttonTextOverride||T.buttonTextDefault;Y=nu(T.buttonTitleOverride||T.buttonTitleDefault||t.viewHint,[G,w],G)}else if(s[w])if(k=()=>{s[w]()},(M=l[w])||(P=i.getIconClass(w,o))||(M=c[w]),w==="prevYear"||w==="nextYear"){let G=w==="prevYear"?"prev":"next";Y=nu(u[G]||d[G],[c.year||"year","year"],c[w])}else Y=G=>nu(u[w]||d[w],[c[G]||G,G],c[w]);return{buttonName:w,buttonClick:k,buttonIcon:P,buttonText:M,buttonHint:Y}})),viewsWithButtons:f,hasTitle:v}}var PD=class{constructor(t,n,i){this.type=t,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}},Boe={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}},joe=ri({name:"array-event-source",eventSourceDefs:[Boe]}),Hoe={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,n){let{dateEnv:i}=e.context,r=e.eventSource.meta;SD(r.bind(null,wD(e.range,i)),s=>t({rawEvents:s}),n)}},Uoe=ri({name:"func-event-source",eventSourceDefs:[Hoe]}),$oe={method:String,extraParams:I,startParam:String,endParam:String,timeZoneParam:String},zoe={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,n){let{meta:i}=e.eventSource,r=Woe(i,e.range,e.context);TD(i.method,i.url,r).then(([s,o])=>{t({rawEvents:s,response:o})},n)}},Goe=ri({name:"json-event-source",eventSourceRefiners:$oe,eventSourceDefs:[zoe]});function Woe(e,t,n){let{dateEnv:i,options:r}=n,s,o,a,l,c={};return s=e.startParam,s==null&&(s=r.startParam),o=e.endParam,o==null&&(o=r.endParam),a=e.timeZoneParam,a==null&&(a=r.timeZoneParam),typeof e.extraParams=="function"?l=e.extraParams():l=e.extraParams||{},Object.assign(c,l),c[s]=i.formatIso(t.start),c[o]=i.formatIso(t.end),i.timeZone!=="local"&&(c[a]=i.timeZone),c}var qoe={daysOfWeek:I,startTime:Ee,endTime:Ee,duration:Ee,startRecur:I,endRecur:I},Yoe={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},i;return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(i=kB(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:i,typeData:n}}return null},expand(e,t,n){let i=Ii(t,{start:e.startRecur,end:e.endRecur});return i?Qoe(e.daysOfWeek,e.startTime,e.dateEnv,n,i):[]}},Xoe=ri({name:"simple-recurring-event",recurringTypes:[Yoe],eventRefiners:qoe});function Qoe(e,t,n,i,r){let s=e?cD(e):null,o=rt(r.start),a=r.end,l=[];for(;o<a;){let c;(!s||s[o.getUTCDay()])&&(t?c=i.add(o,t):c=o,l.push(i.createMarker(n.toDate(c)))),o=Ot(o,1)}return l}var Zoe=ri({name:"change-handler",optionChangeHandlers:{events(e,t){_j([e],t)},eventSources:_j}});function _j(e,t){let n=Vv(t.getCurrentData().eventSources);if(n.length===1&&e.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});return}let i=[];for(let r of e){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===r){n.splice(o,1),s=!0;break}s||i.push(r)}for(let r of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:r.sourceId});for(let r of i)t.calendarApi.addEventSource(r)}function Koe(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},wD(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function Joe(e,t){let{emitter:n}=t;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ns(e,t))}var eae=[joe,Uoe,Goe,Xoe,Zoe,ri({name:"misc",isLoadingFuncs:[e=>Tj(e.eventSources)],propSetHandlers:{dateProfile:Koe,eventStore:Joe}})],VD=class{constructor(t,n){this.runTaskOption=t,this.drainedOption=n,this.queue=[],this.delayedRunner=new sl(this.drain.bind(this))}request(t,n){this.queue.push(t),this.delayedRunner.request(n)}pause(t){this.delayedRunner.pause(t)}resume(t,n){this.delayedRunner.resume(t,n)}drain(){let{queue:t}=this;for(;t.length;){let n=[],i;for(;i=t.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}};function tae(e,t,n){let i;return/^(year|month)$/.test(e.currentRangeUnit)?i=e.currentRange:i=e.activeRange,n.formatRange(i.start,i.end,at(t.titleFormat||nae(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function nae(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let n=Jc(e.currentRange.start,e.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Xv=class{constructor(){this.resetListeners=new Set}handleInput(t,n){let i=this.dateEnv;if(t!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=t.toDate(n?t.createMarker(n):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,i))for(let r of this.resetListeners.values())r()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}},BD=class{constructor(t){this.computeCurrentViewData=oe(this._computeCurrentViewData),this.organizeRawLocales=oe(aoe),this.buildLocale=oe(wj),this.buildPluginHooks=doe(),this.buildDateEnv=oe(iae),this.buildTheme=oe(rae),this.parseToolbars=oe(Poe),this.buildViewSpecs=oe(voe),this.buildDateProfileGenerator=iu(sae),this.buildViewApi=oe(oae),this.buildViewUiProps=iu(cae),this.buildEventUiBySource=oe(aae,Ai),this.buildEventUiBases=oe(lae),this.parseContextBusinessHours=iu(uae),this.buildTitle=oe(tae),this.nowManager=new Xv,this.emitter=new $s,this.actionRunner=new VD(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=t,this.actionRunner.pause(),this.nowManager=new Xv;let n={},i=this.computeOptionsData(t.optionOverrides,n,t.calendarApi),r=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(r,i,t.optionOverrides,n);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(s.options);let o={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=Coe(i.calendarOptions,i.dateEnv,this.nowManager),l=s.dateProfileGenerator.build(a);Gi(l.activeRange,a)||(a=l.currentRange.start);for(let h of i.pluginHooks.contextInit)h(o);let c=Toe(i.calendarOptions,l,o),u={dynamicOptionOverrides:n,currentViewType:r,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:kn(),renderableEventStore:kn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},d=Object.assign(Object.assign({},o),u);for(let h of i.pluginHooks.reducers)Object.assign(u,h(null,null,d));FD(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(t,n){let{props:i}=this;n===void 0?i.optionOverrides=t:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),t),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:n,state:i,emitter:r}=this,s=woe(i.dynamicOptionOverrides,t),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=xoe(i.currentViewType,t),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,r.setThisContext(n.calendarApi),r.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=i;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=boe(u,t),d=Soe(d,t,u,l.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!Gi(d.currentRange,u))&&(u=d.currentRange.start);let h=Doe(i.eventSources,t,d,c),f=$B(i.eventStore,t,h,d,c),b=Tj(h)&&!l.options.progressiveEventRendering&&i.renderableEventStore||f,{eventUiSingleBase:x,selectionConfig:w}=this.buildViewUiProps(c),A=this.buildEventUiBySource(h),T=this.buildEventUiBases(b.defs,x,A),k={dynamicOptionOverrides:s,currentViewType:a,currentDate:u,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:b,selectionConfig:w,eventUiBases:T,businessHours:this.parseContextBusinessHours(c),dateSelection:Loe(i.dateSelection,t),eventSelection:Noe(i.eventSelection,t),eventDrag:Foe(i.eventDrag,t),eventResize:Ooe(i.eventResize,t)},P=Object.assign(Object.assign({},c),k);for(let G of o.pluginHooks.reducers)Object.assign(k,G(i,t,P));let M=FD(i,c),Y=FD(k,c);!M&&Y?r.trigger("loading",!0):M&&!Y&&r.trigger("loading",!1),this.state=k,n.onAction&&n.onAction(t)}updateData(){let{props:t,state:n}=this,i=this.data,r=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),s=this.computeCurrentViewData(n.currentViewType,r,t.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,s.options,r.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),s),n),a=r.pluginHooks.optionChangeHandlers,l=i&&i.calendarOptions,c=r.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=Eoe(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=yD(o.eventStore,i.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=yD(o.renderableEventStore,i.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],t.onData&&t.onData(o)}computeOptionsData(t,n,i){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:r,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(t,n);xj(l);let c=this.buildDateEnv(r.timeZone,r.locale,r.weekNumberCalculation,r.firstDay,r.weekText,s,a,r.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(r,s),h=this.parseToolbars(r,this.stableOptionOverrides,d,u,i);return this.stableCalendarOptionsData={calendarOptions:r,pluginHooks:s,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(t,n){let{locales:i,locale:r}=Fv([jo,t,n]),s=this.organizeRawLocales(i),o=s.map,a=this.buildLocale(r||s.defaultCode,o).options,l=this.buildPluginHooks(t.plugins||[],eae),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oD),aD),lD),l.listenerRefiners),l.optionRefiners),u={},d=Fv([jo,a,t,n]),h={},f=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,b=!1;for(let x in d)this.optionsForRefining.indexOf(x)===-1&&(d[x]===f[x]||Ho[x]&&x in f&&Ho[x](f[x],d[x]))?h[x]=v[x]:c[x]?(h[x]=c[x](d[x]),b=!0):u[x]=f[x];return b&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:u}}_computeCurrentViewData(t,n,i,r){let s=n.viewSpecs[t];if(!s)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,i,r);xj(a),this.nowManager.handleInput(n.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(t,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(t,n,i,r,s){let o=Fv([jo,t.optionDefaults,i,r,t.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},oD),aD),lD),LB),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let f in o)o[f]===c[f]||Ho[f]&&Ho[f](o[f],c[f])?l[f]=u[f]:(o[f]===this.currentCalendarOptionsInput[f]||Ho[f]&&Ho[f](o[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](o[f]):h[f]=o[f],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}};function iae(e,t,n,i,r,s,o,a){let l=wj(t||o.defaultCode,o.map);return new jh({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:i,weekText:r,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function rae(e,t){let n=t.themeClasses[e.themeSystem]||rs;return new n(e)}function sae(e){let t=e.dateProfileGeneratorClass||ol;return new t(e)}function oae(e,t,n){return new PD(e,t,n)}function aae(e){return Wi(e,t=>t.ui)}function lae(e,t,n){let i={"":t};for(let r in e){let s=e[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function cae(e){let{options:t}=e;return{eventUiSingleBase:su({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:su({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function FD(e,t){for(let n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function uae(e){return _D(e.options.businessHours,e)}function xj(e,t){for(let n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}var jD=class extends Pe{render(){let t=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return C("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:n}=this,{theme:i}=this.context,r=[],s=!0;for(let o of t){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(a==="title")s=!1,r.push(C("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,f=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",v=[`fc-${a}-button`,i.getClass("button")];h&&v.push(i.getClass("buttonActive")),r.push(C("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:f,"aria-pressed":h,className:v.join(" "),onClick:l},c||(u?C("span",{className:u,role:"img"}):"")))}}if(r.length>1){let o=s&&i.getClass("buttonGroup")||"";return C("div",{className:o},...r)}return r[0]}},Qv=class extends Pe{render(){let{model:t,extraClassName:n}=this.props,i=!1,r,s,o=t.sectionWidgets,a=o.center;return o.left?(i=!0,r=o.left):r=o.start,o.right?(i=!0,s=o.right):s=o.end,C("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",r||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(t,n){let{props:i}=this;return C(jD,{key:t,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}},HD=class extends Pe{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,Xi(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:n}=this,{aspectRatio:i}=t,r=["fc-view-harness",i||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return i?n.availableWidth!==null?s=n.availableWidth/i:o=`${1/i*100}%`:s=t.height||"",C("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:s,paddingBottom:o}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},UD=class extends br{constructor(t){super(t),this.handleSegClick=(n,i)=>{let{component:r}=this,{context:s}=r,o=Ws(i);if(o&&r.isValidSegDownEl(n.target)){let a=Jt(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:i,event:new yt(r.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=qT(t.el,"click",".fc-event",this.handleSegClick)}},$D=class extends br{constructor(t){super(t),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Ws(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=SB(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,n,i){let{component:r}=this,{context:s}=r,o=Ws(i);(!n||r.isValidSegDownEl(n.target))&&s.emitter.trigger(t,{el:i,event:new yt(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}},zD=class extends lf{constructor(){super(...arguments),this.buildViewContext=oe(VB),this.buildViewPropTransformers=oe(hae),this.buildToolbarProps=oe(dae),this.headerRef=Wt(),this.footerRef=Wt(),this.interactionsStore={},this.state={viewLabelId:qi()},this.registerInteractiveComponent=(t,n)=>{let i=XB(t,n),o=[UD,$D].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(i));this.interactionsStore[t.uid]=o,au[t.uid]=i},this.unregisterInteractiveComponent=t=>{let n=this.interactionsStore[t.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[t.uid]}delete au[t.uid]},this.resizeRunner=new sl(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:n}=this.props;n.handleWindowResize&&t.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:n,options:i}=t,r=!1,s="",o;t.isHeightAuto||t.forPrint?s="":i.height!=null?r=!0:i.contentHeight!=null?s=i.contentHeight:o=Math.max(i.aspectRatio,.5);let a=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return C(Yi.Provider,{value:a},C(wr,{unit:"day"},c=>{let u=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,c,t.viewTitle);return C(je,null,n.header&&C(Qv,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},u)),C(HD,{liquid:r,height:s,aspectRatio:o,labeledById:l},this.renderView(t),this.buildAppendContent()),n.footer&&C(Qv,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},u)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(i=>new i(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=t.pluginHooks;for(let i in n)n[i](t[i],t)}componentDidUpdate(t){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let r in i)n[r]!==t[r]&&i[r](n[r],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,n=t.pluginHooks.viewContainerAppends.map(i=>i(t));return C(je,{},...n)}renderView(t){let{pluginHooks:n}=t,{viewSpec:i}=t,r={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(r,a.transform(r,t));let o=i.component;return C(o,Object.assign({},r))}};function dae(e,t,n,i,r,s){let o=n.build(r,void 0,!1),a=n.buildPrev(t,i,!1),l=n.buildNext(t,i,!1);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:o.isValid&&!Gi(t.currentRange,r),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function hae(e){return e.map(t=>new t)}var Zv=class extends qh{constructor(t,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;Hh(()=>{Mo(C(Wh,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(r,s,o,a)=>(this.setClassNames(r),this.setHeight(s),C(dD.Provider,{value:this.customContentRenderId},C(zD,Object.assign({isHeightAuto:o,forPrint:a},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Mo(null,this.el),this.setClassNames([]),this.setHeight(""))},xB(t),this.el=t,this.renderRunner=new sl(this.handleRenderRequest),new BD({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Hh(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,n){this.currentDataManager.resetOptions(t,n)}setClassNames(t){if(!es(t,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of t)n.add(i);this.currentClassNames=t}}setHeight(t){WT(this.el,"height",t)}};var pae=["*"],mae=["rootEl"],hu=e=>({$implicit:e});function gae(e,t){if(e&1&&(m(0,"div",2,0),ur(2,3),p()),e&2){let n=S();_("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),g(2),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(4,hu,n.renderProps))}}function vae(e,t){if(e&1&&(m(0,"span",2,0),ur(2,3),p()),e&2){let n=S();_("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),g(2),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(4,hu,n.renderProps))}}function yae(e,t){if(e&1&&(m(0,"a",2,0),ur(2,3),p()),e&2){let n=S();_("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),g(2),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(4,hu,n.renderProps))}}function _ae(e,t){if(e&1&&(m(0,"tr",2,0),ur(2,3),p()),e&2){let n=S();_("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),g(2),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(4,hu,n.renderProps))}}function xae(e,t){if(e&1&&(m(0,"th",2,0),ur(2,3),p()),e&2){let n=S();_("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),g(2),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(4,hu,n.renderProps))}}function bae(e,t){if(e&1&&(m(0,"td",2,0),ur(2,3),p()),e&2){let n=S();_("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),g(2),_("ngTemplateOutlet",n.template)("ngTemplateOutletContext",ge(4,hu,n.renderProps))}}var Cae=["dayHeaderContent"],wae=["dayCellContent"],Sae=["weekNumberContent"],Tae=["nowIndicatorContent"],Dae=["eventContent"],Eae=["slotLaneContent"],Aae=["slotLabelContent"],Iae=["allDayContent"],kae=["moreLinkContent"],Mae=["noEventsContent"],Rae=["resourceAreaHeaderContent"],Lae=["resourceGroupLabelContent"],Nae=["resourceLabelContent"],Fae=["resourceLaneContent"],Oae=["resourceGroupLaneContent"];function Pae(e,t){if(e&1&&R(0,"transport-container",1),e&2){let n=t.$implicit;_("inPlaceOf",n.containerEl)("reportEl",n.reportNewContainerEl)("elTag",n.elTag)("elClasses",n.elClasses)("elStyle",n.elStyle)("elAttrs",n.elAttrs)("template",n.generatorMeta)("renderProps",n.renderProps)}}var kj={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Vae=["events","eventSources","resources"],Bae=Object.prototype.hasOwnProperty;function Jv(e){return Array.isArray(e)?e.map(Jv):e instanceof Date?new Date(e.valueOf()):typeof e=="object"&&e?Rj(e,Jv):e}function Rj(e,t){let n={};for(let i in e)Bae.call(e,i)&&(n[i]=t(e[i],i));return n}function qD(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!qD(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[i]))return!1;for(i=n;i--!==0;){var s=r[i];if(!qD(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}var Kv=typeof document<"u"?document.createDocumentFragment():null,jae=(()=>{class e{constructor(n){this.element=n}ngAfterViewInit(){Kv&&Kv.appendChild(this.element.nativeElement)}ngOnDestroy(){Kv&&Kv.removeChild(this.element.nativeElement)}}return e.\u0275fac=function(n){return new(n||e)(D(Je))},e.\u0275cmp=X({type:e,selectors:[["offscreen-fragment"]],ngContentSelectors:pae,decls:1,vars:0,template:function(n,i){n&1&&($u(),zu(0))},encapsulation:2}),e})(),du=typeof document<"u"?document.createDocumentFragment():null,Hae=(()=>{class e{ngAfterViewInit(){let n=this.rootElRef?.nativeElement;Mj(n,this.inPlaceOf),WD(n,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(n)}ngOnChanges(n){let i=this.rootElRef?.nativeElement;if(i)if(this.inPlaceOf.parentNode!==du)Mj(i,this.inPlaceOf),WD(i,void 0,this.elAttrs),this.reportEl(i);else{let r=n.elAttrs;r&&WD(i,r.previousValue,r.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===du&&du&&du.removeChild(this.inPlaceOf),this.reportEl(null)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=X({type:e,selectors:[["transport-container"]],viewQuery:function(n,i){if(n&1&&fi(mae,5),n&2){let r;Xe(r=Qe())&&(i.rootElRef=r.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[Ue],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,i){n&1&&E(0,gae,3,6,"ng-template",1)(1,vae,3,6,"ng-template",1)(2,yae,3,6,"ng-template",1)(3,_ae,3,6,"ng-template",1)(4,xae,3,6,"ng-template",1)(5,bae,3,6,"ng-template",1),n&2&&(_("ngIf",i.elTag=="div"),g(),_("ngIf",i.elTag=="span"),g(),_("ngIf",i.elTag=="a"),g(),_("ngIf",i.elTag=="tr"),g(),_("ngIf",i.elTag=="th"),g(),_("ngIf",i.elTag=="td"))},dependencies:[de,Ct,fM,Dm],encapsulation:2}),e})();function Mj(e,t){t.parentNode?.insertBefore(e,t.nextSibling),du&&du.appendChild(t)}function WD(e,t={},n={}){for(let i in t)i in n||(e[i]=null);for(let i in n)e[i]=n[i]}var Lj=(()=>{class e{constructor(n,i){this.element=n,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map;let r=new ef;r.subscribe(s=>{this.customRenderingMap=s,this.customRenderingArray=void 0,i.detectChanges()}),this.handleCustomRendering=r.handle.bind(r)}ngAfterViewInit(){let{deepChangeDetection:n}=this,i=L(L({},this.options),this.buildInputOptions());this.optionSnapshot=Rj(i,(a,l)=>n&&kj[l]?Jv(a):a);let r=this.element.nativeElement,s=this.calendar=new Zv(r,L(L({},i),this.buildExtraOptions())),o=r.closest("ion-content");o&&o.componentOnReady?o.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{s.render()})}):s.render(),setTimeout(()=>s.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:n,optionSnapshot:i}=this,r=L(L({},this.options),this.buildInputOptions()),s={},o=[];for(let l in r)if(r.hasOwnProperty(l)){let c=r[l];n&&kj[l]?qD(i[l],c)||(i[l]=Jv(c),o.push(l)):i[l]!==c&&(i[l]=c,o.push(l)),s[l]=c}let a=Object.keys(i);for(let l of a)l in r||(delete i[l],o.push(l));o.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(L(L({},s),this.buildExtraOptions()),o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let n={};for(let i of Vae){let r=this[i];r!=null&&(n[i]=r)}return n}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this,customRenderingReplaces:!0}}trackCustomRendering(n,i){return i.id}}return e.\u0275fac=function(n){return new(n||e)(D(Je),D(pn))},e.\u0275cmp=X({type:e,selectors:[["full-calendar"]],contentQueries:function(n,i,r){if(n&1&&(Lt(r,Cae,7),Lt(r,wae,7),Lt(r,Sae,7),Lt(r,Tae,7),Lt(r,Dae,7),Lt(r,Eae,7),Lt(r,Aae,7),Lt(r,Iae,7),Lt(r,kae,7),Lt(r,Mae,7),Lt(r,Rae,7),Lt(r,Lae,7),Lt(r,Nae,7),Lt(r,Fae,7),Lt(r,Oae,7)),n&2){let s;Xe(s=Qe())&&(i.dayHeaderContent=s.first),Xe(s=Qe())&&(i.dayCellContent=s.first),Xe(s=Qe())&&(i.weekNumberContent=s.first),Xe(s=Qe())&&(i.nowIndicatorContent=s.first),Xe(s=Qe())&&(i.eventContent=s.first),Xe(s=Qe())&&(i.slotLaneContent=s.first),Xe(s=Qe())&&(i.slotLabelContent=s.first),Xe(s=Qe())&&(i.allDayContent=s.first),Xe(s=Qe())&&(i.moreLinkContent=s.first),Xe(s=Qe())&&(i.noEventsContent=s.first),Xe(s=Qe())&&(i.resourceAreaHeaderContent=s.first),Xe(s=Qe())&&(i.resourceGroupLabelContent=s.first),Xe(s=Qe())&&(i.resourceLabelContent=s.first),Xe(s=Qe())&&(i.resourceLaneContent=s.first),Xe(s=Qe())&&(i.resourceGroupLaneContent=s.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(n,i){n&1&&(m(0,"offscreen-fragment"),E(1,Pae,1,8,"transport-container",0),p()),n&2&&(g(),_("ngForOf",i.customRenderings)("ngForTrackBy",i.trackCustomRendering))},dependencies:[jae,Hae,et],encapsulation:2}),e})(),Nj=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=We({imports:[[we]]}),e})();var YD=class extends bn{constructor(){super(...arguments),this.headerElRef=Wt()}renderSimpleLayout(t,n){let{props:i,context:r}=this,s=[],o=_l(r.options);return t&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),C(xr,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},C(Oo,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(t,n,i,r){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&_l(a.options),c=!o.forPrint&&yf(a.options),u=[];return t&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:cu}]}),C(xr,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},C(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:i,minWidth:r}]}],sections:u}))}};function ey(e,t){let n=[];for(let i=0;i<t;i+=1)n[i]=[];for(let i of e)n[i.row].push(i);return n}function ty(e,t){let n=[];for(let i=0;i<t;i+=1)n[i]=[];for(let i of e)n[i.firstCol].push(i);return n}function Fj(e,t){let n=[];if(e){for(let i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let i of e.segs)n[i.row].segs.push(i)}else for(let i=0;i<t;i+=1)n[i]=null;return n}var Oj=at({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Pj(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var ny=class extends Pe{render(){let{props:t}=this;return C(pl,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Oj,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}},iy=class extends Pe{render(){let{props:t,context:n}=this,{options:i}=n,{seg:r}=t,s=i.eventTimeFormat||Oj,o=Uo(r,s,n,!0,t.defaultDisplayEventEnd);return C(zs,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:ou(t.seg,n),defaultGenerator:$ae,timeText:o,isResizing:!1,isDateSelecting:!1}))}};function $ae(e){return C(je,null,C("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&C("div",{className:"fc-event-time"},e.timeText),C("div",{className:"fc-event-title"},e.event.title||C(je,null,"\xA0")))}var XD=class extends Pe{constructor(){super(...arguments),this.compileSegs=oe(zae)}render(){let{props:t}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(t.singlePlacements);return C(gl,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let r=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return C(je,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return C("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:r[o]?"hidden":""}},Pj(s)?C(iy,Object.assign({seg:s,isDragging:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},ki(s,t.todayRange))):C(ny,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===t.eventSelection,defaultDisplayEventEnd:!1},ki(s,t.todayRange))))}))}})}};function zae(e){let t=[],n=[];for(let i of e)t.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:t,invisibleSegs:n}}var Gae=at({week:"narrow"}),QD=class extends bn{constructor(){super(...arguments),this.rootElRef=Wt(),this.state={dayNumberId:qi()},this.handleRootEl=t=>{Xi(this.rootElRef,t),Xi(this.props.elRef,t)}}render(){let{context:t,props:n,state:i,rootElRef:r}=this,{options:s,dateEnv:o}=t,{date:a,dateProfile:l}=n,c=n.showDayNumber&&qae(a,l.currentRange,o);return C(Po,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Wae,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>C("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&C(bf,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:is(t,a,"week"),date:a,defaultFormat:Gae}),!d.isDisabled&&(n.showDayNumber||uu(s)||n.forceDayTop)?C("div",{className:"fc-daygrid-day-top"},C(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},is(t,a)),{id:i.dayNumberId})})):n.showDayNumber?C("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},C("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,C("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,C("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},C(XD,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),C("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}};function Wae(e){return e.dayNumberText||C(je,null,"\xA0")}function qae(e,t,n){let{start:i,end:r}=t,s=Kr(r,-1),o=n.getYear(i),a=n.getMonth(i),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(e.valueOf()===i.valueOf()||n.getDay(e)===1&&e.valueOf()<r.valueOf())}function Vj(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function Bj(e){return Vj(e)+":"+e.lastCol}function Yae(e,t,n,i,r,s,o){let a=new ZD(w=>{let A=e[w.index].eventRange.instance.instanceId+":"+w.span.start+":"+(w.span.end-1);return r[A]||1});a.allowReslicing=!0,a.strictOrder=i,t===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof t=="number"?a.maxStackCnt=t:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let w=0;w<e.length;w+=1){let A=e[w],T=Bj(A);r[T]!=null?l.push({index:w,span:{start:A.firstCol,end:A.lastCol+1}}):c.push(A)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:v}=Xae(d,e,o),b=[],x=[];for(let w of c){f[w.firstCol].push({seg:w,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=w.firstCol;A<=w.lastCol;A+=1)h[A].push({seg:fu(w,A,A+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)b.push(0);for(let w of u){let A=e[w.index],T=w.span;f[T.start].push({seg:fu(A,T.start,T.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let k=T.start;k<T.end;k+=1)b[k]+=1,h[k].push({seg:fu(A,k,k+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let w=0;w<o.length;w+=1)x.push(v[w]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:b,moreMarginTops:x}}function Xae(e,t,n){let i=Qae(e,n.length),r=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=i[a],c=[],u=0,d=0;for(let f of l){let v=t[f.index];c.push({seg:fu(v,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-u}),u=f.levelCoord+f.thickness}let h=[];u=0,d=0;for(let f of l){let v=t[f.index],b=f.span.end-f.span.start>1,x=f.span.start===a;d+=f.levelCoord-u,u=f.levelCoord+f.thickness,b?(d+=f.thickness,x&&h.push({seg:fu(v,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):x&&(h.push({seg:fu(v,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:d}),d=0)}r.push(c),s.push(h),o.push(d)}return{singleColPlacements:r,multiColPlacements:s,leftoverMargins:o}}function Qae(e,t){let n=[];for(let i=0;i<t;i+=1)n.push([]);for(let i of e)for(let r=i.span.start;r<i.span.end;r+=1)n[r].push(i);return n}function fu(e,t,n,i){if(e.firstCol===t&&e.lastCol===n-1)return e;let r=e.eventRange,s=r.range,o=Ii(s,{start:i[t].date,end:Ot(i[n-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:r.def,ui:Object.assign(Object.assign({},r.ui),{durationEditable:!1}),instance:r.instance,range:o},isStart:e.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===s.end.valueOf()})}var ZD=class extends cl{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){let n=super.addSegs(t),{entriesByLevel:i}=this,r=s=>!this.forceHidden[Jr(s)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(r);return n}handleInvalidInsertion(t,n,i){let{entriesByLevel:r,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=t;if(this.hiddenConsumes&&o){let c=Jr(o);if(!s[c])if(this.allowReslicing){let u=Object.assign(Object.assign({},o),{span:gf(o.span,n.span)}),d=Jr(u);s[d]=!0,r[a][l]=u,i.push(u),this.splitEntry(o,n,i)}else s[c]=!0,i.push(o)}super.handleInvalidInsertion(t,n,i)}},ry=class extends bn{constructor(){super(...arguments),this.cellElRefs=new ii,this.frameElRefs=new ii,this.fgElRefs=new ii,this.segHarnessRefs=new ii,this.rootElRef=Wt(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:n,context:i}=this,{options:r}=i,s=t.cells.length,o=ty(t.businessHourSegs,s),a=ty(t.bgEventSegs,s),l=ty(this.getHighlightSegs(),s),c=ty(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:d,moreCnts:h,moreMarginTops:f}=Yae(yl(t.fgEventSegs,r.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,r.eventOrderStrict,n.segHeights,n.maxContentHeight,t.cells),v=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return C("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((b,x)=>{let w=this.renderFgSegs(x,t.forPrint?u[x]:d[x],t.todayRange,v),A=this.renderFgSegs(x,Zae(c[x],d),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return C(QD,{key:b.key,elRef:this.cellElRefs.createRef(b.key),innerElRef:this.frameElRefs.createRef(b.key),dateProfile:t.dateProfile,date:b.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&x===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:b.extraRenderProps,extraDataAttrs:b.extraDataAttrs,extraClassNames:b.extraClassNames,extraDateSpan:b.extraDateSpan,moreCnt:h[x],moreMarginTop:f[x],singlePlacements:u[x],fgContentElRef:this.fgElRefs.createRef(b.key),fgContent:C(je,null,C(je,null,w),C(je,null,A)),bgContent:C(je,null,this.renderFillSegs(l[x],"highlight"),this.renderFillSegs(o[x],"non-business"),this.renderFillSegs(a[x],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,n){let i=this.props;this.updateSizing(!Ai(t,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,n,i,r,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,h=s||o||a,f=[];if(u)for(let v of n){let{seg:b}=v,{instanceId:x}=b.eventRange.instance,w=v.isVisible&&!r[x],A=v.isAbsolute,T="",k="";A&&(l.isRtl?(k=0,T=u.lefts[b.lastCol]-u.lefts[b.firstCol]):(T=0,k=u.rights[b.firstCol]-u.rights[b.lastCol])),f.push(C("div",{className:"fc-daygrid-event-harness"+(A?" fc-daygrid-event-harness-abs":""),key:Vj(b),ref:h?null:this.segHarnessRefs.createRef(Bj(b)),style:{visibility:w?"":"hidden",marginTop:A?"":v.marginTop,top:A?v.absoluteTop:"",left:T,right:k}},Pj(b)?C(iy,Object.assign({seg:b,isDragging:s,isSelected:x===c,defaultDisplayEventEnd:d},ki(b,i))):C(ny,Object.assign({seg:b,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:x===c,defaultDisplayEventEnd:d},ki(b,i)))))}return f}renderFillSegs(t,n){let{isRtl:i}=this.context,{todayRange:r}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of t){let l=i?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(C("div",{key:hf(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?C(ml,Object.assign({seg:a},ki(a,r))):xf(n)))}return C(je,{},...o)}updateSizing(t){let{props:n,state:i,frameElRefs:r}=this;if(!n.forPrint&&n.clientWidth!==null){if(t){let l=n.cells.map(c=>r.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new Cr(c,l,!0,!1);(!i.framePositions||!i.framePositions.similarTo(u))&&this.setState({framePositions:new Cr(c,l,!0,!1)})}}let s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,n={};for(let i in t){let r=Math.round(t[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){let t=this.props.cells[0].key,n=this.cellElRefs.currentMap[t],i=this.fgElRefs.currentMap[t];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(n=>t[n.key])}};ry.addStateEquality({segHeights:Ai});function Zae(e,t){if(!e.length)return[];let n=Kae(t);return e.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function Kae(e){let t={};for(let n of e)for(let i of n)t[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return t}var KD=class extends bn{constructor(){super(...arguments),this.splitBusinessHourSegs=oe(ey),this.splitBgEventSegs=oe(ey),this.splitFgEventSegs=oe(ey),this.splitDateSelectionSegs=oe(ey),this.splitEventDrag=oe(Fj),this.splitEventResize=oe(Fj),this.rowRefs=new ii}render(){let{props:t,context:n}=this,i=t.cells.length,r=this.splitBusinessHourSegs(t.businessHourSegs,i),s=this.splitBgEventSegs(t.bgEventSegs,i),o=this.splitFgEventSegs(t.fgEventSegs,i),a=this.splitDateSelectionSegs(t.dateSelectionSegs,i),l=this.splitEventDrag(t.eventDrag,i),c=this.splitEventResize(t.eventResize,i),u=i>=7&&t.clientWidth?t.clientWidth/n.options.aspectRatio/6:null;return C(wr,{unit:"day"},(d,h)=>C(je,null,t.cells.map((f,v)=>C(ry,{ref:this.rowRefs.createRef(v),key:f.length?f[0].date.toISOString():v,showDayNumbers:i>1,showWeekNumbers:t.showWeekNumbers,todayRange:h,dateProfile:t.dateProfile,cells:f,renderIntro:t.renderRowIntro,businessHourSegs:r[v],eventSelection:t.eventSelection,bgEventSegs:s[v].filter(Jae),fgEventSegs:o[v],dateSelectionSegs:a[v],eventDrag:l[v],eventResize:c[v],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:u,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let t=this.rowRefs.currentMap[0].getCellEls()[0],n=t?t.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Cr(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new Cr(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,n){let{colPositions:i,rowPositions:r}=this,s=i.leftToIndex(t),o=r.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:i.lefts[s],right:i.rights[s],top:r.tops[o],bottom:r.bottoms[o]},layer:0}}return null}getCellEl(t,n){return this.rowRefs.currentMap[t].getCellEls()[n]}getCellRange(t,n){let i=this.props.cells[t][n].date,r=Ot(i,1);return{start:i,end:r}}};function Jae(e){return e.eventRange.def.allDay}var JD=class extends bn{constructor(){super(...arguments),this.elRef=Wt(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:r}=t,s=i===!0||n===!0;s&&!r&&(s=!1,n=null,i=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return C("div",{ref:this.elRef,className:o.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},C("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:r?t.clientHeight:""}},t.colGroupNode,C("tbody",{role:"presentation"},C(KD,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let t=ele(this.elRef.current,this.props.dateProfile);if(t){let n=t.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),r=t.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=r?r+1:0}this.needsScrollReset=!1}}};function ele(e,t){let n;return t.currentRangeUnit.match(/year|month/)&&(n=e.querySelector(`[data-date="${iD(t.currentDate)}-01"]`)),n||(n=e.querySelector(`[data-date="${Bo(t.currentDate)}"]`)),n}var eE=class extends fl{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,n){return n.sliceRange(t)}},Cf=class extends bn{constructor(){super(...arguments),this.slicer=new eE,this.tableRef=Wt()}render(){let{props:t,context:n}=this;return C(JD,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}},sy=class extends YD{constructor(){super(...arguments),this.buildDayTableModel=oe(tle),this.headerRef=Wt(),this.tableRef=Wt()}render(){let{options:t,dateProfileGenerator:n}=this.context,{props:i}=this,r=this.buildDayTableModel(i.dateProfile,n),s=t.dayHeaders&&C(ul,{ref:this.headerRef,dateProfile:i.dateProfile,dates:r.headerDates,datesRepDistinctDays:r.rowCnt===1}),o=a=>C(Cf,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:r,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:i.forPrint});return t.dayMinWidth?this.renderHScrollLayout(s,o,r.colCnt,t.dayMinWidth):this.renderSimpleLayout(s,o)}};function tle(e,t){let n=new dl(e.renderRange,t);return new hl(n,/year|month|week/.test(e.currentRangeUnit))}var oy=class extends ol{buildRenderRange(t,n,i){let r=super.buildRenderRange(t,n,i),{props:s}=this;return nle({currentRange:r,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}};function nle(e){let{dateEnv:t,currentRange:n}=e,{start:i,end:r}=n,s;if(e.snapToWeek&&(i=t.startOfWeek(i),s=t.startOfWeek(r),s.valueOf()!==r.valueOf()&&(r=Lv(s,1))),e.fixedWeekCount){let o=t.startOfWeek(t.startOfMonth(Ot(n.end,-1))),a=Math.ceil(tD(o,r));r=Lv(r,6-a)}return{start:i,end:r}}var ile=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Vo(ile);var jj=ri({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:sy,dateProfileGeneratorClass:oy},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});var nE=class extends Yh{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?bD(t)?["timed","allDay"]:["allDay"]:["timed"]}},rle=at({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Gj(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return C(Yi.Consumer,null,n=>{if(!e.isLabeled)return C("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:i,options:r,viewApi:s}=n,o=r.slotLabelFormat==null?rle:Array.isArray(r.slotLabelFormat)?at(r.slotLabelFormat[0]):at(r.slotLabelFormat),a={level:0,time:e.time,date:i.toDate(e.date),view:s,text:i.format(e.date,o)};return C(en,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:sle,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},l=>C("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},C(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function sle(e){return e.text}var iE=class extends Pe{render(){return this.props.slatMetas.map(t=>C("tr",{key:t.key},C(Gj,Object.assign({},t))))}},ole=at({week:"short"}),ale=5,rE=class extends bn{constructor(){super(...arguments),this.allDaySplitter=new nE,this.headerElRef=Wt(),this.rootElRef=Wt(),this.scrollerElRef=Wt(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=t)},this.renderHeadAxis=(t,n="")=>{let{options:i}=this.context,{dateProfile:r}=this.props,s=r.renderRange,a=ts(s.start,s.end)===1?is(this.context,s.start,"week"):{};return i.weekNumbers&&t==="day"?C(bf,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:ole},l=>C("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},C(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):C("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},C("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=t=>{let{options:n,viewApi:i}=this.context,r={text:n.allDayText,view:i};return C(en,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:r,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:lle,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>C("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},C(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,n,i){let{context:r,props:s}=this,o=[],a=_l(r.options);return t&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:C("tr",{role:"presentation",className:"fc-scrollgrid-section"},C("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!r.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),C(xr,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},C(Oo,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(t,n,i,r,s,o,a){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:c,props:u}=this,d=!u.forPrint&&_l(c.options),h=!u.forPrint&&yf(c.options),f=[];t&&f.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>C("tr",{role:"presentation"},this.renderHeadAxis("day",b.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),n&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:b=>C("tr",{role:"presentation"},this.renderTableRowAxis(b.rowSyncHeights[0]))},{key:"cols",content:n}]}),f.push({key:"all-day-divider",type:"body",outerContent:C("tr",{role:"presentation",className:"fc-scrollgrid-section"},C("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let v=c.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:b=>C("div",{className:"fc-timegrid-axis-chunk"},C("table",{"aria-hidden":!0,style:{height:b.expandRows?b.clientHeight:""}},b.tableColGroupNode,C("tbody",null,C(iE,{slatMetas:o}))),C("div",{className:"fc-timegrid-now-indicator-container"},C(wr,{unit:v?"minute":"day"},x=>{let w=v&&a&&a.safeComputeTop(x);return typeof w=="number"?C(_f,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:w},isAxis:!0,date:x}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),h&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:cu},{key:"cols",content:cu}]}),C(xr,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},C(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:s}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:n}=this.context.options;return(t===!0||n===!0)&&(t=void 0,n=ale),{dayMaxEvents:t,dayMaxEventRows:n}}};function lle(e){return e.text}var sE=class{constructor(t,n,i){this.positions=t,this.dateProfile=n,this.slotDuration=i}safeComputeTop(t){let{dateProfile:n}=this;if(Gi(n.currentRange,t)){let i=rt(t),r=t.valueOf()-i.valueOf();if(r>=Ei(n.slotMinTime)&&r<Ei(n.slotMaxTime))return this.computeTimeTop(Ee(r))}return null}computeDateTop(t,n){return n||(n=rt(t)),this.computeTimeTop(Ee(t.valueOf()-n.valueOf()))}computeTimeTop(t){let{positions:n,dateProfile:i}=this,r=n.els.length,s=(t.milliseconds-Ei(i.slotMinTime))/Ei(this.slotDuration),o,a;return s=Math.max(0,s),s=Math.min(r,s),o=Math.floor(s),o=Math.min(o,r-1),a=s-o,n.tops[o]+n.getHeight(o)*a}},oE=class extends Pe{render(){let{props:t,context:n}=this,{options:i}=n,{slatElRefs:r}=t;return C("tbody",null,t.slatMetas.map((s,o)=>{let a={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return C("tr",{key:s.key,ref:r.createRef(s.key)},t.axis&&C(Gj,Object.assign({},s)),C(en,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}},aE=class extends Pe{constructor(){super(...arguments),this.rootElRef=Wt(),this.slatElRefs=new ii}render(){let{props:t,context:n}=this;return C("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},C("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,C(oE,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new sE(new Cr(this.rootElRef.current,cle(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}};function cle(e,t){return t.map(n=>e[n.key])}function wf(e,t){let n=[],i;for(i=0;i<t;i+=1)n.push([]);if(e)for(i=0;i<e.length;i+=1)n[e[i].col].push(e[i]);return n}function Hj(e,t){let n=[];if(e){for(let i=0;i<t;i+=1)n[i]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let i of e.segs)n[i.col].segs.push(i)}else for(let i=0;i<t;i+=1)n[i]=null;return n}var lE=class extends Pe{render(){let{props:t}=this;return C(gl,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Wj(t.hiddenSegs,t),defaultGenerator:ule,forceTimed:!0},n=>C(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function ule(e){return e.shortText}function dle(e,t,n){let i=new cl;t!=null&&(i.strictOrder=t),n!=null&&(i.maxStackCnt=n);let r=i.addSegs(e),s=RD(r),o=hle(i);return o=gle(o,1),{segRects:vle(o),hiddenGroups:s}}function hle(e){let{entriesByLevel:t}=e,n=pE((i,r)=>i+":"+r,(i,r)=>{let s=mle(e,i,r),o=Uj(s,n),a=t[i][r];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return Uj(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function Uj(e,t){if(!e)return[[],0];let{level:n,lateralStart:i,lateralEnd:r}=e,s=i,o=[];for(;s<r;)o.push(t(n,s)),s+=1;return o.sort(fle),[o.map(ple),o[0][1]]}function fle(e,t){return t[1]-e[1]}function ple(e){return e[0]}function mle(e,t,n){let{levelCoords:i,entriesByLevel:r}=e,s=r[t][n],o=i[t]+s.thickness,a=i.length,l=t;for(;l<a&&i[l]<o;l+=1);for(;l<a;l+=1){let c=r[l],u,d=Kh(c,s.span.start,Zh),h=d[0]+d[1],f=h;for(;(u=c[f])&&u.span.start<s.span.end;)f+=1;if(h<f)return{level:l,lateralStart:h,lateralEnd:f}}return null}function gle(e,t){let n=pE((i,r,s)=>Jr(i),(i,r,s)=>{let{nextLevelNodes:o,thickness:a}=i,l=a+s,c=a/l,u,d=[];if(!o.length)u=t;else for(let f of o)if(u===void 0){let v=n(f,r,l);u=v[0],d.push(v[1])}else{let v=n(f,u,0);d.push(v[1])}let h=(u-r)*c;return[u-h,Object.assign(Object.assign({},i),{thickness:h,nextLevelNodes:d})]});return e.map(i=>n(i,0,0)[1])}function vle(e){let t=[],n=pE((r,s,o)=>Jr(r),(r,s,o)=>{let a=Object.assign(Object.assign({},r),{levelCoord:s,stackDepth:o,stackForward:0});return t.push(a),a.stackForward=i(r.nextLevelNodes,s+r.thickness,o+1)+1});function i(r,s,o){let a=0;for(let l of r)a=Math.max(n(l,s,o),a);return a}return i(e,0,0),t}function pE(e,t){let n={};return(...i)=>{let r=e(...i);return r in n?n[r]:n[r]=t(...i)}}function $j(e,t,n=null,i=0){let r=[];if(n)for(let s=0;s<e.length;s+=1){let o=e[s],a=n.computeDateTop(o.start,t),l=Math.max(a+(i||0),n.computeDateTop(o.end,t));r.push({start:Math.round(a),end:Math.round(l)})}return r}function yle(e,t,n,i){let r=[],s=[];for(let c=0;c<e.length;c+=1){let u=t[c];u?r.push({index:c,thickness:1,span:u}):s.push(e[c])}let{segRects:o,hiddenGroups:a}=dle(r,n,i),l=[];for(let c of o)l.push({seg:e[c.index],rect:c});for(let c of s)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}var _le=at({hour:"numeric",minute:"2-digit",meridiem:!1}),ay=class extends Pe{render(){return C(pl,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:_le}))}},cE=class extends Pe{constructor(){super(...arguments),this.sortEventSegs=oe(yl)}render(){let{props:t,context:n}=this,{options:i}=n,r=i.selectMirror,s=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||r&&t.dateSelectionSegs||[],o=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},a=this.sortEventSegs(t.fgEventSegs,i.eventOrder);return C(Po,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},l=>C("div",{className:"fc-timegrid-col-frame"},C("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),C("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),C("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!t.eventDrag,!!t.eventResize,!!r,"mirror")),C("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),uu(i)&&C(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,n,i,r,s,o){let{props:a}=this;return a.forPrint?Wj(t,a):this.renderPositionedFgSegs(t,n,i,r,s,o)}renderPositionedFgSegs(t,n,i,r,s,o){let{eventMaxStack:a,eventShortHeight:l,eventOrderStrict:c,eventMinHeight:u}=this.context.options,{date:d,slatCoords:h,eventSelection:f,todayRange:v,nowDate:b}=this.props,x=i||r||s,w=$j(t,d,h,u),{segPlacements:A,hiddenGroups:T}=yle(t,w,c,a);return C(je,null,this.renderHiddenGroups(T,t),A.map(k=>{let{seg:P,rect:M}=k,Y=P.eventRange.instance.instanceId,G=x||!!(!n[Y]&&M),He=tE(M&&M.span),be=!x&&M?this.computeSegHStyle(M):{left:0,right:0},se=!!M&&M.stackForward>0,pt=!!M&&M.span.end-M.span.start<l;return C("div",{className:"fc-timegrid-event-harness"+(se?" fc-timegrid-event-harness-inset":""),key:o||Y,style:Object.assign(Object.assign({visibility:G?"":"hidden"},He),be)},C(ay,Object.assign({seg:P,isDragging:i,isResizing:r,isDateSelecting:s,isSelected:Y===f,isShort:pt},ki(P,v,b))))}))}renderHiddenGroups(t,n){let{extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c}=this.props;return C(je,null,t.map(u=>{let d=tE(u.span),h=xle(u.entries,n);return C(lE,{key:Nv(Yv(h)),hiddenSegs:h,top:d.top,bottom:d.bottom,extraDateSpan:i,dateProfile:r,todayRange:s,nowDate:o,eventSelection:a,eventDrag:l,eventResize:c})}))}renderFillSegs(t,n){let{props:i,context:r}=this,o=$j(t,i.date,i.slatCoords,r.options.eventMinHeight).map((a,l)=>{let c=t[l];return C("div",{key:hf(c.eventRange),className:"fc-timegrid-bg-harness",style:tE(a)},n==="bg-event"?C(ml,Object.assign({seg:c},ki(c,i.todayRange,i.nowDate))):xf(n))});return C(je,null,o)}renderNowIndicator(t){let{slatCoords:n,date:i}=this.props;return n?t.map((r,s)=>C(_f,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(r.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(t){let{isRtl:n,options:i}=this.context,r=i.slotEventOverlap,s=t.levelCoord,o=t.levelCoord+t.thickness,a,l;r&&(o=Math.min(1,s+(o-s)*2)),n?(a=1-o,l=s):(a=s,l=1-o);let c={zIndex:t.stackDepth+1,left:a*100+"%",right:l*100+"%"};return r&&!t.stackForward&&(c[n?"marginLeft":"marginRight"]=10*2),c}};function Wj(e,{todayRange:t,nowDate:n,eventSelection:i,eventDrag:r,eventResize:s}){let o=(r?r.affectedInstances:null)||(s?s.affectedInstances:null)||{};return C(je,null,e.map(a=>{let l=a.eventRange.instance.instanceId;return C("div",{key:l,style:{visibility:o[l]?"hidden":""}},C(ay,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===i,isShort:!1},ki(a,t,n))))}))}function tE(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function xle(e,t){return e.map(n=>t[n.index])}var uE=class extends Pe{constructor(){super(...arguments),this.splitFgEventSegs=oe(wf),this.splitBgEventSegs=oe(wf),this.splitBusinessHourSegs=oe(wf),this.splitNowIndicatorSegs=oe(wf),this.splitDateSelectionSegs=oe(wf),this.splitEventDrag=oe(Hj),this.splitEventResize=oe(Hj),this.rootElRef=Wt(),this.cellElRefs=new ii}render(){let{props:t,context:n}=this,i=n.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),r=t.cells.length,s=this.splitFgEventSegs(t.fgEventSegs,r),o=this.splitBgEventSegs(t.bgEventSegs,r),a=this.splitBusinessHourSegs(t.businessHourSegs,r),l=this.splitNowIndicatorSegs(t.nowIndicatorSegs,r),c=this.splitDateSelectionSegs(t.dateSelectionSegs,r),u=this.splitEventDrag(t.eventDrag,r),d=this.splitEventResize(t.eventResize,r);return C("div",{className:"fc-timegrid-cols",ref:this.rootElRef},C("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,C("tbody",{role:"presentation"},C("tr",{role:"row"},t.axis&&C("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},C("div",{className:"fc-timegrid-col-frame"},C("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&C(_f,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:t.nowDate})))),t.cells.map((h,f)=>C(cE,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:t.dateProfile,date:h.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[f],bgEventSegs:o[f],businessHourSegs:a[f],nowIndicatorSegs:l[f],dateSelectionSegs:c[f],eventDrag:u[f],eventResize:d[f],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new Cr(this.rootElRef.current,ble(this.cellElRefs.currentMap,t.cells),!0,!1))}};function ble(e,t){return t.map(n=>e[n.key])}var dE=class extends bn{constructor(){super(...arguments),this.processSlotOptions=oe(Cle),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(t.time){let r=i.computeTimeTop(t.time);r=Math.ceil(r),r&&(r+=1),n(r)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:n}=this;return C("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},C(aE,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),C(uE,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,n){let{dateEnv:i,options:r}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:l,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,r.snapDuration),u=s.leftToIndex(t),d=a.positions.topToIndex(n);if(u!=null&&d!=null){let h=this.props.cells[u],f=a.positions.tops[d],v=a.positions.getHeight(d),b=(n-f)/v,x=Math.floor(b*c),w=d*c+x,A=this.props.cells[u].date,T=of(o.slotMinTime,eD(l,w)),k=i.add(A,T),P=i.add(k,l);return{dateProfile:o,dateSpan:Object.assign({range:{start:k,end:P},allDay:!1},h.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:f,bottom:f+v},layer:0}}return null}};function Cle(e,t){let n=t||e,i=af(e,n);return i===null&&(n=e,i=1),{snapDuration:n,snapsPerSlot:i}}var hE=class extends fl{sliceRange(t,n){let i=[];for(let r=0;r<n.length;r+=1){let s=Ii(t,n[r]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===t.start.valueOf(),isEnd:s.end.valueOf()===t.end.valueOf(),col:r})}return i}},fE=class extends bn{constructor(){super(...arguments),this.buildDayRanges=oe(wle),this.slicer=new hE,this.timeColsRef=Wt()}render(){let{props:t,context:n}=this,{dateProfile:i,dayTableModel:r}=t,{nowIndicator:s,nextDayThreshold:o}=n.options,a=this.buildDayRanges(r,i,n.dateEnv);return C(wr,{unit:s?"minute":"day"},(l,c)=>C(dE,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,i,null,n,a),{forPrint:t.forPrint,axis:t.axis,dateProfile:i,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:r.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:s&&this.slicer.sliceNowDate(l,i,o,n,a),todayRange:c,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}};function wle(e,t,n){let i=[];for(let r of e.headerDates)i.push({start:n.add(r,t.slotMinTime),end:n.add(r,t.slotMaxTime)});return i}var zj=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Sle(e,t,n,i,r){let s=new Date(0),o=e,a=Ee(0),l=n||Tle(i),c=[];for(;Ei(o)<Ei(t);){let u=r.add(s,o),d=af(a,l)!==null;c.push({date:u,time:o,key:u.toISOString(),isoTimeStr:rD(u),isLabeled:d}),o=of(o,i),a=of(a,i)}return c}function Tle(e){let t,n,i;for(t=zj.length-1;t>=0;t-=1)if(n=Ee(zj[t]),i=af(n,e),i!==null&&i>1)return n;return e}var ly=class extends rE{constructor(){super(...arguments),this.buildTimeColsModel=oe(Dle),this.buildSlatMetas=oe(Sle)}render(){let{options:t,dateEnv:n,dateProfileGenerator:i}=this.context,{props:r}=this,{dateProfile:s}=r,o=this.buildTimeColsModel(s,i),a=this.allDaySplitter.splitProps(r),l=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,t.slotLabelInterval,t.slotDuration,n),{dayMinWidth:c}=t,u=!c,d=c,h=t.dayHeaders&&C(ul,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),f=t.allDaySlot!==!1&&(b=>C(Cf,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:t.nextDayThreshold,tableMinWidth:b.tableMinWidth,colGroupNode:b.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:b.clientWidth,clientHeight:b.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),v=b=>C(fE,Object.assign({},a.timed,{dayTableModel:o,dateProfile:s,axis:u,slotDuration:t.slotDuration,slatMetas:l,forPrint:r.forPrint,tableColGroupNode:b.tableColGroupNode,tableMinWidth:b.tableMinWidth,clientWidth:b.clientWidth,clientHeight:b.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:b.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,f,v,o.colCnt,c,l,this.state.slatCoords):this.renderSimpleLayout(h,f,v)}};function Dle(e,t){let n=new dl(e.renderRange,t);return new hl(n,!1)}var Ele='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Vo(Ele);var Ale={allDaySlot:Boolean},qj=ri({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Ale,views:{timeGrid:{component:ly,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});var mE=class extends Pe{constructor(){super(...arguments),this.state={textId:qi()}}render(){let{theme:t,dateEnv:n,options:i,viewApi:r}=this.context,{cellId:s,dayDate:o,todayRange:a}=this.props,{textId:l}=this.state,c=pf(o,a),u=i.listDayFormat?n.format(o,i.listDayFormat):"",d=i.listDaySideFormat?n.format(o,i.listDaySideFormat):"",h=Object.assign({date:n.toDate(o),view:r,textId:l,text:u,sideText:d,navLinkAttrs:is(this.context,o),sideNavLinkAttrs:is(this.context,o,"day",!1)},c);return C(en,{elTag:"tr",elClasses:["fc-list-day",...lu(c,t)],elAttrs:{"data-date":Bo(o)},renderProps:h,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Ile,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},f=>C("th",{scope:"colgroup",colSpan:3,id:s,"aria-labelledby":l},C(f,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}};function Ile(e){return C(je,null,e.text&&C("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&C("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}var kle=at({hour:"numeric",minute:"2-digit",meridiem:"short"}),gE=class extends Pe{render(){let{props:t,context:n}=this,{options:i}=n,{seg:r,timeHeaderId:s,eventHeaderId:o,dateHeaderId:a}=t,l=i.eventTimeFormat||kle;return C(zs,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Mle(r,n),seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(c,u)=>C(je,null,Rle(r,l,n,s,a),C("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},C("span",{className:"fc-list-event-dot",style:{borderColor:u.borderColor||u.backgroundColor}})),C(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${o} ${a}`}})))}};function Mle(e,t){let n=ou(e,t);return C("a",Object.assign({},n),e.eventRange.def.title)}function Rle(e,t,n,i,r){let{options:s}=n;if(s.displayEventTime!==!1){let o=e.eventRange.def,a=e.eventRange.instance,l=!1,c;if(o.allDay?l=!0:fD(e.eventRange.range)?e.isStart?c=Uo(e,t,n,null,null,a.range.start,e.end):e.isEnd?c=Uo(e,t,n,null,null,e.start,a.range.end):l=!0:c=Uo(e,t,n),l){let u={text:n.options.allDayText,view:n.viewApi};return C(en,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${r}`},renderProps:u,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:Lle,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return C("td",{className:"fc-list-event-time"},c)}return null}function Lle(e){return e.text}var cy=class extends bn{constructor(){super(...arguments),this.computeDateVars=oe(Fle),this.eventStoreToSegs=oe(this._eventStoreToSegs),this.state={timeHeaderId:qi(),eventHeaderId:qi(),dateHeaderIdRoot:qi()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:n}=this,{dayDates:i,dayRanges:r}=this.computeDateVars(t.dateProfile),s=this.eventStoreToSegs(t.eventStore,t.eventUiBases,r);return C(xr,{elRef:this.setRootEl,elClasses:["fc-list",n.theme.getClass("table"),n.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:n.viewSpec},C(tu,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},s.length>0?this.renderSegList(s,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:n}=this.context,i={text:t.noEventsText,view:n};return C(en,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:Nle,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},r=>C(r,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,n){let{theme:i,options:r}=this.context,{timeHeaderId:s,eventHeaderId:o,dateHeaderIdRoot:a}=this.state,l=Ole(t);return C(wr,{unit:"day"},(c,u)=>{let d=[];for(let h=0;h<l.length;h+=1){let f=l[h];if(f){let v=Bo(n[h]),b=a+"-"+v;d.push(C(mE,{key:v,cellId:b,dayDate:n[h],todayRange:u})),f=yl(f,r.eventOrder);for(let x of f)d.push(C(gE,Object.assign({key:v+":"+x.eventRange.instance.instanceId,seg:x,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:s,eventHeaderId:o,dateHeaderId:b},ki(x,u,c))))}}return C("table",{className:"fc-list-table "+i.getClass("table")},C("thead",null,C("tr",null,C("th",{scope:"col",id:s},r.timeHint),C("th",{scope:"col","aria-hidden":!0}),C("th",{scope:"col",id:o},r.eventHint))),C("tbody",null,d))})}_eventStoreToSegs(t,n,i){return this.eventRangesToSegs(eu(t,n,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(t,n){let i=[];for(let r of t)i.push(...this.eventRangeToSegs(r,n));return i}eventRangeToSegs(t,n){let{dateEnv:i}=this.context,{nextDayThreshold:r}=this.context.options,s=t.range,o=t.def.allDay,a,l,c,u=[];for(a=0;a<n.length;a+=1)if(l=Ii(s,n[a]),l&&(c={component:this,eventRange:t,start:l.start,end:l.end,isStart:t.isStart&&l.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&l.end.valueOf()===s.end.valueOf(),dayIndex:a},u.push(c),!c.isEnd&&!o&&a+1<n.length&&s.end<i.add(n[a+1].start,r))){c.end=s.end,c.isEnd=!0;break}return u}};function Nle(e){return e.text}function Fle(e){let t=rt(e.renderRange.start),n=e.renderRange.end,i=[],r=[];for(;t<n;)i.push(t),r.push({start:t,end:Ot(t,1)}),t=Ot(t,1);return{dayDates:i,dayRanges:r}}function Ole(e){let t=[],n,i;for(n=0;n<e.length;n+=1)i=e[n],(t[i.dayIndex]||(t[i.dayIndex]=[])).push(i);return t}var Ple=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';Vo(Ple);var Vle={listDayFormat:Yj,listDaySideFormat:Yj,noEventsClassNames:I,noEventsContent:I,noEventsDidMount:I,noEventsWillUnmount:I};function Yj(e){return e===!1?null:at(e)}var Xj=ri({name:"@fullcalendar/list",optionRefiners:Vle,views:{list:{component:cy,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});vf.touchMouseIgnoreWait=500;var vE=0,uy=0,yE=!1,dy=class{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&Ble(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let r=n.target;this.shouldIgnoreMove||r.addEventListener("touchmove",this.handleTouchMove),r.addEventListener("touchend",this.handleTouchEnd),r.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,jle()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,r=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:i-this.origPageX,deltaY:r-this.origPageY})}},this.containerEl=t,this.emitter=new $s,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Hle()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Ule()}tryStart(t){let n=this.querySubjectEl(t),i=t.target;return n&&(!this.handleSelector||Jt(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){yE=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Jt(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return vE||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(yE=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,n){let i=0,r=0;return n?(this.origPageX=t.pageX,this.origPageY=t.pageY):(i=t.pageX-this.origPageX,r=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:i,deltaY:r}}createEventFromTouch(t,n){let i=t.touches,r,s,o=0,a=0;return i&&i.length?(r=i[0].pageX,s=i[0].pageY):(r=t.pageX,s=t.pageY),n?(this.origPageX=r,this.origPageY=s):(o=r-this.origPageX,a=s-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:o,deltaY:a}}};function Ble(e){return e.button===0&&!e.ctrlKey}function jle(){vE+=1,setTimeout(()=>{vE-=1},vf.touchMouseIgnoreWait)}function Hle(){uy+=1,uy===1&&window.addEventListener("touchmove",Zj,{passive:!1})}function Ule(){uy-=1,uy||window.removeEventListener("touchmove",Zj,{passive:!1})}function Zj(e){yE&&e.preventDefault()}var _E=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,n,i){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,n){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,n){let i=()=>{this.cleanup(),n()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(t,n){let i=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",vl(i,{left:r.left,top:r.top}),YT(i,()=>{i.style.transition="",t()})}cleanup(){this.mirrorEl&&(tf(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&vl(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),vl(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}},hy=class extends ll{constructor(t,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=n,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},fy=class extends hy{constructor(t,n){super(new Xh(t),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return MD(this.scrollController.el)}},xE=class extends hy{constructor(t){super(new Qh,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},Qj=typeof performance=="function"?performance.now:Date.now,bE=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let n=Qj();this.handleSide(t,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(t,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,n))}handleMove(t,n){if(this.isEnabled){let i=t-window.scrollX,r=n-window.scrollY,s=this.pointerScreenY===null?0:r-this.pointerScreenY,o=this.pointerScreenX===null?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=r,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Qj()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,n){let{scrollCache:i}=t,{edgeThreshold:r}=this,s=r-t.distance,o=s*s/(r*r)*this.maxVelocity*n,a=1;switch(t.name){case"left":a=-1;case"right":i.setScrollLeft(i.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":i.setScrollTop(i.getScrollTop()+o*a);break}}computeBestEdge(t,n){let{edgeThreshold:i}=this,r=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=t-a.left,c=a.right-t,u=n-a.top,d=a.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=i&&this.everMovedUp&&o.canScrollUp()&&(!r||r.distance>u)&&(r={scrollCache:o,name:"top",distance:u}),d<=i&&this.everMovedDown&&o.canScrollDown()&&(!r||r.distance>d)&&(r={scrollCache:o,name:"bottom",distance:d}),l<=i&&this.everMovedLeft&&o.canScrollLeft()&&(!r||r.distance>l)&&(r={scrollCache:o,name:"left",distance:l}),c<=i&&this.everMovedRight&&o.canScrollRight()&&(!r||r.distance>c)&&(r={scrollCache:o,name:"right",distance:c}))}return r}buildCaches(t){return this.queryScrollEls(t).map(n=>n===window?new xE(!1):new fy(n,!1))}queryScrollEls(t){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(i)));return n}},xl=class extends Jh{constructor(t,n){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=r=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,XT(document.body),ZT(document.body),r.isTouch||r.origEvent.preventDefault(),this.emitter.trigger("pointerdown",r),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(r.subjectEl,r.pageX,r.pageY),this.startDelay(r),this.minDistance||this.handleDistanceSurpassed(r)))},this.onPointerMove=r=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",r),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=r;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(r)}this.isDragging&&(r.origEvent.type!=="scroll"&&(this.mirror.handleMove(r.pageX,r.pageY),this.autoScroller.handleMove(r.pageX,r.pageY)),this.emitter.trigger("dragmove",r))}},this.onPointerUp=r=>{this.isInteracting&&(this.isInteracting=!1,QT(document.body),KT(document.body),this.emitter.trigger("pointerup",r),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(r)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new dy(t);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new _E,this.autoScroller=new bE}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}},CE=class{constructor(t){this.el=t,this.origRect=mf(t),this.scrollCaches=Wv(t).map(n=>new fy(n,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let n of this.scrollCaches)t+=n.origScrollLeft-n.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let n of this.scrollCaches)t+=n.origScrollTop-n.getScrollTop();return t}isWithinClipping(t,n){let i={left:t,top:n};for(let r of this.scrollCaches)if(!$le(r.getEventTarget())&&!ED(i,r.clientRect))return!1;return!0}};function $le(e){let t=e.tagName;return t==="HTML"||t==="BODY"}var pu=class{constructor(t,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:r}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(r.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):r.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new $s}processFirstCoord(t){let n={left:t.pageX,top:t.pageY},i=n,r=t.subjectEl,s;r instanceof HTMLElement&&(s=mf(r),i=AD(i,s));let o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&s){let a=Gv(s,o.rect);a&&(i=ID(a))}this.coordAdjust=kD(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(t,n){let i=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(n||!py(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,t))}prepareHits(){this.offsetTrackers=Wi(this.droppableStore,t=>(t.component.prepareHits(),new CE(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let n in t)t[n].destroy();this.offsetTrackers={}}queryHitForOffset(t,n){let{droppableStore:i,offsetTrackers:r}=this,s=null;for(let o in i){let a=i[o].component,l=r[o];if(l&&l.isWithinClipping(t,n)){let c=l.computeLeft(),u=l.computeTop(),d=t-c,h=n-u,{origRect:f}=l,v=f.right-f.left,b=f.bottom-f.top;if(d>=0&&d<v&&h>=0&&h<b){let x=a.queryHit(d,h,v,b);x&&ru(x.dateProfile.activeRange,x.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+c-window.scrollX,h+u-window.scrollY)))&&(!s||x.layer>s.layer)&&(x.componentId=o,x.context=a.context,x.rect.left+=c,x.rect.right+=c,x.rect.top+=u,x.rect.bottom+=u,s=x)}}}return s}};function py(e,t){return!e&&!t?!0:!!e!=!!t?!1:CD(e.dateSpan,t.dateSpan)}function Kj(e,t){let n={};for(let i of t.pluginHooks.datePointTransforms)Object.assign(n,i(e,t));return Object.assign(n,zle(e,t.dateEnv)),n}function zle(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}var wE=class extends br{constructor(t){super(t),this.handlePointerDown=i=>{let{dragging:r}=this,s=i.origEvent.target;r.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=i=>{let{component:r}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&py(o,a)){let{context:l}=r,c=Object.assign(Object.assign({},Kj(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:i.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new xl(t.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new pu(this.dragging,ff(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},SE=class extends br{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?Gle(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=Wle(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!LD(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?rf():sf(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(zv(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=t,{options:i}=n.context,r=this.dragging=new xl(t.el);r.touchScrollAllowed=!1,r.minDistance=i.selectMinDistance||0,r.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new pu(this.dragging,ff(t));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function Gle(e){let{options:t}=e.context,n=t.selectLongPressDelay;return n==null&&(n=t.longPressDelay),n}function Wle(e,t,n){let i=e.dateSpan,r=t.dateSpan,s=[i.range.start,i.range.end,r.range.start,r.range.end];s.sort(JT);let o={};for(let a of n){let l=a(e,t);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=i.allDay,o}var Jj=(()=>{class e extends br{constructor(n){super(n),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:h}=c.context,f=c.context;this.subjectEl=a.subjectEl;let v=this.subjectSeg=Ws(a.subjectEl),x=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=uf(f.getCurrentData().eventStore,x),u.minDistance=a.isTouch?0:h.eventDragMinDistance,u.delay=a.isTouch&&x!==c.props.eventSelection?Yle(c):null,h.fixedMirrorParent?d.parentNode=h.fixedMirrorParent:d.parentNode=Jt(l,".fc"),d.revertDuration=h.dragRevertDuration;let w=c.isValidSegDownEl(l)&&!Jt(l,".fc-event-resizer");u.setIgnoreMove(!w),this.isDragging=w&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;a.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new yt(l,c.def,c.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,h=null,f=null,v=null,b=!1,x={affectedEvents:c,mutatedEvents:kn(),isEvent:!0};if(a){h=a.context;let w=h.options;d===h||w.editable&&w.droppable?(f=qle(u,a,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),f&&(v=df(c,h.getCurrentData().eventUiBases,f,h),x.mutatedEvents=v,qv(x,a.dateProfile,h)||(b=!0,f=null,v=null,x.mutatedEvents=kn()))):h=null}this.displayDrag(h,x),b?rf():sf(),l||(d===h&&py(u,a)&&(f=null),this.dragging.setMirrorNeedsRevert(!f),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=f,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:d}=this,h=this.eventRange.def,f=this.eventRange.instance,v=new yt(l,h,f),b=this.relevantEvents,x=this.mutatedRelevantEvents,{finalHit:w}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:a.origEvent,view:c}),d){if(u===l){let A=new yt(l,x.defs[h.defId],f?x.instances[f.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:x});let T={oldEvent:v,event:A,relatedEvents:ns(x,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}},k={};for(let P of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(k,P(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},T),k),{el:a.subjectEl,delta:d.datesDelta,jsEvent:a.origEvent,view:c})),l.emitter.trigger("eventChange",T)}else if(u){let A={event:v,relatedEvents:ns(b,l,f),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:b})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},A),{draggedEl:a.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:b}),l.emitter.trigger("eventRemove",A);let T=x.defs[h.defId],k=x.instances[f.instanceId],P=new yt(u,T,k);u.dispatch({type:"MERGE_EVENTS",eventStore:x});let M={event:P,relatedEvents:ns(x,u,k),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:x})}};u.emitter.trigger("eventAdd",M),a.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},Kj(w.dateSpan,u)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:w.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},M),{draggedEl:a.subjectEl,view:w.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:r}=i.context,s=this.dragging=new xl(n.el);s.pointer.selector=e.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new pu(this.dragging,au);o.useSubjectCenter=n.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(n,i){let r=this.component.context,s=this.receivingContext;s&&s!==n&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:kn(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),n&&n.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let n=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),n!==i&&n.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e})();function qle(e,t,n,i){let r=e.dateSpan,s=t.dateSpan,o=r.range.start,a=s.range.start,l={};r.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,s.allDay?o=rt(n):o=n);let c=Fo(o,a,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of i)d(u,e,t);return u}function Yle(e){let{options:t}=e.context,n=t.eventLongPressDelay;return n==null&&(n=t.longPressDelay),n}var TE=class extends br{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=Ws(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=uf(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=Ws(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new yt(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,f=null,v=!1,b={affectedEvents:c,mutatedEvents:kn(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(h=Xle(u,s,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(f=df(c,l.getCurrentData().eventUiBases,h,l),b.mutatedEvents=f,qv(b,s.dateProfile,l)||(v=!0,h=null,f=null,b.mutatedEvents=null)),f?l.dispatch({type:"SET_EVENT_RESIZE",state:b}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),v?rf():sf(),o||(h&&py(u,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new yt(o,a,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let h=new yt(o,d.defs[a.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let f={oldEvent:c,event:h,relatedEvents:ns(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Ee(0),endDelta:this.validMutation.endDelta||Ee(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",f)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=t,i=this.dragging=new xl(t.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let r=this.hitDragging=new pu(this.dragging,ff(t));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Jt(t.subjectEl,".fc-event")}};function Xle(e,t,n,i){let r=e.context.dateEnv,s=e.dateSpan.range.start,o=t.dateSpan.range.start,a=Fo(s,o,r,e.largeUnit);if(n){if(r.add(i.start,a)<i.end)return{startDelta:a}}else if(r.add(i.end,a)>i.start)return{endDelta:a};return null}var DE=class{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let r=this.context.options.unselectCancel,s=Rv(i.origEvent);this.matchesCancel=!!Jt(s,r),this.matchesEvent=!!Jt(s,Jj.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:r}=this,{documentPointer:s}=this,o=r.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=r.options.unselectAuto;a&&(!a||!this.matchesCancel)&&r.calendarApi.unselect(i)}o.eventSelection&&!this.matchesEvent&&r.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new dy(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},Qle={fixedMirrorParent:I},Zle={dateClick:I,eventDragStart:I,eventDragStop:I,eventDrop:I,eventResizeStart:I,eventResizeStop:I,eventResize:I,drop:I,eventReceive:I,eventLeave:I};vf.dataAttrPrefix="";var eH=ri({name:"@fullcalendar/interaction",componentInteractions:[wE,SE,Jj,TE],calendarInteractions:[DE],elementDraggingImpl:xl,optionRefiners:Qle,listenerRefiners:Zle});var Kle=["calendar"],tH=(()=>{class e{constructor(n,i){this.changeDetector=n,this.appointmentService=i,this.calendarOptions={plugins:[jj,qj,Xj,eH],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},weekends:!0,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,events:this.loadAppointments.bind(this),select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this)},this.currentEvents=[]}ngOnInit(){}loadAppointments(n,i,r){console.log("Fetching appointments for:",n.start,"to",n.end),this.appointmentService.getAppointmentsInRange(n.start,n.end).subscribe({next:s=>{let o=s.map(a=>({id:String(a.id),title:`Appt: ${a.patientFirstName} ${a.patientLastName} (Dr. ${a.doctorLastName})`,start:a.startTime,end:a.endTime,backgroundColor:this.getEventColor(a.status),borderColor:this.getEventColor(a.status),extendedProps:{appointmentData:a}}));i(o),this.currentEvents=o,this.changeDetector.detectChanges()},error:s=>{console.error("Error fetching appointments:",s),r(s)}})}handleDateSelect(n){console.log("Date selected:",n),alert(`Date selected: Start=${n.startStr}, End=${n.endStr}, AllDay=${n.allDay}`),n.view.calendar.unselect()}handleEventClick(n){console.log("Event clicked:",n.event),alert(`Event clicked: ${n.event.title}`)}refreshCalendarEvents(){this.calendarComponent&&this.calendarComponent.getApi().refetchEvents()}getEventColor(n){switch(n){case"SCHEDULED":return"#3788d8";case"CONFIRMED":return"#28a745";case"CANCELLED":return"#dc3545";case"COMPLETED":return"#6c757d";case"NO_SHOW":return"#ffc107";default:return"#3788d8"}}static{this.\u0275fac=function(i){return new(i||e)(D(pn),D(Qc))}}static{this.\u0275cmp=X({type:e,selectors:[["app-appointment-calendar"]],viewQuery:function(i,r){if(i&1&&fi(Kle,5),i&2){let s;Xe(s=Qe())&&(r.calendarComponent=s.first)}},standalone:!0,features:[Te],decls:5,vars:1,consts:[["calendar",""],[1,"p-4","bg-white","rounded-lg","shadow-md"],[1,"text-2xl","font-semibold","text-gray-800","mb-4"],[3,"options"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"h2",2),y(2,"Appointment Calendar"),p(),R(3,"full-calendar",3,0),p()),i&2&&(g(3),_("options",r.calendarOptions))},dependencies:[we,Nj,Lj]})}}return e})();var mu=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.apiUrl=`${bt.apiUrl}/patients`}getPatients(){return this.http.get(this.apiUrl,{headers:this.authService.getAuthHeaders()})}getPatientById(n){return this.http.get(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}createPatient(n){let a=n,{id:i,createdAt:r,updatedAt:s}=a,o=ln(a,["id","createdAt","updatedAt"]);return this.http.post(this.apiUrl,o,{headers:this.authService.getAuthHeaders()})}updatePatient(n,i){let a=i,{createdAt:r,updatedAt:s}=a,o=ln(a,["createdAt","updatedAt"]);return this.http.put(`${this.apiUrl}/${n}`,o,{headers:this.authService.getAuthHeaders()})}deletePatient(n){return this.http.delete(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Jle(e,t){e&1&&(m(0,"div",8)(1,"p",9),y(2,"Loading patients..."),p()())}function ece(e,t){if(e&1){let n=K();m(0,"div",10),y(1),m(2,"button",11),N("click",function(){j(n);let r=S();return H(r.loadPatients())}),y(3,"Retry"),p()()}if(e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function tce(e,t){if(e&1){let n=K();m(0,"tr")(1,"td",21),y(2),p(),m(3,"td",22),y(4),ct(5,"date"),p(),m(6,"td",22),y(7),p(),m(8,"td",22),y(9),p(),m(10,"td",23)(11,"button",24),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.editPatient(r.id))}),y(12,"Edit"),p(),m(13,"button",25),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.deletePatient(r.id))}),y(14,"Delete"),p()()()}if(e&2){let n=t.$implicit;g(2),jt("",n.firstName," ",n.lastName,""),g(2),te(fn(5,5,n.dateOfBirth,"yyyy-MM-dd")),g(3),te(n.phoneNumber||"N/A"),g(2),te(n.email||"N/A")}}function nce(e,t){if(e&1&&(m(0,"table",14)(1,"thead",15)(2,"tr")(3,"th",16),y(4,"Name"),p(),m(5,"th",16),y(6,"Date of Birth"),p(),m(7,"th",16),y(8,"Phone"),p(),m(9,"th",16),y(10,"Email"),p(),m(11,"th",17)(12,"span",18),y(13,"Actions"),p()()()(),m(14,"tbody",19),E(15,tce,15,8,"tr",20),p()()),e&2){let n=S().ngIf;g(15),_("ngForOf",n)}}function ice(e,t){e&1&&(m(0,"p",26),y(1,"No patients found."),p())}function rce(e,t){if(e&1&&(m(0,"div",12),E(1,nce,16,1,"table",13)(2,ice,2,0,"ng-template",null,0,rn),p()),e&2){let n=t.ngIf,i=Pt(3);g(),_("ngIf",n.length>0)("ngIfElse",i)}}var nH=(()=>{class e{constructor(n,i){this.patientService=n,this.router=i,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.loadPatients()}loadPatients(){this.isLoading=!0,this.errorMessage=null,this.patients$=this.patientService.getPatients(),this.patients$.subscribe({next:()=>this.isLoading=!1,error:n=>{this.isLoading=!1,this.errorMessage="Failed to load patients. Please try again.",console.error(n)}})}editPatient(n){n&&this.router.navigate(["/patients/edit",n])}deletePatient(n){n&&confirm("Are you sure you want to delete this patient? This action cannot be undone.")&&(this.isLoading=!0,this.patientService.deletePatient(n).subscribe({next:()=>{console.log(`Patient ${n} deleted successfully.`),this.loadPatients()},error:i=>{this.isLoading=!1,this.errorMessage="Failed to delete patient. Please try again.",console.error("Error deleting patient:",i)}}))}static{this.\u0275fac=function(i){return new(i||e)(D(mu),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-patient-list"]],standalone:!0,features:[Te],decls:10,vars:5,consts:[["noPatients",""],[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-semibold","text-gray-800"],["routerLink","/patients/new",1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","rounded-md","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"overflow-x-auto"],["class","min-w-full divide-y divide-gray-200",4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-primary-600","hover:text-primary-900","mr-3",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"],[1,"text-center","text-gray-500","py-4"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"div",2)(2,"h2",3),y(3,"Patient List"),p(),m(4,"a",4),y(5," Add New Patient "),p()(),E(6,Jle,3,0,"div",5)(7,ece,4,1,"div",6)(8,rce,4,2,"div",7),ct(9,"async"),p()),i&2&&(g(6),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage&&Vn(9,3,r.patients$)))},dependencies:[we,et,de,Qn,Zn,Vi]})}}return e})();var my=e=>({"border-red-500":e});function sce(e,t){e&1&&(m(0,"div",5)(1,"p",6),y(2,"Loading patient data..."),p()())}function oce(e,t){if(e&1&&(m(0,"div",7),y(1),p()),e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function ace(e,t){e&1&&(m(0,"div",43),y(1," First name is required. "),p())}function lce(e,t){e&1&&(m(0,"div",43),y(1," Last name is required. "),p())}function cce(e,t){e&1&&(m(0,"div",43),y(1," Date of birth is required. "),p())}function uce(e,t){e&1&&(m(0,"div",43),y(1," Please enter a valid email address. "),p())}function dce(e,t){if(e&1&&(m(0,"span"),y(1),p()),e&2){let n=S(2);g(),te(n.isEditMode?"Update Patient":"Create Patient")}}function hce(e,t){e&1&&(m(0,"span"),y(1,"Saving..."),p())}function fce(e,t){if(e&1){let n=K();m(0,"form",8),N("ngSubmit",function(){j(n);let r=S();return H(r.onSubmit())}),m(1,"fieldset",9)(2,"legend",10),y(3,"Personal Information"),p(),m(4,"div",11)(5,"div")(6,"label",12),y(7,"First Name "),m(8,"span",13),y(9,"*"),p()(),R(10,"input",14),E(11,ace,2,0,"div",15),p(),m(12,"div")(13,"label",16),y(14,"Last Name "),m(15,"span",13),y(16,"*"),p()(),R(17,"input",17),E(18,lce,2,0,"div",15),p(),m(19,"div")(20,"label",18),y(21,"Date of Birth "),m(22,"span",13),y(23,"*"),p()(),R(24,"input",19),E(25,cce,2,0,"div",15),p(),m(26,"div")(27,"label",20),y(28,"Gender"),p(),m(29,"select",21)(30,"option",22),y(31,"Select Gender"),p(),m(32,"option",23),y(33,"Male"),p(),m(34,"option",24),y(35,"Female"),p(),m(36,"option",25),y(37,"Other"),p(),m(38,"option",26),y(39,"Prefer not to say"),p()()()()(),m(40,"fieldset",9)(41,"legend",10),y(42,"Contact Information"),p(),m(43,"div",11)(44,"div")(45,"label",27),y(46,"Phone Number"),p(),R(47,"input",28),p(),m(48,"div")(49,"label",29),y(50,"Email"),p(),R(51,"input",30),E(52,uce,2,0,"div",15),p(),m(53,"div",31)(54,"label",32),y(55,"Address"),p(),R(56,"textarea",33),p()()(),m(57,"fieldset",9)(58,"legend",10),y(59,"Medical Information"),p(),m(60,"div",34)(61,"div")(62,"label",35),y(63,"Medical History"),p(),R(64,"textarea",36),p(),m(65,"div")(66,"label",37),y(67,"Allergies"),p(),R(68,"textarea",38),p()()(),m(69,"div",39)(70,"button",40),N("click",function(){j(n);let r=S();return H(r.goBack())}),y(71," Cancel "),p(),m(72,"button",41),E(73,dce,2,1,"span",42)(74,hce,2,0,"span",42),p()()()}if(e&2){let n,i,r,s,o,a,l,c,u=S();_("formGroup",u.patientForm),g(10),_("ngClass",ge(12,my,((n=u.patientForm.get("firstName"))==null?null:n.invalid)&&((n=u.patientForm.get("firstName"))==null?null:n.touched))),g(),_("ngIf",((i=u.patientForm.get("firstName"))==null?null:i.invalid)&&((i=u.patientForm.get("firstName"))==null?null:i.touched)),g(6),_("ngClass",ge(14,my,((r=u.patientForm.get("lastName"))==null?null:r.invalid)&&((r=u.patientForm.get("lastName"))==null?null:r.touched))),g(),_("ngIf",((s=u.patientForm.get("lastName"))==null?null:s.invalid)&&((s=u.patientForm.get("lastName"))==null?null:s.touched)),g(6),_("ngClass",ge(16,my,((o=u.patientForm.get("dateOfBirth"))==null?null:o.invalid)&&((o=u.patientForm.get("dateOfBirth"))==null?null:o.touched))),g(),_("ngIf",((a=u.patientForm.get("dateOfBirth"))==null?null:a.invalid)&&((a=u.patientForm.get("dateOfBirth"))==null?null:a.touched)),g(26),_("ngClass",ge(18,my,((l=u.patientForm.get("email"))==null?null:l.invalid)&&((l=u.patientForm.get("email"))==null?null:l.touched)&&((l=u.patientForm.get("email"))==null||l.errors==null?null:l.errors.email))),g(),_("ngIf",((c=u.patientForm.get("email"))==null?null:c.invalid)&&((c=u.patientForm.get("email"))==null?null:c.touched)&&((c=u.patientForm.get("email"))==null||c.errors==null?null:c.errors.email)),g(20),_("disabled",u.patientForm.invalid||u.isLoading),g(),_("ngIf",!u.isLoading),g(),_("ngIf",u.isLoading)}}var AE=(()=>{class e{constructor(n,i,r,s){this.fb=n,this.patientService=i,this.router=r,this.route=s,this.isEditMode=!1,this.patientId=null,this.isLoading=!1,this.errorMessage=null,this.pageTitle="Add New Patient"}ngOnInit(){this.patientForm=this.fb.group({firstName:["",De.required],lastName:["",De.required],dateOfBirth:["",De.required],gender:[""],address:[""],phoneNumber:[""],email:["",De.email],medicalHistory:[""],allergies:[""]}),this.route.paramMap.subscribe(n=>{let i=n.get("id");i&&(this.isEditMode=!0,this.patientId=+i,this.pageTitle="Edit Patient",this.loadPatientData(this.patientId))})}loadPatientData(n){this.isLoading=!0,this.errorMessage=null,this.patientService.getPatientById(n).subscribe({next:i=>{this.isLoading=!1,this.patientForm.patchValue(i)},error:i=>{this.isLoading=!1,this.errorMessage="Failed to load patient data. Please try again.",console.error("Error loading patient:",i)}})}onSubmit(){if(this.patientForm.invalid){this.errorMessage="Please fill in all required fields correctly.",this.patientForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage=null;let n=this.patientForm.value;this.isEditMode&&this.patientId?this.patientService.updatePatient(this.patientId,n).subscribe({next:()=>{this.isLoading=!1,console.log("Patient updated successfully"),this.router.navigate(["/patients"])},error:i=>{this.isLoading=!1,this.errorMessage="Failed to update patient. Please try again.",console.error("Error updating patient:",i)}}):this.patientService.createPatient(n).subscribe({next:()=>{this.isLoading=!1,console.log("Patient created successfully"),this.router.navigate(["/patients"])},error:i=>{this.isLoading=!1,this.errorMessage="Failed to create patient. Please try again.",console.error("Error creating patient:",i)}})}goBack(){this.router.navigate(["/patients"])}static{this.\u0275fac=function(i){return new(i||e)(D(Ui),D(mu),D(Ne),D(mn))}}static{this.\u0275cmp=X({type:e,selectors:[["app-patient-form"]],standalone:!0,features:[Te],decls:6,vars:4,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md","max-w-4xl","mx-auto"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"border","border-gray-300","p-4","rounded-md"],[1,"text-lg","font-medium","text-gray-700","px-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-4"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","firstName","type","text","formControlName","firstName","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","type","text","formControlName","lastName","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","dateOfBirth",1,"block","text-sm","font-medium","text-gray-700"],["id","dateOfBirth","type","date","formControlName","dateOfBirth","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","gender",1,"block","text-sm","font-medium","text-gray-700"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],["value",""],["value","MALE"],["value","FEMALE"],["value","OTHER"],["value","UNKNOWN"],["for","phoneNumber",1,"block","text-sm","font-medium","text-gray-700"],["id","phoneNumber","type","tel","formControlName","phoneNumber",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","formControlName","email",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],[1,"md:col-span-2"],["for","address",1,"block","text-sm","font-medium","text-gray-700"],["id","address","formControlName","address","rows","3",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],[1,"grid","grid-cols-1","gap-6","mt-4"],["for","medicalHistory",1,"block","text-sm","font-medium","text-gray-700"],["id","medicalHistory","formControlName","medicalHistory","rows","4",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],["for","allergies",1,"block","text-sm","font-medium","text-gray-700"],["id","allergies","formControlName","allergies","rows","3",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],[1,"flex","justify-end","space-x-4","pt-4"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"mt-1","text-xs","text-red-600"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h2",1),y(2),p(),E(3,sce,3,0,"div",2)(4,oce,2,1,"div",3)(5,fce,75,20,"form",4),p()),i&2&&(g(2),te(r.pageTitle),g(),_("ngIf",r.isLoading&&r.isEditMode),g(),_("ngIf",r.errorMessage),g(),_("ngIf",!r.isLoading||!r.isEditMode))},dependencies:[we,Ct,de,$i,Hi,go,vo,Tn,Br,Jn,ji,wi,bi,Ci]})}}return e})();var rH=If(ME());var gy=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.apiUrl=`${bt.apiUrl}/prescriptions`,this.docApiUrl=`${bt.apiUrl}/documents`}getPrescriptions(n,i){let r=new Vt;return n&&(r=r.set("patientId",n.toString())),i&&(r=r.set("doctorId",i.toString())),this.http.get(this.apiUrl,{headers:this.authService.getAuthHeaders(),params:r})}getPrescriptionById(n){return this.http.get(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}createPrescription(n){let d=n,{id:i,patientFirstName:r,patientLastName:s,doctorFirstName:o,doctorLastName:a,createdAt:l,updatedAt:c}=d,u=ln(d,["id","patientFirstName","patientLastName","doctorFirstName","doctorLastName","createdAt","updatedAt"]);return this.http.post(this.apiUrl,u,{headers:this.authService.getAuthHeaders()})}updatePrescription(n,i){let d=i,{patientFirstName:r,patientLastName:s,doctorFirstName:o,doctorLastName:a,createdAt:l,updatedAt:c}=d,u=ln(d,["patientFirstName","patientLastName","doctorFirstName","doctorLastName","createdAt","updatedAt"]);return this.http.put(`${this.apiUrl}/${n}`,u,{headers:this.authService.getAuthHeaders()})}deletePrescription(n){return this.http.delete(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}downloadPrescriptionPdf(n){return this.http.get(`${this.docApiUrl}/prescriptions/${n}/pdf`,{headers:this.authService.getAuthHeaders(),responseType:"blob"})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pce(e,t){e&1&&(m(0,"div",7)(1,"p",8),y(2,"Loading prescriptions..."),p()())}function mce(e,t){if(e&1){let n=K();m(0,"div",9),y(1),m(2,"button",10),N("click",function(){j(n);let r=S();return H(r.loadPrescriptions())}),y(3,"Retry"),p()()}if(e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function gce(e,t){if(e&1){let n=K();m(0,"tr")(1,"td",20),y(2),ct(3,"date"),p(),m(4,"td",21),y(5),p(),m(6,"td",20),y(7),p(),m(8,"td",20),y(9),p(),m(10,"td",20),y(11),p(),m(12,"td",22)(13,"button",23),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.downloadPdf(r.id,r.patientLastName))}),y(14,"Download PDF"),p()()()}if(e&2){let n=t.$implicit;g(2),te(fn(3,6,n.prescriptionDate,"yyyy-MM-dd")),g(3),jt("",n.patientFirstName," ",n.patientLastName,""),g(2),J("Dr. ",n.doctorLastName,""),g(2),te(n.medicationName),g(2),te(n.dosage)}}function vce(e,t){if(e&1&&(m(0,"table",13)(1,"thead",14)(2,"tr")(3,"th",15),y(4,"Date"),p(),m(5,"th",15),y(6,"Patient"),p(),m(7,"th",15),y(8,"Doctor"),p(),m(9,"th",15),y(10,"Medication"),p(),m(11,"th",15),y(12,"Dosage"),p(),m(13,"th",16)(14,"span",17),y(15,"Actions"),p()()()(),m(16,"tbody",18),E(17,gce,15,9,"tr",19),p()()),e&2){let n=S().ngIf;g(17),_("ngForOf",n)}}function yce(e,t){e&1&&(m(0,"p",24),y(1,"No prescriptions found."),p())}function _ce(e,t){if(e&1&&(m(0,"div",11),E(1,vce,18,1,"table",12)(2,yce,2,0,"ng-template",null,0,rn),p()),e&2){let n=t.ngIf,i=Pt(3);g(),_("ngIf",n.length>0)("ngIfElse",i)}}var sH=(()=>{class e{constructor(n,i){this.prescriptionService=n,this.router=i,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.loadPrescriptions()}loadPrescriptions(){this.isLoading=!0,this.errorMessage=null,this.prescriptions$=this.prescriptionService.getPrescriptions(this.patientId,this.doctorId),this.prescriptions$.subscribe({next:()=>this.isLoading=!1,error:n=>{this.isLoading=!1,this.errorMessage="Failed to load prescriptions. Please try again.",console.error(n)}})}editPrescription(n){n&&this.router.navigate(["/prescriptions/edit",n])}deletePrescription(n){n&&confirm("Are you sure you want to delete this prescription?")&&(this.isLoading=!0,this.prescriptionService.deletePrescription(n).subscribe({next:()=>{console.log(`Prescription ${n} deleted successfully.`),this.loadPrescriptions()},error:i=>{this.isLoading=!1,this.errorMessage="Failed to delete prescription.",console.error("Error deleting prescription:",i)}}))}downloadPdf(n,i){n&&this.prescriptionService.downloadPrescriptionPdf(n).subscribe({next:r=>{let s=`prescription_${n}_${i||"patient"}.pdf`;(0,rH.saveAs)(r,s)},error:r=>{this.errorMessage="Failed to download PDF.",console.error("Error downloading prescription PDF:",r)}})}static{this.\u0275fac=function(i){return new(i||e)(D(gy),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-prescription-list"]],inputs:{patientId:"patientId",doctorId:"doctorId"},standalone:!0,features:[Te],decls:8,vars:5,consts:[["noPrescriptions",""],[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-semibold","text-gray-800"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"overflow-x-auto"],["class","min-w-full divide-y divide-gray-200",4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],[1,"text-primary-600","hover:text-primary-900","mr-3",3,"click"],[1,"text-center","text-gray-500","py-4"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"div",2)(2,"h2",3),y(3,"Prescription List"),p()(),E(4,pce,3,0,"div",4)(5,mce,4,1,"div",5)(6,_ce,4,2,"div",6),ct(7,"async"),p()),i&2&&(g(4),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage&&Vn(7,3,r.prescriptions$)))},dependencies:[we,et,de,Qn,Zn]})}}return e})();var Sf=e=>({"border-red-500":e});function xce(e,t){e&1&&(m(0,"div",5)(1,"p",6),y(2,"Saving prescription..."),p()())}function bce(e,t){if(e&1&&(m(0,"div",7),y(1),p()),e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function Cce(e,t){if(e&1&&R(0,"input",32),e&2){let n=S(2);_("value","Patient ID: "+n.patientIdFromRoute)}}function wce(e,t){if(e&1&&R(0,"input",33),e&2){let n,i=S(2);_("ngClass",ge(1,Sf,((n=i.prescriptionForm.get("patientId"))==null?null:n.invalid)&&((n=i.prescriptionForm.get("patientId"))==null?null:n.touched)))}}function Sce(e,t){e&1&&(m(0,"div",34),y(1," Patient is required. "),p())}function Tce(e,t){e&1&&(m(0,"div",34),y(1," Medication name is required. "),p())}function Dce(e,t){e&1&&(m(0,"div",34),y(1," Dosage is required. "),p())}function Ece(e,t){e&1&&(m(0,"div",34),y(1," Frequency is required. "),p())}function Ace(e,t){e&1&&(m(0,"div",34),y(1," Prescription date is required. "),p())}function Ice(e,t){e&1&&(m(0,"span"),y(1,"Create Prescription"),p())}function kce(e,t){e&1&&(m(0,"span"),y(1,"Saving..."),p())}function Mce(e,t){if(e&1){let n=K();m(0,"form",8),N("ngSubmit",function(){j(n);let r=S();return H(r.onSubmit())}),m(1,"div")(2,"label",9),y(3,"Patient "),m(4,"span",10),y(5,"*"),p()(),E(6,Cce,1,1,"input",11)(7,wce,1,3,"input",12)(8,Sce,2,0,"div",13),p(),R(9,"input",14),m(10,"div",15)(11,"div")(12,"label",16),y(13,"Medication Name "),m(14,"span",10),y(15,"*"),p()(),R(16,"input",17),E(17,Tce,2,0,"div",13),p(),m(18,"div")(19,"label",18),y(20,"Dosage "),m(21,"span",10),y(22,"*"),p()(),R(23,"input",19),E(24,Dce,2,0,"div",13),p(),m(25,"div")(26,"label",20),y(27,"Frequency "),m(28,"span",10),y(29,"*"),p()(),R(30,"input",21),E(31,Ece,2,0,"div",13),p(),m(32,"div")(33,"label",22),y(34,"Prescription Date "),m(35,"span",10),y(36,"*"),p()(),R(37,"input",23),E(38,Ace,2,0,"div",13),p(),m(39,"div")(40,"label",24),y(41,"End Date (Optional)"),p(),R(42,"input",25),p()(),m(43,"div")(44,"label",26),y(45,"Instructions (Optional)"),p(),R(46,"textarea",27),p(),m(47,"div",28)(48,"button",29),N("click",function(){j(n);let r=S();return H(r.goBack())}),y(49," Cancel "),p(),m(50,"button",30),E(51,Ice,2,0,"span",31)(52,kce,2,0,"span",31),p()()()}if(e&2){let n,i,r,s,o,a,l,c,u,d=S();_("formGroup",d.prescriptionForm),g(6),_("ngIf",d.patientIdFromRoute),g(),_("ngIf",!d.patientIdFromRoute),g(),_("ngIf",((n=d.prescriptionForm.get("patientId"))==null?null:n.invalid)&&((n=d.prescriptionForm.get("patientId"))==null?null:n.touched)),g(8),_("ngClass",ge(15,Sf,((i=d.prescriptionForm.get("medicationName"))==null?null:i.invalid)&&((i=d.prescriptionForm.get("medicationName"))==null?null:i.touched))),g(),_("ngIf",((r=d.prescriptionForm.get("medicationName"))==null?null:r.invalid)&&((r=d.prescriptionForm.get("medicationName"))==null?null:r.touched)),g(6),_("ngClass",ge(17,Sf,((s=d.prescriptionForm.get("dosage"))==null?null:s.invalid)&&((s=d.prescriptionForm.get("dosage"))==null?null:s.touched))),g(),_("ngIf",((o=d.prescriptionForm.get("dosage"))==null?null:o.invalid)&&((o=d.prescriptionForm.get("dosage"))==null?null:o.touched)),g(6),_("ngClass",ge(19,Sf,((a=d.prescriptionForm.get("frequency"))==null?null:a.invalid)&&((a=d.prescriptionForm.get("frequency"))==null?null:a.touched))),g(),_("ngIf",((l=d.prescriptionForm.get("frequency"))==null?null:l.invalid)&&((l=d.prescriptionForm.get("frequency"))==null?null:l.touched)),g(6),_("ngClass",ge(21,Sf,((c=d.prescriptionForm.get("prescriptionDate"))==null?null:c.invalid)&&((c=d.prescriptionForm.get("prescriptionDate"))==null?null:c.touched))),g(),_("ngIf",((u=d.prescriptionForm.get("prescriptionDate"))==null?null:u.invalid)&&((u=d.prescriptionForm.get("prescriptionDate"))==null?null:u.touched)),g(12),_("disabled",d.prescriptionForm.invalid||d.isLoading),g(),_("ngIf",!d.isLoading),g(),_("ngIf",d.isLoading)}}var RE=(()=>{class e{constructor(n,i,r,s,o){this.fb=n,this.prescriptionService=i,this.authService=r,this.router=s,this.route=o,this.isLoading=!1,this.errorMessage=null,this.pageTitle="Create New Prescription",this.currentDoctorId=null,this.patientIdFromRoute=null}ngOnInit(){let n=this.authService.getCurrentUserValue();n&&n.role==="DOCTOR"?this.currentDoctorId=n.id:(this.errorMessage="Error: Cannot determine prescribing doctor.",console.error("User is not a doctor or doctor ID not found.")),this.route.paramMap.subscribe(i=>{let r=i.get("patientId");r&&(this.patientIdFromRoute=+r),this.initializeForm()})}initializeForm(){this.prescriptionForm=this.fb.group({patientId:[this.patientIdFromRoute,De.required],doctorId:[this.currentDoctorId,De.required],medicationName:["",De.required],dosage:["",De.required],frequency:["",De.required],instructions:[""],prescriptionDate:[this.getTodayDateString(),De.required],endDate:[""]}),this.currentDoctorId&&this.prescriptionForm.get("doctorId")?.disable(),this.patientIdFromRoute&&this.prescriptionForm.get("patientId")?.disable()}getTodayDateString(){let n=new Date,i=n.getFullYear(),r=("0"+(n.getMonth()+1)).slice(-2),s=("0"+n.getDate()).slice(-2);return`${i}-${r}-${s}`}onSubmit(){if(this.prescriptionForm.get("doctorId")?.enable(),this.patientIdFromRoute&&this.prescriptionForm.get("patientId")?.enable(),this.prescriptionForm.invalid){this.errorMessage="Please fill in all required fields correctly.",this.prescriptionForm.markAllAsTouched(),this.currentDoctorId&&this.prescriptionForm.get("doctorId")?.disable(),this.patientIdFromRoute&&this.prescriptionForm.get("patientId")?.disable();return}this.currentDoctorId&&this.prescriptionForm.get("doctorId")?.disable(),this.patientIdFromRoute&&this.prescriptionForm.get("patientId")?.disable(),this.isLoading=!0,this.errorMessage=null;let n=this.prescriptionForm.getRawValue();this.prescriptionService.createPrescription(n).subscribe({next:i=>{this.isLoading=!1,console.log("Prescription created successfully",i),this.router.navigate(["/prescriptions"])},error:i=>{this.isLoading=!1,this.errorMessage="Failed to create prescription. Please try again.",console.error("Error creating prescription:",i),this.prescriptionForm.get("doctorId")?.enable(),this.patientIdFromRoute&&this.prescriptionForm.get("patientId")?.enable()}})}goBack(){this.patientIdFromRoute?this.router.navigate(["/patients",this.patientIdFromRoute]):this.router.navigate(["/prescriptions"])}static{this.\u0275fac=function(i){return new(i||e)(D(Ui),D(gy),D($e),D(Ne),D(mn))}}static{this.\u0275cmp=X({type:e,selectors:[["app-prescription-form"]],standalone:!0,features:[Te],decls:6,vars:4,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md","max-w-3xl","mx-auto"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","patientId",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["type","text","disabled","","class","mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 sm:text-sm",3,"value",4,"ngIf"],["id","patientId","type","number","formControlName","patientId","required","","placeholder","Enter Patient ID","class","mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",3,"ngClass",4,"ngIf"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["type","hidden","formControlName","doctorId"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","medicationName",1,"block","text-sm","font-medium","text-gray-700"],["id","medicationName","type","text","formControlName","medicationName","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","dosage",1,"block","text-sm","font-medium","text-gray-700"],["id","dosage","type","text","formControlName","dosage","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","frequency",1,"block","text-sm","font-medium","text-gray-700"],["id","frequency","type","text","formControlName","frequency","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","prescriptionDate",1,"block","text-sm","font-medium","text-gray-700"],["id","prescriptionDate","type","date","formControlName","prescriptionDate","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","endDate",1,"block","text-sm","font-medium","text-gray-700"],["id","endDate","type","date","formControlName","endDate",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],["for","instructions",1,"block","text-sm","font-medium","text-gray-700"],["id","instructions","formControlName","instructions","rows","4",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],[1,"flex","justify-end","space-x-4","pt-4"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["type","text","disabled","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","bg-gray-100","sm:text-sm",3,"value"],["id","patientId","type","number","formControlName","patientId","required","","placeholder","Enter Patient ID",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],[1,"mt-1","text-xs","text-red-600"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h2",1),y(2),p(),E(3,xce,3,0,"div",2)(4,bce,2,1,"div",3)(5,Mce,53,23,"form",4),p()),i&2&&(g(2),te(r.pageTitle),g(),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",r.prescriptionForm))},dependencies:[we,Ct,de,$i,Hi,Tn,Md,Jn,ji,wi,bi,Ci]})}}return e})();var aH=If(ME());var vy=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.apiUrl=`${bt.apiUrl}/invoices`,this.docApiUrl=`${bt.apiUrl}/documents`}getInvoices(n,i){let r=new Vt;return n&&(r=r.set("patientId",n.toString())),i&&(r=r.set("status",i)),this.http.get(this.apiUrl,{headers:this.authService.getAuthHeaders(),params:r})}getInvoiceById(n){return this.http.get(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}createInvoice(n){let c=n,{id:i,patientFirstName:r,patientLastName:s,createdAt:o,updatedAt:a}=c,l=ln(c,["id","patientFirstName","patientLastName","createdAt","updatedAt"]);return this.http.post(this.apiUrl,l,{headers:this.authService.getAuthHeaders()})}updateInvoice(n,i){let c=i,{patientFirstName:r,patientLastName:s,createdAt:o,updatedAt:a}=c,l=ln(c,["patientFirstName","patientLastName","createdAt","updatedAt"]);return this.http.put(`${this.apiUrl}/${n}`,l,{headers:this.authService.getAuthHeaders()})}deleteInvoice(n){return this.http.delete(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}downloadInvoicePdf(n){return this.http.get(`${this.docApiUrl}/invoices/${n}/pdf`,{headers:this.authService.getAuthHeaders(),responseType:"blob"})}markAsPaid(n){return this.http.post(`${this.apiUrl}/${n}/pay`,{},{headers:this.authService.getAuthHeaders()})}markAsSent(n){return this.http.post(`${this.apiUrl}/${n}/send`,{},{headers:this.authService.getAuthHeaders()})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Rce=(e,t,n)=>({"bg-green-100 text-green-800":e,"bg-yellow-100 text-yellow-800":t,"bg-red-100 text-red-800":n});function Lce(e,t){e&1&&(m(0,"div",8)(1,"p",9),y(2,"Loading invoices..."),p()())}function Nce(e,t){if(e&1){let n=K();m(0,"div",10),y(1),m(2,"button",11),N("click",function(){j(n);let r=S();return H(r.loadInvoices())}),y(3,"Retry"),p()()}if(e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function Fce(e,t){if(e&1){let n=K();m(0,"button",31),N("click",function(){j(n);let r=S().$implicit,s=S(3);return H(s.markAsPaid(r.id))}),y(1," \u2714 "),p()}if(e&2){let n=S(4);_("disabled",n.isLoading)}}function Oce(e,t){if(e&1){let n=K();m(0,"button",32),N("click",function(){j(n);let r=S().$implicit,s=S(3);return H(s.markAsSent(r.id))}),y(1," \u2709 "),p()}if(e&2){let n=S(4);_("disabled",n.isLoading)}}function Pce(e,t){if(e&1){let n=K();m(0,"tr")(1,"td",21),y(2),p(),m(3,"td",22),y(4),p(),m(5,"td",22),y(6),ct(7,"date"),p(),m(8,"td",22),y(9),ct(10,"date"),p(),m(11,"td",22),y(12),ct(13,"currency"),p(),m(14,"td",23)(15,"span",24),y(16),p()(),m(17,"td",25),E(18,Fce,2,1,"button",26)(19,Oce,2,1,"button",27),m(20,"button",28),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.editInvoice(r.id))}),y(21," \u270E "),p(),m(22,"button",29),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.downloadPdf(r.id,r.patientLastName))}),y(23," \u2B73 "),p(),m(24,"button",30),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.deleteInvoice(r.id))}),y(25," \u2716 "),p()()()}if(e&2){let n=t.$implicit,i=S(3);g(2),te(n.id),g(2),jt("",n.patientFirstName," ",n.patientLastName,""),g(2),te(fn(7,13,n.issueDate,"yyyy-MM-dd")),g(3),te(fn(10,16,n.dueDate,"yyyy-MM-dd")),g(3),te(cm(13,19,n.totalAmount,"USD","symbol")),g(3),_("ngClass",Li(23,Rce,n.status==="PAID",n.status==="SENT"||n.status==="DRAFT",n.status==="OVERDUE"||n.status==="CANCELLED")),g(),J(" ",n.status," "),g(2),_("ngIf",n.status==="DRAFT"||n.status==="SENT"),g(),_("ngIf",n.status==="DRAFT"),g(),_("disabled",i.isLoading),g(2),_("disabled",i.isLoading),g(2),_("disabled",i.isLoading)}}function Vce(e,t){if(e&1&&(m(0,"table",14)(1,"thead",15)(2,"tr")(3,"th",16),y(4,"Invoice #"),p(),m(5,"th",16),y(6,"Patient"),p(),m(7,"th",16),y(8,"Issue Date"),p(),m(9,"th",16),y(10,"Due Date"),p(),m(11,"th",16),y(12,"Amount"),p(),m(13,"th",16),y(14,"Status"),p(),m(15,"th",17)(16,"span",18),y(17,"Actions"),p()()()(),m(18,"tbody",19),E(19,Pce,26,27,"tr",20),p()()),e&2){let n=S().ngIf;g(19),_("ngForOf",n)}}function Bce(e,t){e&1&&(m(0,"p",33),y(1,"No invoices found."),p())}function jce(e,t){if(e&1&&(m(0,"div",12),E(1,Vce,20,1,"table",13)(2,Bce,2,0,"ng-template",null,0,rn),p()),e&2){let n=t.ngIf,i=Pt(3);g(),_("ngIf",n.length>0)("ngIfElse",i)}}var lH=(()=>{class e{constructor(n,i){this.invoiceService=n,this.router=i,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.loadInvoices()}loadInvoices(){this.isLoading=!0,this.errorMessage=null,this.invoices$=this.invoiceService.getInvoices(this.patientId,this.status),this.invoices$.subscribe({next:()=>this.isLoading=!1,error:n=>{this.isLoading=!1,this.errorMessage="Failed to load invoices. Please try again.",console.error(n)}})}editInvoice(n){n&&this.router.navigate(["/invoices/edit",n])}markAsPaid(n){n&&(this.isLoading=!0,this.invoiceService.markAsPaid(n).subscribe({next:()=>{console.log(`Invoice ${n} marked as paid.`),this.loadInvoices()},error:i=>{this.isLoading=!1,this.errorMessage="Failed to mark invoice as paid.",console.error("Error marking invoice as paid:",i)}}))}markAsSent(n){n&&(this.isLoading=!0,this.invoiceService.markAsSent(n).subscribe({next:()=>{console.log(`Invoice ${n} marked as sent.`),this.loadInvoices()},error:i=>{this.isLoading=!1,this.errorMessage="Failed to mark invoice as sent.",console.error("Error marking invoice as sent:",i)}}))}downloadPdf(n,i){n&&this.invoiceService.downloadInvoicePdf(n).subscribe({next:r=>{let s=`invoice_${n}_${i||"patient"}.pdf`;(0,aH.saveAs)(r,s)},error:r=>{this.errorMessage="Failed to download PDF.",console.error("Error downloading invoice PDF:",r)}})}deleteInvoice(n){n&&confirm("Are you sure you want to delete this invoice?")&&(this.isLoading=!0,this.invoiceService.deleteInvoice(n).subscribe({next:()=>{console.log(`Invoice ${n} deleted successfully.`),this.loadInvoices()},error:i=>{this.isLoading=!1,this.errorMessage="Failed to delete invoice.",console.error("Error deleting invoice:",i)}}))}static{this.\u0275fac=function(i){return new(i||e)(D(vy),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-invoice-list"]],inputs:{patientId:"patientId",status:"status"},standalone:!0,features:[Te],decls:10,vars:5,consts:[["noInvoices",""],[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-semibold","text-gray-800"],["routerLink","/invoices/new",1,"px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","rounded-md","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"overflow-x-auto"],["class","min-w-full divide-y divide-gray-200",4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-2"],["title","Mark as Paid","class","text-green-600 hover:text-green-900 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["title","Mark as Sent","class","text-blue-600 hover:text-blue-900 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["title","Edit Invoice",1,"text-indigo-600","hover:text-indigo-900","disabled:opacity-50",3,"click","disabled"],["title","Download PDF",1,"text-purple-600","hover:text-purple-900","disabled:opacity-50",3,"click","disabled"],["title","Delete Invoice",1,"text-red-600","hover:text-red-900","disabled:opacity-50",3,"click","disabled"],["title","Mark as Paid",1,"text-green-600","hover:text-green-900","disabled:opacity-50",3,"click","disabled"],["title","Mark as Sent",1,"text-blue-600","hover:text-blue-900","disabled:opacity-50",3,"click","disabled"],[1,"text-center","text-gray-500","py-4"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"div",2)(2,"h2",3),y(3,"Invoice List"),p(),m(4,"a",4),y(5," Create New Invoice "),p()(),E(6,Lce,3,0,"div",5)(7,Nce,4,1,"div",6)(8,jce,4,2,"div",7),ct(9,"async"),p()),i&2&&(g(6),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage&&Vn(9,3,r.invoices$)))},dependencies:[we,Ct,et,de,Qn,Em,Zn,Vi]})}}return e})();var Tf=e=>({"border-red-500":e});function Hce(e,t){e&1&&(m(0,"div",5)(1,"p",6),y(2,"Loading invoice data..."),p()())}function Uce(e,t){if(e&1&&(m(0,"div",7),y(1),p()),e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function $ce(e,t){e&1&&(m(0,"div",31),y(1," Patient is required. "),p())}function zce(e,t){e&1&&(m(0,"div",31),y(1," Issue date is required. "),p())}function Gce(e,t){e&1&&(m(0,"div",31),y(1," Due date is required. "),p())}function Wce(e,t){e&1&&(m(0,"span"),y(1,"Total amount is required."),p())}function qce(e,t){e&1&&(m(0,"span"),y(1,"Amount must be positive."),p())}function Yce(e,t){if(e&1&&(m(0,"div",31),E(1,Wce,2,0,"span",30)(2,qce,2,0,"span",30),p()),e&2){let n,i,r=S(2);g(),_("ngIf",(n=r.invoiceForm.get("totalAmount"))==null||n.errors==null?null:n.errors.required),g(),_("ngIf",(i=r.invoiceForm.get("totalAmount"))==null||i.errors==null?null:i.errors.min)}}function Xce(e,t){if(e&1&&(m(0,"option",32),y(1),p()),e&2){let n=t.$implicit;_("value",n),g(),te(n)}}function Qce(e,t){e&1&&(m(0,"div",31),y(1," Status is required. "),p())}function Zce(e,t){if(e&1&&(m(0,"span"),y(1),p()),e&2){let n=S(2);g(),te(n.isEditMode?"Update Invoice":"Create Invoice")}}function Kce(e,t){e&1&&(m(0,"span"),y(1,"Saving..."),p())}function Jce(e,t){if(e&1){let n=K();m(0,"form",8),N("ngSubmit",function(){j(n);let r=S();return H(r.onSubmit())}),m(1,"div",9)(2,"div")(3,"label",10),y(4,"Patient "),m(5,"span",11),y(6,"*"),p()(),R(7,"input",12),E(8,$ce,2,0,"div",13),p(),m(9,"div")(10,"label",14),y(11,"Related Appointment (Optional)"),p(),R(12,"input",15),p(),m(13,"div")(14,"label",16),y(15,"Issue Date "),m(16,"span",11),y(17,"*"),p()(),R(18,"input",17),E(19,zce,2,0,"div",13),p(),m(20,"div")(21,"label",18),y(22,"Due Date "),m(23,"span",11),y(24,"*"),p()(),R(25,"input",19),E(26,Gce,2,0,"div",13),p(),m(27,"div")(28,"label",20),y(29,"Total Amount "),m(30,"span",11),y(31,"*"),p()(),R(32,"input",21),E(33,Yce,3,2,"div",13),p(),m(34,"div")(35,"label",22),y(36,"Status "),m(37,"span",11),y(38,"*"),p()(),m(39,"select",23),E(40,Xce,2,2,"option",24),p(),E(41,Qce,2,0,"div",13),p()(),m(42,"div")(43,"label",25),y(44,"Notes (Optional)"),p(),R(45,"textarea",26),p(),m(46,"div",27)(47,"button",28),N("click",function(){j(n);let r=S();return H(r.goBack())}),y(48," Cancel "),p(),m(49,"button",29),E(50,Zce,2,1,"span",30)(51,Kce,2,0,"span",30),p()()()}if(e&2){let n,i,r,s,o,a,l,c,u,d,h=S();_("formGroup",h.invoiceForm),g(7),_("ngClass",ge(15,Tf,((n=h.invoiceForm.get("patientId"))==null?null:n.invalid)&&((n=h.invoiceForm.get("patientId"))==null?null:n.touched))),g(),_("ngIf",((i=h.invoiceForm.get("patientId"))==null?null:i.invalid)&&((i=h.invoiceForm.get("patientId"))==null?null:i.touched)),g(10),_("ngClass",ge(17,Tf,((r=h.invoiceForm.get("issueDate"))==null?null:r.invalid)&&((r=h.invoiceForm.get("issueDate"))==null?null:r.touched))),g(),_("ngIf",((s=h.invoiceForm.get("issueDate"))==null?null:s.invalid)&&((s=h.invoiceForm.get("issueDate"))==null?null:s.touched)),g(6),_("ngClass",ge(19,Tf,((o=h.invoiceForm.get("dueDate"))==null?null:o.invalid)&&((o=h.invoiceForm.get("dueDate"))==null?null:o.touched))),g(),_("ngIf",((a=h.invoiceForm.get("dueDate"))==null?null:a.invalid)&&((a=h.invoiceForm.get("dueDate"))==null?null:a.touched)),g(6),_("ngClass",ge(21,Tf,((l=h.invoiceForm.get("totalAmount"))==null?null:l.invalid)&&((l=h.invoiceForm.get("totalAmount"))==null?null:l.touched))),g(),_("ngIf",((c=h.invoiceForm.get("totalAmount"))==null?null:c.invalid)&&((c=h.invoiceForm.get("totalAmount"))==null?null:c.touched)),g(6),_("ngClass",ge(23,Tf,((u=h.invoiceForm.get("status"))==null?null:u.invalid)&&((u=h.invoiceForm.get("status"))==null?null:u.touched))),g(),_("ngForOf",h.invoiceStatuses),g(),_("ngIf",((d=h.invoiceForm.get("status"))==null?null:d.invalid)&&((d=h.invoiceForm.get("status"))==null?null:d.touched)),g(8),_("disabled",h.invoiceForm.invalid||h.isLoading),g(),_("ngIf",!h.isLoading),g(),_("ngIf",h.isLoading)}}var LE=(()=>{class e{constructor(n,i,r,s){this.fb=n,this.invoiceService=i,this.router=r,this.route=s,this.isEditMode=!1,this.invoiceId=null,this.isLoading=!1,this.errorMessage=null,this.pageTitle="Create New Invoice",this.invoiceStatuses=["DRAFT","SENT","PAID","OVERDUE","CANCELLED"]}ngOnInit(){this.invoiceForm=this.fb.group({patientId:["",De.required],appointmentId:[null],issueDate:[this.getTodayDateString(),De.required],dueDate:["",De.required],totalAmount:[0,[De.required,De.min(.01)]],status:["DRAFT",De.required],notes:[""]}),this.route.paramMap.subscribe(n=>{let i=n.get("id");i&&(this.isEditMode=!0,this.invoiceId=+i,this.pageTitle="Edit Invoice",this.loadInvoiceData(this.invoiceId))})}loadInvoiceData(n){this.isLoading=!0,this.errorMessage=null,this.invoiceService.getInvoiceById(n).subscribe({next:i=>{this.isLoading=!1,i.issueDate=this.formatDateForInput(i.issueDate),i.dueDate=this.formatDateForInput(i.dueDate),this.invoiceForm.patchValue(i)},error:i=>{this.isLoading=!1,this.errorMessage="Failed to load invoice data.",console.error("Error loading invoice:",i)}})}onSubmit(){if(this.invoiceForm.invalid){this.errorMessage="Please fill in all required fields correctly.",this.invoiceForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage=null;let n=this.invoiceForm.value;this.isEditMode&&this.invoiceId?this.invoiceService.updateInvoice(this.invoiceId,n).subscribe({next:()=>{this.isLoading=!1,console.log("Invoice updated successfully"),this.router.navigate(["/invoices"])},error:i=>{this.isLoading=!1,this.errorMessage="Failed to update invoice.",console.error("Error updating invoice:",i)}}):this.invoiceService.createInvoice(n).subscribe({next:()=>{this.isLoading=!1,console.log("Invoice created successfully"),this.router.navigate(["/invoices"])},error:i=>{this.isLoading=!1,this.errorMessage="Failed to create invoice.",console.error("Error creating invoice:",i)}})}getTodayDateString(){return new Date().toISOString().split("T")[0]}formatDateForInput(n){if(!n)return"";try{return new Date(n).toISOString().split("T")[0]}catch(i){return console.error("Error formatting date for input:",i),""}}goBack(){this.router.navigate(["/invoices"])}static{this.\u0275fac=function(i){return new(i||e)(D(Ui),D(vy),D(Ne),D(mn))}}static{this.\u0275cmp=X({type:e,selectors:[["app-invoice-form"]],standalone:!0,features:[Te],decls:6,vars:4,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md","max-w-3xl","mx-auto"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","patientId",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","patientId","type","number","formControlName","patientId","required","","placeholder","Enter Patient ID",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["for","appointmentId",1,"block","text-sm","font-medium","text-gray-700"],["id","appointmentId","type","number","formControlName","appointmentId","placeholder","Enter Appointment ID",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["for","issueDate",1,"block","text-sm","font-medium","text-gray-700"],["id","issueDate","type","date","formControlName","issueDate","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","dueDate",1,"block","text-sm","font-medium","text-gray-700"],["id","dueDate","type","date","formControlName","dueDate","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","totalAmount",1,"block","text-sm","font-medium","text-gray-700"],["id","totalAmount","type","number","formControlName","totalAmount","required","","min","0.01","step","0.01","placeholder","0.00",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","formControlName","status","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","notes",1,"block","text-sm","font-medium","text-gray-700"],["id","notes","formControlName","notes","rows","4",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],[1,"flex","justify-end","space-x-4","pt-4"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-indigo-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],[1,"mt-1","text-xs","text-red-600"],[3,"value"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h2",1),y(2),p(),E(3,Hce,3,0,"div",2)(4,Uce,2,1,"div",3)(5,Jce,52,25,"form",4),p()),i&2&&(g(2),te(r.pageTitle),g(),_("ngIf",r.isLoading&&r.isEditMode),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading||!r.isEditMode))},dependencies:[we,Ct,et,de,$i,Hi,go,vo,Tn,Md,Br,Jn,ji,wi,pw,bi,Ci]})}}return e})();var eue=["messageContainer"],tue=(e,t,n)=>({"text-green-600":e,"text-yellow-600":t,"text-red-600":n}),nue=e=>({"justify-end":e}),iue=(e,t,n)=>({"bg-primary-500 text-white":e,"bg-gray-200 text-gray-800":t,"bg-yellow-100 text-yellow-800 text-sm italic w-full text-center":n}),rue=e=>({"text-sm italic":e});function sue(e,t){if(e&1&&(m(0,"p",20),y(1),p()),e&2){let n=S().$implicit;g(),te(n.sender)}}function oue(e,t){if(e&1&&(m(0,"p",21),y(1),ct(2,"date"),p()),e&2){let n=S().$implicit;g(),J(" ",fn(2,1,n.timestamp,"shortTime")," ")}}function aue(e,t){if(e&1&&(m(0,"div",16)(1,"div",17),E(2,sue,2,1,"p",18),m(3,"p",5),y(4),p(),E(5,oue,3,4,"p",19),p()()),e&2){let n=t.$implicit,i=S();_("ngClass",ge(6,nue,n.sender===i.currentUserEmail)),g(),_("ngClass",Li(8,iue,n.sender===i.currentUserEmail,n.sender!==i.currentUserEmail&&n.type==="CHAT",n.type==="JOIN"||n.type==="LEAVE")),g(),_("ngIf",n.type==="CHAT"&&n.sender!==i.currentUserEmail),g(),_("ngClass",ge(12,rue,n.type!=="CHAT")),g(),te(n.content),g(),_("ngIf",n.timestamp&&n.type==="CHAT")}}function lue(e,t){e&1&&(m(0,"div",22),y(1," No messages yet. Start chatting! "),p())}var cH=(()=>{class e{constructor(n,i){this.websocketService=n,this.authService=i,this.messages=[],this.newMessage="",this.currentUserEmail=null,this.recipientEmail="",this.connectionState="DISCONNECTED",this.subscriptions=new wt}ngOnInit(){this.currentUserEmail=this.authService.getCurrentUserValue()?.email??null,this.subscriptions.add(this.websocketService.connectionState$.subscribe(n=>{this.connectionState=n,n==="CONNECTED"&&console.log("Chat component aware of WS connection.")})),this.subscriptions.add(this.websocketService.publicChatMessages$.subscribe(n=>{this.messages.push(n),this.scrollToBottom()})),this.subscriptions.add(this.websocketService.privateChatMessages$.subscribe(n=>{n.content=`(Private) ${n.content}`,this.messages.push(n),this.scrollToBottom()})),this.connectionState!=="CONNECTED"&&this.connectionState!=="CONNECTING"&&this.websocketService.connect()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewChecked(){this.scrollToBottom()}sendMessage(){if(!this.newMessage.trim()||!this.currentUserEmail)return;let n={sender:this.currentUserEmail,content:this.newMessage,type:"CHAT"};this.recipientEmail.trim()?(n.recipient=this.recipientEmail.trim(),this.websocketService.sendMessage("/app/chat.private",n)):this.websocketService.sendMessage("/app/chat.public",n),this.newMessage="",this.scrollToBottom()}scrollToBottom(){try{this.messageContainer?.nativeElement&&(this.messageContainer.nativeElement.scrollTop=this.messageContainer.nativeElement.scrollHeight)}catch(n){console.error("Could not scroll to bottom:",n)}}static{this.\u0275fac=function(i){return new(i||e)(D(r0),D($e))}}static{this.\u0275cmp=X({type:e,selectors:[["app-chat"]],viewQuery:function(i,r){if(i&1&&fi(eue,5),i&2){let s;Xe(s=Qe())&&(r.messageContainer=s.first)}},standalone:!0,features:[Te],decls:21,vars:12,consts:[["messageContainer",""],[1,"flex","flex-col","h-[calc(100vh-10rem)]","bg-white","rounded-lg","shadow-md"],[1,"p-4","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[3,"ngClass"],[1,"flex-1","p-4","overflow-y-auto","space-y-4","bg-gray-50"],["class","flex",3,"ngClass",4,"ngFor","ngForOf"],["class","text-center text-gray-400 italic",4,"ngIf"],[1,"p-4","border-t","border-gray-200","bg-gray-100"],[1,"flex","items-center","space-x-2","mb-2"],["for","recipient",1,"text-sm","font-medium","text-gray-700"],["id","recipient","type","email","placeholder","Leave blank for public chat",1,"flex-1","px-3","py-1","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","items-center","space-x-2"],["type","text","placeholder","Type your message...",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","rounded-md","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50",3,"click","disabled"],[1,"flex",3,"ngClass"],[1,"max-w-xs","lg:max-w-md","px-4","py-2","rounded-lg","shadow",3,"ngClass"],["class","text-xs font-semibold mb-1",4,"ngIf"],["class","text-xs mt-1 opacity-75 text-right",4,"ngIf"],[1,"text-xs","font-semibold","mb-1"],[1,"text-xs","mt-1","opacity-75","text-right"],[1,"text-center","text-gray-400","italic"]],template:function(i,r){if(i&1){let s=K();m(0,"div",1)(1,"div",2)(2,"h2",3),y(3,"Internal Chat"),p(),m(4,"p",4),y(5,"Status: "),m(6,"span",5),y(7),p()()(),m(8,"div",6,0),E(10,aue,6,14,"div",7)(11,lue,2,0,"div",8),p(),m(12,"div",9)(13,"div",10)(14,"label",11),y(15,"To (Email, optional for private):"),p(),m(16,"input",12),am("ngModelChange",function(a){return j(s),eb(r.recipientEmail,a)||(r.recipientEmail=a),H(a)}),p()(),m(17,"div",13)(18,"input",14),am("ngModelChange",function(a){return j(s),eb(r.newMessage,a)||(r.newMessage=a),H(a)}),N("keyup.enter",function(){return j(s),H(r.sendMessage())}),p(),m(19,"button",15),N("click",function(){return j(s),H(r.sendMessage())}),y(20," Send "),p()()()()}i&2&&(g(6),_("ngClass",Li(8,tue,r.connectionState==="CONNECTED",r.connectionState==="CONNECTING",r.connectionState==="ERROR"||r.connectionState==="DISCONNECTED")),g(),te(r.connectionState),g(3),_("ngForOf",r.messages),g(),_("ngIf",r.messages.length===0),g(5),om("ngModel",r.recipientEmail),g(2),om("ngModel",r.newMessage),_("disabled",r.connectionState!=="CONNECTED"),g(),_("disabled",!r.newMessage.trim()||r.connectionState!=="CONNECTED"))},dependencies:[we,Ct,et,de,Zn,BL,Tn,Jn,hw]})}}return e})();var yy=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.apiUrl=`${bt.apiUrl}/admin/users`}getUsers(n){let i=new Vt;return n&&(i=i.set("role",n)),this.http.get(this.apiUrl,{headers:this.authService.getAuthHeaders(),params:i})}getUserById(n){return this.http.get(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}createUser(n){if(!n.password)throw new Error("Password is required for creating a new user.");let s=n,{id:i}=s,r=ln(s,["id"]);return this.http.post(this.apiUrl,r,{headers:this.authService.getAuthHeaders()})}updateUser(n,i){return this.http.put(`${this.apiUrl}/${n}`,i,{headers:this.authService.getAuthHeaders()})}deleteUser(n){return this.http.delete(`${this.apiUrl}/${n}`,{headers:this.authService.getAuthHeaders()})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var cue=(e,t,n)=>({"bg-red-100 text-red-800":e,"bg-primary-100 text-primary-800":t,"bg-green-100 text-green-800":n});function uue(e,t){e&1&&(m(0,"div",8)(1,"p",9),y(2,"Loading users..."),p()())}function due(e,t){if(e&1){let n=K();m(0,"button",12),N("click",function(){j(n);let r=S(2);return H(r.loadUsers())}),y(1,"Retry"),p()}}function hue(e,t){if(e&1&&(m(0,"div",10),y(1),E(2,due,2,0,"button",11),p()),e&2){let n=S();g(),J(" ",n.errorMessage," "),g(),_("ngIf",!n.errorMessage.startsWith("Access Denied"))}}function fue(e,t){if(e&1){let n=K();m(0,"tr")(1,"td",22),y(2),p(),m(3,"td",23),y(4),p(),m(5,"td",23),y(6),p(),m(7,"td",24)(8,"span",25),y(9),p()(),m(10,"td",26)(11,"button",27),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.editUser(r.id))}),y(12," \u270E "),p(),m(13,"button",28),N("click",function(){let r=j(n).$implicit,s=S(3);return H(s.deleteUser(r.id))}),y(14," \u2716 "),p()()()}if(e&2){let n=t.$implicit,i=S(3);g(2),te(n.id),g(2),jt("",n.firstName," ",n.lastName,""),g(2),te(n.email),g(2),_("ngClass",Li(8,cue,n.role==="ADMIN",n.role==="DOCTOR",n.role==="SECRETARY")),g(),J(" ",n.role," "),g(2),_("disabled",i.isLoading),g(2),_("disabled",i.isLoading)}}function pue(e,t){if(e&1&&(m(0,"table",15)(1,"thead",16)(2,"tr")(3,"th",17),y(4,"ID"),p(),m(5,"th",17),y(6,"Name"),p(),m(7,"th",17),y(8,"Email"),p(),m(9,"th",17),y(10,"Role"),p(),m(11,"th",18)(12,"span",19),y(13,"Actions"),p()()()(),m(14,"tbody",20),E(15,fue,15,12,"tr",21),p()()),e&2){let n=S().ngIf;g(15),_("ngForOf",n)}}function mue(e,t){e&1&&(m(0,"p",29),y(1,"No users found."),p())}function gue(e,t){if(e&1&&(m(0,"div",13),E(1,pue,16,1,"table",14)(2,mue,2,0,"ng-template",null,0,rn),p()),e&2){let n=t.ngIf,i=Pt(3);g(),_("ngIf",n.length>0)("ngIfElse",i)}}var dH=(()=>{class e{constructor(n,i){this.userService=n,this.router=i,this.isLoading=!1,this.errorMessage=null}ngOnInit(){this.loadUsers()}loadUsers(n){this.isLoading=!0,this.errorMessage=null,this.users$=this.userService.getUsers(n),this.users$.subscribe({next:()=>this.isLoading=!1,error:i=>{this.isLoading=!1,this.errorMessage="Failed to load users. Please try again.",console.error("Error loading users:",i),i.status===403&&(this.errorMessage="Access Denied: You do not have permission to view users.")}})}editUser(n){this.router.navigate(["/admin/users/edit",n])}deleteUser(n){confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(this.isLoading=!0,this.userService.deleteUser(n).subscribe({next:()=>{console.log(`User ${n} deleted successfully.`),this.loadUsers()},error:i=>{this.isLoading=!1,this.errorMessage="Failed to delete user.",console.error("Error deleting user:",i),i.status===403&&(this.errorMessage="Access Denied: You do not have permission to delete users.")}}))}static{this.\u0275fac=function(i){return new(i||e)(D(yy),D(Ne))}}static{this.\u0275cmp=X({type:e,selectors:[["app-user-list"]],standalone:!0,features:[Te],decls:10,vars:5,consts:[["noUsers",""],[1,"p-6","bg-white","rounded-lg","shadow-md"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-semibold","text-gray-800"],["routerLink","/admin/users/new",1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","rounded-md","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],["class","ml-2 px-2 py-1 text-xs font-medium text-red-800 bg-red-200 rounded hover:bg-red-300",3,"click",4,"ngIf"],[1,"ml-2","px-2","py-1","text-xs","font-medium","text-red-800","bg-red-200","rounded","hover:bg-red-300",3,"click"],[1,"overflow-x-auto"],["class","min-w-full divide-y divide-gray-200",4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","space-x-2"],["title","Edit User",1,"text-primary-600","hover:text-primary-900","disabled:opacity-50",3,"click","disabled"],["title","Delete User",1,"text-red-600","hover:text-red-900","disabled:opacity-50",3,"click","disabled"],[1,"text-center","text-gray-500","py-4"]],template:function(i,r){i&1&&(m(0,"div",1)(1,"div",2)(2,"h2",3),y(3,"User Management"),p(),m(4,"a",4),y(5," Add New User "),p()(),E(6,uue,3,0,"div",5)(7,hue,3,2,"div",6)(8,gue,4,2,"div",7),ct(9,"async"),p()),i&2&&(g(6),_("ngIf",r.isLoading),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading&&!r.errorMessage&&Vn(9,3,r.users$)))},dependencies:[we,Ct,et,de,Qn,Vi]})}}return e})();var gu=e=>({"border-red-500":e});function vue(e,t){e&1&&(m(0,"div",5)(1,"p",6),y(2,"Loading user data..."),p()())}function yue(e,t){if(e&1&&(m(0,"div",7),y(1),p()),e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function _ue(e,t){e&1&&(m(0,"div",30),y(1," First name is required. "),p())}function xue(e,t){e&1&&(m(0,"div",30),y(1," Last name is required. "),p())}function bue(e,t){e&1&&(m(0,"span"),y(1,"Email is required."),p())}function Cue(e,t){e&1&&(m(0,"span"),y(1,"Please enter a valid email address."),p())}function wue(e,t){if(e&1&&(m(0,"div",30),E(1,bue,2,0,"span",25)(2,Cue,2,0,"span",25),p()),e&2){let n,i,r=S(2);g(),_("ngIf",(n=r.userForm.get("email"))==null||n.errors==null?null:n.errors.required),g(),_("ngIf",(i=r.userForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function Sue(e,t){e&1&&(m(0,"div",30),y(1," Username is required. "),p())}function Tue(e,t){if(e&1&&(m(0,"option",31),y(1),p()),e&2){let n=t.$implicit;_("value",n),g(),te(n)}}function Due(e,t){e&1&&(m(0,"div",30),y(1," Role is required. "),p())}function Eue(e,t){e&1&&(m(0,"span",11),y(1,"*"),p())}function Aue(e,t){e&1&&(m(0,"span"),y(1,"(Leave blank to keep current password)"),p())}function Iue(e,t){e&1&&(m(0,"div",30),y(1," Password is required for new users. "),p())}function kue(e,t){if(e&1&&(m(0,"span"),y(1),p()),e&2){let n=S(2);g(),te(n.isEditMode?"Update User":"Create User")}}function Mue(e,t){e&1&&(m(0,"span"),y(1,"Saving..."),p())}function Rue(e,t){if(e&1){let n=K();m(0,"form",8),N("ngSubmit",function(){j(n);let r=S();return H(r.onSubmit())}),m(1,"div",9)(2,"div")(3,"label",10),y(4,"First Name "),m(5,"span",11),y(6,"*"),p()(),R(7,"input",12),E(8,_ue,2,0,"div",13),p(),m(9,"div")(10,"label",14),y(11,"Last Name "),m(12,"span",11),y(13,"*"),p()(),R(14,"input",15),E(15,xue,2,0,"div",13),p()(),m(16,"div")(17,"label",16),y(18,"Email "),m(19,"span",11),y(20,"*"),p()(),R(21,"input",17),E(22,wue,3,2,"div",13),p(),m(23,"div")(24,"label",18),y(25,"Username "),m(26,"span",11),y(27,"*"),p()(),R(28,"input",19),E(29,Sue,2,0,"div",13),p(),m(30,"div")(31,"label",20),y(32,"Role "),m(33,"span",11),y(34,"*"),p()(),m(35,"select",21),E(36,Tue,2,2,"option",22),p(),E(37,Due,2,0,"div",13),p(),m(38,"div")(39,"label",23),y(40," Password "),E(41,Eue,2,0,"span",24)(42,Aue,2,0,"span",25),p(),R(43,"input",26),E(44,Iue,2,0,"div",13),p(),m(45,"div",27)(46,"button",28),N("click",function(){j(n);let r=S();return H(r.goBack())}),y(47," Cancel "),p(),m(48,"button",29),E(49,kue,2,1,"span",25)(50,Mue,2,0,"span",25),p()()()}if(e&2){let n,i,r,s,o,a,l,c,u,d,h,f,v=S();_("formGroup",v.userForm),g(7),_("ngClass",ge(20,gu,((n=v.userForm.get("firstName"))==null?null:n.invalid)&&((n=v.userForm.get("firstName"))==null?null:n.touched))),g(),_("ngIf",((i=v.userForm.get("firstName"))==null?null:i.invalid)&&((i=v.userForm.get("firstName"))==null?null:i.touched)),g(6),_("ngClass",ge(22,gu,((r=v.userForm.get("lastName"))==null?null:r.invalid)&&((r=v.userForm.get("lastName"))==null?null:r.touched))),g(),_("ngIf",((s=v.userForm.get("lastName"))==null?null:s.invalid)&&((s=v.userForm.get("lastName"))==null?null:s.touched)),g(6),_("ngClass",ge(24,gu,((o=v.userForm.get("email"))==null?null:o.invalid)&&((o=v.userForm.get("email"))==null?null:o.touched))),g(),_("ngIf",((a=v.userForm.get("email"))==null?null:a.invalid)&&((a=v.userForm.get("email"))==null?null:a.touched)),g(6),_("ngClass",ge(26,gu,((l=v.userForm.get("username"))==null?null:l.invalid)&&((l=v.userForm.get("username"))==null?null:l.touched))),g(),_("ngIf",((c=v.userForm.get("username"))==null?null:c.invalid)&&((c=v.userForm.get("username"))==null?null:c.touched)),g(6),_("ngClass",ge(28,gu,((u=v.userForm.get("role"))==null?null:u.invalid)&&((u=v.userForm.get("role"))==null?null:u.touched))),g(),_("ngForOf",v.availableRoles),g(),_("ngIf",((d=v.userForm.get("role"))==null?null:d.invalid)&&((d=v.userForm.get("role"))==null?null:d.touched)),g(4),_("ngIf",!v.isEditMode),g(),_("ngIf",v.isEditMode),g(),_("required",!v.isEditMode)("ngClass",ge(30,gu,((h=v.userForm.get("password"))==null?null:h.invalid)&&((h=v.userForm.get("password"))==null?null:h.touched))),g(),_("ngIf",((f=v.userForm.get("password"))==null?null:f.invalid)&&((f=v.userForm.get("password"))==null?null:f.touched)&&!v.isEditMode),g(4),_("disabled",v.userForm.invalid||v.isLoading),g(),_("ngIf",!v.isLoading),g(),_("ngIf",v.isLoading)}}var NE=(()=>{class e{constructor(n,i,r,s){this.fb=n,this.userService=i,this.router=r,this.route=s,this.isEditMode=!1,this.userId=null,this.isLoading=!1,this.errorMessage=null,this.pageTitle="Create New User",this.availableRoles=["DOCTOR","SECRETARY"]}ngOnInit(){this.userForm=this.fb.group({username:["",De.required],email:["",[De.required,De.email]],firstName:["",De.required],lastName:["",De.required],role:["DOCTOR",De.required],password:[""]}),this.route.paramMap.subscribe(n=>{let i=n.get("id");i?(this.isEditMode=!0,this.userId=+i,this.pageTitle="Edit User",this.isEditMode?this.userForm.get("password")?.clearValidators():this.userForm.get("password")?.setValidators(De.required),this.userForm.get("password")?.updateValueAndValidity(),this.loadUserData(this.userId)):(this.userForm.get("password")?.setValidators(De.required),this.userForm.get("password")?.updateValueAndValidity())})}loadUserData(n){this.isLoading=!0,this.errorMessage=null,this.userService.getUserById(n).subscribe({next:i=>{this.isLoading=!1,this.userForm.patchValue(i)},error:i=>{this.isLoading=!1,this.errorMessage="Failed to load user data.",console.error("Error loading user:",i),i.status===403?this.errorMessage="Access Denied: You do not have permission to view this user.":i.status===404&&(this.errorMessage="User not found.")}})}onSubmit(){if(this.userForm.invalid){this.errorMessage="Please fill in all required fields correctly.",this.userForm.markAllAsTouched();return}this.isLoading=!0,this.errorMessage=null;let n=this.userForm.value;this.isEditMode&&!n.password?.trim()&&delete n.password,this.isEditMode&&this.userId?this.userService.updateUser(this.userId,n).subscribe({next:()=>{this.isLoading=!1,console.log("User updated successfully"),this.router.navigate(["/admin/users"])},error:i=>{this.isLoading=!1,this.errorMessage=this.extractBackendErrorMessage(i,"Failed to update user."),console.error("Error updating user:",i)}}):this.userService.createUser(n).subscribe({next:()=>{this.isLoading=!1,console.log("User created successfully"),this.router.navigate(["/admin/users"])},error:i=>{this.isLoading=!1,this.errorMessage=this.extractBackendErrorMessage(i,"Failed to create user."),console.error("Error creating user:",i)}})}extractBackendErrorMessage(n,i){return n?.error?.message?n.error.message:n?.message?n.message:n.status===403?"Access Denied: You do not have permission to perform this action.":n.status===400&&n?.error?.errors?"Validation failed. Please check the form fields.":i}goBack(){this.router.navigate(["/admin/users"])}static{this.\u0275fac=function(i){return new(i||e)(D(Ui),D(yy),D(Ne),D(mn))}}static{this.\u0275cmp=X({type:e,selectors:[["app-user-form"]],standalone:!0,features:[Te],decls:6,vars:4,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md","max-w-2xl","mx-auto"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","firstName","type","text","formControlName","firstName","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","type","text","formControlName","lastName","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","type","email","formControlName","email","required","","email","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["id","username","type","text","formControlName","username","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","role",1,"block","text-sm","font-medium","text-gray-700"],["id","role","formControlName","role","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["class","text-red-500",4,"ngIf"],[4,"ngIf"],["id","password","type","password","formControlName","password",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"required","ngClass"],[1,"flex","justify-end","space-x-4","pt-4"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"mt-1","text-xs","text-red-600"],[3,"value"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h2",1),y(2),p(),E(3,vue,3,0,"div",2)(4,yue,2,1,"div",3)(5,Rue,51,32,"form",4),p()),i&2&&(g(2),te(r.pageTitle),g(),_("ngIf",r.isLoading&&r.isEditMode),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading||!r.isEditMode))},dependencies:[we,Ct,et,de,$i,Hi,go,vo,Tn,Br,Jn,ji,wi,mw,bi,Ci]})}}return e})();var Df=function(e){return e.SCHEDULED="SCHEDULED",e.CONFIRMED="CONFIRMED",e.CHECKED_IN="CHECKED_IN",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.NO_SHOW="NO_SHOW",e}(Df||{}),hH=Object.values(Df);var fH=(()=>{class e{constructor(n,i){this.http=n,this.authService=i,this.apiUrl=`${bt.apiUrl}/staff`}getDoctors(){return this.http.get(`${this.apiUrl}/doctors`,{headers:this.authService.getAuthHeaders()})}static{this.\u0275fac=function(i){return new(i||e)(V(Qt),V($e))}}static{this.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ef=e=>({"border-red-500":e});function Nue(e,t){e&1&&(m(0,"div",5)(1,"p",6),y(2,"Loading appointment data..."),p()())}function Fue(e,t){if(e&1&&(m(0,"div",7),y(1),p()),e&2){let n=S();g(),J(" ",n.errorMessage," ")}}function Oue(e,t){if(e&1&&(m(0,"option",29),y(1),p()),e&2){let n=t.$implicit;_("value",n.id),g(),Jx(" ",n.lastName,", ",n.firstName," (ID: ",n.id,") ")}}function Pue(e,t){e&1&&(m(0,"div",30),y(1," Patient is required. "),p())}function Vue(e,t){if(e&1&&(m(0,"option",29),y(1),p()),e&2){let n=t.$implicit;_("value",n.id),g(),jt(" Dr. ",n.lastName,", ",n.firstName," ")}}function Bue(e,t){e&1&&(m(0,"div",30),y(1," Doctor is required. "),p())}function jue(e,t){e&1&&(m(0,"div",30),y(1," Start time is required. "),p())}function Hue(e,t){e&1&&(m(0,"div",30),y(1," End time is required. "),p())}function Uue(e,t){if(e&1&&(m(0,"option",29),y(1),p()),e&2){let n=t.$implicit;_("value",n),g(),te(n)}}function $ue(e,t){e&1&&(m(0,"div",30),y(1," Status is required. "),p())}function zue(e,t){if(e&1&&(m(0,"div")(1,"label",31),y(2,"Status "),m(3,"span",10),y(4,"*"),p()(),m(5,"select",32),E(6,Uue,2,2,"option",13),p(),E(7,$ue,2,0,"div",14),p()),e&2){let n,i,r=S(2);g(5),_("ngClass",ge(3,Ef,((n=r.appointmentForm.get("status"))==null?null:n.invalid)&&((n=r.appointmentForm.get("status"))==null?null:n.touched))),g(),_("ngForOf",r.appointmentStatuses),g(),_("ngIf",((i=r.appointmentForm.get("status"))==null?null:i.invalid)&&((i=r.appointmentForm.get("status"))==null?null:i.touched))}}function Gue(e,t){if(e&1&&(m(0,"span"),y(1),p()),e&2){let n=S(2);g(),te(n.isEditMode?"Update Appointment":"Create Appointment")}}function Wue(e,t){e&1&&(m(0,"span"),y(1,"Saving..."),p())}function que(e,t){if(e&1){let n=K();m(0,"form",8),N("ngSubmit",function(){j(n);let r=S();return H(r.onSubmit())}),m(1,"div")(2,"label",9),y(3,"Patient "),m(4,"span",10),y(5,"*"),p()(),m(6,"select",11)(7,"option",12),y(8,"Select a patient"),p(),E(9,Oue,2,4,"option",13),ct(10,"async"),p(),E(11,Pue,2,0,"div",14),p(),m(12,"div")(13,"label",15),y(14,"Doctor "),m(15,"span",10),y(16,"*"),p()(),m(17,"select",16)(18,"option",12),y(19,"Select a doctor"),p(),E(20,Vue,2,3,"option",13),ct(21,"async"),p(),E(22,Bue,2,0,"div",14),p(),m(23,"div")(24,"label",17),y(25,"Start Time "),m(26,"span",10),y(27,"*"),p()(),R(28,"input",18),E(29,jue,2,0,"div",14),p(),m(30,"div")(31,"label",19),y(32,"End Time "),m(33,"span",10),y(34,"*"),p()(),R(35,"input",20),E(36,Hue,2,0,"div",14),p(),m(37,"div")(38,"label",21),y(39,"Room (Optional)"),p(),R(40,"input",22),p(),m(41,"div")(42,"label",23),y(43,"Notes (Optional)"),p(),R(44,"textarea",24),p(),E(45,zue,8,5,"div",25),m(46,"div",26)(47,"button",27),N("click",function(){j(n);let r=S();return H(r.goBack())}),y(48," Cancel "),p(),m(49,"button",28),E(50,Gue,2,1,"span",25)(51,Wue,2,0,"span",25),p()()()}if(e&2){let n,i,r,s,o,a,l,c,u=S();_("formGroup",u.appointmentForm),g(6),_("ngClass",ge(19,Ef,((n=u.appointmentForm.get("patientId"))==null?null:n.invalid)&&((n=u.appointmentForm.get("patientId"))==null?null:n.touched))),g(3),_("ngForOf",Vn(10,15,u.patients$)),g(2),_("ngIf",((i=u.appointmentForm.get("patientId"))==null?null:i.invalid)&&((i=u.appointmentForm.get("patientId"))==null?null:i.touched)),g(6),_("ngClass",ge(21,Ef,((r=u.appointmentForm.get("doctorId"))==null?null:r.invalid)&&((r=u.appointmentForm.get("doctorId"))==null?null:r.touched))),g(3),_("ngForOf",Vn(21,17,u.doctors$)),g(2),_("ngIf",((s=u.appointmentForm.get("doctorId"))==null?null:s.invalid)&&((s=u.appointmentForm.get("doctorId"))==null?null:s.touched)),g(6),_("ngClass",ge(23,Ef,((o=u.appointmentForm.get("startTime"))==null?null:o.invalid)&&((o=u.appointmentForm.get("startTime"))==null?null:o.touched))),g(),_("ngIf",((a=u.appointmentForm.get("startTime"))==null?null:a.invalid)&&((a=u.appointmentForm.get("startTime"))==null?null:a.touched)),g(6),_("ngClass",ge(25,Ef,((l=u.appointmentForm.get("endTime"))==null?null:l.invalid)&&((l=u.appointmentForm.get("endTime"))==null?null:l.touched))),g(),_("ngIf",((c=u.appointmentForm.get("endTime"))==null?null:c.invalid)&&((c=u.appointmentForm.get("endTime"))==null?null:c.touched)),g(9),_("ngIf",u.isEditMode),g(4),_("disabled",u.appointmentForm.invalid||u.isLoading),g(),_("ngIf",!u.isLoading),g(),_("ngIf",u.isLoading)}}var FE=(()=>{class e{constructor(n,i,r,s,o,a){this.fb=n,this.appointmentService=i,this.patientService=r,this.staffService=s,this.router=o,this.route=a,this.isEditMode=!1,this.appointmentId=null,this.isLoading=!1,this.errorMessage=null,this.pageTitle="Schedule New Appointment",this.appointmentStatuses=hH}ngOnInit(){this.appointmentForm=this.fb.group({patientId:["",De.required],doctorId:["",De.required],startTime:["",De.required],endTime:["",De.required],room:[""],notes:[""],status:[Df.SCHEDULED]}),this.loadDropdownData(),this.route.paramMap.subscribe(n=>{let i=n.get("id");i&&(this.isEditMode=!0,this.appointmentId=+i,this.pageTitle="Edit Appointment",this.loadAppointmentData(this.appointmentId))})}loadDropdownData(){this.patients$=this.patientService.getPatients(),this.doctors$=this.staffService.getDoctors()}loadAppointmentData(n){this.isLoading=!0,this.errorMessage=null,this.appointmentService.getAppointmentById(n).subscribe({next:i=>{this.isLoading=!1,this.appointmentForm.patchValue(Ie(L({},i),{startTime:this.formatDateTimeForInput(i.startTime),endTime:this.formatDateTimeForInput(i.endTime)}))},error:i=>{this.isLoading=!1,this.errorMessage="Failed to load appointment data.",console.error("Error loading appointment:",i)}})}onSubmit(){if(this.appointmentForm.invalid){this.errorMessage="Please fill in all required fields correctly.",this.appointmentForm.markAllAsTouched();return}let n=this.appointmentForm.value,i=Ie(L({},n),{patientId:+n.patientId,doctorId:+n.doctorId,status:this.isEditMode?n.status:Df.SCHEDULED});this.isLoading=!0,this.errorMessage=null,(this.isEditMode&&this.appointmentId?this.appointmentService.updateAppointment(this.appointmentId,i):this.appointmentService.createAppointment(i)).subscribe({next:()=>{this.isLoading=!1,console.log(`Appointment ${this.isEditMode?"updated":"created"} successfully`),this.router.navigate(["/appointments"])},error:s=>{this.isLoading=!1,this.errorMessage=this.extractBackendErrorMessage(s,`Failed to ${this.isEditMode?"update":"create"} appointment.`),console.error(`Error ${this.isEditMode?"updating":"creating"} appointment:`,s)}})}formatDateTimeForInput(n){if(!n)return"";try{let i=new Date(n),r=i.getFullYear(),s=("0"+(i.getMonth()+1)).slice(-2),o=("0"+i.getDate()).slice(-2),a=("0"+i.getHours()).slice(-2),l=("0"+i.getMinutes()).slice(-2);return`${r}-${s}-${o}T${a}:${l}`}catch(i){return console.error("Error formatting date-time:",i),""}}extractBackendErrorMessage(n,i){return n?.error?.message&&n.status===400?n.error.message:n?.message?n.message:n.status===403?"Access Denied.":n.status===404?"Resource not found.":i}goBack(){this.router.navigate(["/appointments"])}static{this.\u0275fac=function(i){return new(i||e)(D(Ui),D(Qc),D(mu),D(fH),D(Ne),D(mn))}}static{this.\u0275cmp=X({type:e,selectors:[["app-appointment-form"]],standalone:!0,features:[Te],decls:6,vars:4,consts:[[1,"p-6","bg-white","rounded-lg","shadow-md","max-w-3xl","mx-auto"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],["class","text-center py-4",4,"ngIf"],["class","p-3 mb-4 text-sm text-red-700 bg-red-100 border border-red-400 rounded-md",4,"ngIf"],["class","space-y-6",3,"formGroup","ngSubmit",4,"ngIf"],[1,"text-center","py-4"],[1,"text-gray-500"],[1,"p-3","mb-4","text-sm","text-red-700","bg-red-100","border","border-red-400","rounded-md"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","patientId",1,"block","text-sm","font-medium","text-gray-700"],[1,"text-red-500"],["id","patientId","formControlName","patientId","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-1 text-xs text-red-600",4,"ngIf"],["for","doctorId",1,"block","text-sm","font-medium","text-gray-700"],["id","doctorId","formControlName","doctorId","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","startTime",1,"block","text-sm","font-medium","text-gray-700"],["id","startTime","type","datetime-local","formControlName","startTime","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","endTime",1,"block","text-sm","font-medium","text-gray-700"],["id","endTime","type","datetime-local","formControlName","endTime","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"],["for","room",1,"block","text-sm","font-medium","text-gray-700"],["id","room","type","text","formControlName","room",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],["for","notes",1,"block","text-sm","font-medium","text-gray-700"],["id","notes","formControlName","notes","rows","4",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm"],[4,"ngIf"],[1,"flex","justify-end","space-x-4","pt-4"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-md","shadow-sm","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500",3,"click"],["type","submit",1,"px-4","py-2","text-sm","font-medium","text-white","bg-primary-600","border","border-transparent","rounded-md","shadow-sm","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[3,"value"],[1,"mt-1","text-xs","text-red-600"],["for","status",1,"block","text-sm","font-medium","text-gray-700"],["id","status","formControlName","status","required","",1,"mt-1","block","w-full","px-3","py-2","border","border-gray-300","bg-white","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngClass"]],template:function(i,r){i&1&&(m(0,"div",0)(1,"h2",1),y(2),p(),E(3,Nue,3,0,"div",2)(4,Fue,2,1,"div",3)(5,que,52,27,"form",4),p()),i&2&&(g(2),te(r.pageTitle),g(),_("ngIf",r.isLoading&&r.isEditMode),g(),_("ngIf",r.errorMessage&&!r.isLoading),g(),_("ngIf",!r.isLoading||!r.isEditMode))},dependencies:[we,Ct,et,de,Qn,$i,Hi,go,vo,Tn,Br,Jn,ji,wi,bi,Ci]})}}return e})();var pH=(e,t)=>{let n=F($e),i=F(Ne);return n.isLoggedIn$.pipe(ai(1),fe(r=>r?!0:(i.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)))};var Yue=[{path:"login",component:HL},{path:"",component:LO,canActivate:[pH],children:[{path:"admin-dashboard",component:_3,canActivate:[Gt],data:{roles:["ADMIN"]}},{path:"doctor-dashboard",component:x3,canActivate:[Gt],data:{roles:["DOCTOR"]}},{path:"secretary-dashboard",component:b3,canActivate:[Gt],data:{roles:["SECRETARY"]}},{path:"appointments",component:tH,canActivate:[Gt],data:{roles:["ADMIN","DOCTOR","SECRETARY"]}},{path:"appointments/new",component:FE,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"appointments/edit/:id",component:FE,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"patients",component:nH,canActivate:[Gt],data:{roles:["ADMIN","DOCTOR","SECRETARY"]}},{path:"patients/new",component:AE,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"patients/edit/:id",component:AE,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"prescriptions",component:sH,canActivate:[Gt],data:{roles:["ADMIN","DOCTOR","SECRETARY"]}},{path:"prescriptions/new",component:RE,canActivate:[Gt],data:{roles:["DOCTOR"]}},{path:"patients/:patientId/prescriptions/new",component:RE,canActivate:[Gt],data:{roles:["DOCTOR"]}},{path:"invoices",component:lH,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"invoices/new",component:LE,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"chat",component:cH,canActivate:[Gt],data:{roles:["DOCTOR","SECRETARY"]}},{path:"invoices/edit/:id",component:LE,canActivate:[Gt],data:{roles:["ADMIN","SECRETARY"]}},{path:"admin/users",component:dH,canActivate:[Gt],data:{roles:["ADMIN"]}},{path:"admin/users/new",component:NE,canActivate:[Gt],data:{roles:["ADMIN"]}},{path:"admin/users/edit/:id",component:NE,canActivate:[Gt],data:{roles:["ADMIN"]}}]}],mH=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=qe({type:e})}static{this.\u0275inj=We({imports:[iw.forRoot(Yue),iw]})}}return e})();var gH={providers:[ux(mH),wM(SM([pR])),cR(),fR({timeOut:5e3,positionClass:"toast-top-right",preventDuplicates:!0})]};var vH=(()=>{class e{constructor(){this.title="clinic-frontend"}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=X({type:e,selectors:[["app-root"]],standalone:!0,features:[Te],decls:3,vars:0,consts:[[1,"h-screen","bg-gray-100"],[1,""]],template:function(i,r){i&1&&(m(0,"div",0)(1,"main",1),R(2,"router-outlet"),p()())},dependencies:[wd]})}}return e})();MM(vH,gH).catch(e=>console.error(e));
